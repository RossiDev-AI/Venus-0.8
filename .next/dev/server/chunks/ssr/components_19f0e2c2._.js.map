{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/layout/Header.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface HeaderProps {\n  activeTab: string;\n  setActiveTab: (tab: any) => void;\n}\n\nconst Header: React.FC<HeaderProps> = ({ activeTab, setActiveTab }) => {\n  return (\n    <header className=\"sticky top-0 z-[500] h-14 md:h-20 flex items-center justify-between px-4 md:px-12 bg-black/40 backdrop-blur-2xl border-b border-white/5\">\n      <div className=\"flex items-center gap-2 md:gap-4 shrink-0\">\n        <div className=\"relative group cursor-pointer\" onClick={() => setActiveTab('creation')}>\n          <div className=\"absolute inset-0 bg-indigo-600 rounded-lg blur-xl opacity-20 group-hover:opacity-40 transition-opacity animate-pulse\" />\n          <div className=\"relative w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-lg flex items-center justify-center shadow-2xl border border-white/10\">\n             <span className=\"text-white font-black text-xs md:text-sm\">V</span>\n          </div>\n        </div>\n        <div className=\"flex flex-col\">\n          <h1 className=\"text-sm md:text-xl font-black tracking-tighter uppercase leading-none text-white whitespace-nowrap\">Venus <span className=\"text-indigo-500\">AI</span></h1>\n          <span className=\"text-[7px] md:text-[10px] text-zinc-500 font-bold uppercase tracking-[0.2em] opacity-60 hidden sm:block\">Neural Studio v2.0</span>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-2 shrink-0\">\n          <div className=\"hidden sm:flex flex-col items-end mr-2\">\n              <span className=\"text-[6px] md:text-[8px] font-black text-indigo-500 uppercase tracking-widest\">System Load</span>\n              <div className=\"w-16 h-1 bg-white/5 rounded-full overflow-hidden mt-0.5\">\n                  <div className=\"h-full bg-indigo-500 animate-pulse\" style={{ width: '42%' }} />\n              </div>\n          </div>\n          <div className=\"px-2 py-1 rounded-lg bg-emerald-500/10 border border-emerald-500/30 text-[7px] md:text-[9px] mono text-emerald-400 uppercase font-black\">Online</div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,SAAgC,CAAC,EAAE,SAAS,EAAE,YAAY,EAAE;IAChE,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;wBAAgC,SAAS,IAAM,aAAa;;0CACzE,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;0CACZ,cAAA,8OAAC;oCAAK,WAAU;8CAA2C;;;;;;;;;;;;;;;;;kCAGhE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;;oCAAqG;kDAAM,8OAAC;wCAAK,WAAU;kDAAkB;;;;;;;;;;;;0CAC3J,8OAAC;gCAAK,WAAU;0CAA0G;;;;;;;;;;;;;;;;;;0BAI9H,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAAgF;;;;;;0CAChG,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAI,WAAU;oCAAqC,OAAO;wCAAE,OAAO;oCAAM;;;;;;;;;;;;;;;;;kCAGlF,8OAAC;wBAAI,WAAU;kCAA0I;;;;;;;;;;;;;;;;;;AAInK;uCAEe"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/layout/Navigation.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface NavItemProps {\n  id: any;\n  label: string;\n  icon: React.ReactNode;\n  badge?: number;\n  activeTab: string;\n  setActiveTab: (tab: any) => void;\n  isMobile?: boolean;\n}\n\nconst NavItem: React.FC<NavItemProps> = ({ id, label, icon, badge, activeTab, setActiveTab, isMobile }) => {\n  const isActive = activeTab === id;\n  return (\n    <button \n      onClick={() => setActiveTab(id)} \n      className={`relative flex flex-col items-center justify-center md:flex-row gap-1 md:gap-3 px-1 md:px-5 py-2 rounded-xl md:rounded-full transition-all duration-500 group\n        ${isActive ? 'text-white' : 'text-zinc-500 hover:text-zinc-300'}`}\n    >\n      {isActive && (\n        <div className=\"absolute inset-0 bg-indigo-600/10 md:bg-indigo-600 rounded-xl md:rounded-full blur-[4px] md:blur-none opacity-80 md:opacity-100 animate-in fade-in zoom-in-95\" />\n      )}\n      <div className={`relative flex flex-col md:flex-row items-center gap-1 md:gap-2 z-10 ${isActive && !isMobile && 'md:bg-indigo-600'}`}>\n         <span className={`text-lg md:text-xl transition-transform duration-300 group-hover:scale-110 ${isActive ? 'text-white' : 'text-zinc-500 group-hover:text-indigo-400'}`}>\n          {icon}\n         </span>\n         <span className=\"text-[7px] md:text-[10px] font-black uppercase tracking-widest whitespace-nowrap overflow-hidden max-w-[45px] md:max-w-none text-center\">\n           {label}\n         </span>\n         {badge !== undefined && badge > 0 && (\n           <span className=\"absolute -top-1 -right-1 md:static md:ml-1 px-1 min-w-[12px] h-[12px] bg-indigo-500 text-white text-[6px] md:text-[8px] font-black rounded-full flex items-center justify-center\">\n             {badge > 99 ? '99+' : badge}\n           </span>\n         )}\n      </div>\n    </button>\n  );\n};\n\ninterface NavigationProps {\n  activeTab: string;\n  setActiveTab: (tab: any) => void;\n  vaultCount: number;\n}\n\nconst Navigation: React.FC<NavigationProps> = ({ activeTab, setActiveTab, vaultCount }) => {\n  const NAVIGATION_ITEMS = [\n    { id: 'creation', label: 'Criar', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 4v16m8-8H4\" strokeWidth={2.5}/></svg> },\n    { id: 'workspace', label: 'Estúdio', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" strokeWidth={2.5}/></svg> },\n    { id: 'grading', label: 'Cores', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343\" strokeWidth={2.5}/></svg> },\n    { id: 'cinema', label: 'Cinema', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" strokeWidth={2.5}/></svg> },\n    { id: 'fusion', label: 'Fusion', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13 10V3L4 14h7v7l9-11h-7z\" strokeWidth={2.5}/></svg> },\n    { id: 'manual', label: 'Index', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" strokeWidth={2.5}/></svg> },\n    { id: 'vault', label: 'Vault', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" strokeWidth={2.5}/></svg>, badge: vaultCount },\n    { id: 'docs', label: 'Docs', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" strokeWidth={2.5}/></svg> },\n    { id: 'settings', label: 'Config', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" strokeWidth={2.5}/><circle cx=\"12\" cy=\"12\" r=\"3\" strokeWidth={2.5}/></svg> }\n  ];\n\n  return (\n    <>\n      {/* Desktop Navigation Dock */}\n      <nav className=\"hidden lg:flex items-center absolute top-[14px] left-1/2 -translate-x-1/2 z-[600] bg-zinc-900/60 backdrop-blur-3xl border border-white/10 p-1 rounded-full shadow-[0_8px_32px_rgba(0,0,0,0.5)] scale-90 xl:scale-100 origin-center\">\n        {NAVIGATION_ITEMS.map((item) => (\n          <NavItem key={item.id} {...item} activeTab={activeTab} setActiveTab={setActiveTab} />\n        ))}\n      </nav>\n\n      {/* Mobile All-Visible Floating Dock */}\n      <nav className=\"lg:hidden fixed bottom-4 left-2 right-2 z-[500] bg-black/85 backdrop-blur-3xl border border-white/10 h-20 rounded-[2.5rem] flex items-center justify-around px-2 shadow-[0_20px_50px_rgba(0,0,0,0.9)]\">\n        <div className=\"absolute inset-0 bg-gradient-to-t from-indigo-500/5 to-transparent pointer-events-none rounded-[2.5rem]\" />\n        {NAVIGATION_ITEMS.map((item) => (\n          <NavItem key={item.id} {...item} activeTab={activeTab} setActiveTab={setActiveTab} isMobile />\n        ))}\n      </nav>\n    </>\n  );\n};\n\nexport default Navigation;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/shared/AgentFeed.tsx"],"sourcesContent":["\nimport React, { useEffect, useRef, useState } from 'react';\nimport { AgentStatus, DeliberationStep } from '../../types';\n\ninterface AgentFeedProps {\n  logs: AgentStatus[];\n  isProcessing: boolean;\n  deliberation_flow?: DeliberationStep[];\n}\n\nconst AgentFeed: React.FC<AgentFeedProps> = ({ logs, isProcessing, deliberation_flow }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [viewMode, setViewMode] = useState<'terminal' | 'flow'>('terminal');\n\n  useEffect(() => {\n    if (containerRef.current) {\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\n    }\n  }, [logs, isProcessing]);\n\n  const getDeptColor = (dept?: string) => {\n    switch(dept) {\n      case 'Direction': return 'text-blue-400';\n      case 'Advanced': return 'text-indigo-400';\n      case 'Texture': return 'text-emerald-400';\n      case 'Casting': return 'text-pink-400';\n      default: return 'text-zinc-500';\n    }\n  };\n\n  const getLogStyle = (type: string) => {\n    if (type === 'Director') return 'bg-blue-500/5 border-blue-500/20';\n    if (type === 'Lighting Architect') return 'bg-amber-500/5 border-amber-500/20';\n    if (type === 'Texture Master') return 'bg-emerald-500/5 border-emerald-500/20';\n    if (type === 'Visual Archivist') return 'bg-indigo-600/10 border-indigo-500/30';\n    if (type === 'Meta-Prompt Translator') return 'bg-purple-500/10 border-purple-500/30';\n    return 'bg-zinc-900/40 border-white/5';\n  };\n\n  return (\n    <div className=\"bg-black border border-white/10 rounded-2xl overflow-hidden shadow-2xl relative flex flex-col h-full min-h-[400px]\">\n      <div className=\"bg-zinc-900/80 px-4 py-2 border-b border-white/5 flex items-center justify-between sticky top-0 z-20\">\n         <div className=\"flex gap-1.5\">\n            <div className=\"w-2.5 h-2.5 rounded-full bg-red-500/30 border border-red-500/50\" />\n            <div className=\"w-2.5 h-2.5 rounded-full bg-amber-500/30 border border-amber-500/50\" />\n            <div className=\"w-2.5 h-2.5 rounded-full bg-emerald-500/30 border border-emerald-500/50\" />\n         </div>\n         <div className=\"flex bg-black/40 p-0.5 rounded-lg border border-white/5\">\n            <button onClick={() => setViewMode('terminal')} className={`px-3 py-1 text-[8px] font-black uppercase tracking-widest rounded-md transition-all ${viewMode === 'terminal' ? 'bg-zinc-700 text-white' : 'text-zinc-600'}`}>Log</button>\n            <button onClick={() => setViewMode('flow')} className={`px-3 py-1 text-[8px] font-black uppercase tracking-widest rounded-md transition-all ${viewMode === 'flow' ? 'bg-zinc-700 text-white' : 'text-zinc-600'}`}>Flow</button>\n         </div>\n         <span className=\"hidden md:inline text-[7px] mono text-zinc-600 font-bold uppercase tracking-widest\">MAD_KERNEL_v12.2</span>\n      </div>\n\n      <div ref={containerRef} className=\"flex-1 overflow-y-auto p-5 space-y-3 mono text-[10px] scroll-smooth custom-scrollbar relative bg-[#020202]\">\n        <div className=\"absolute inset-0 pointer-events-none z-10 opacity-10 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_2px,3px_100%]\" />\n        {viewMode === 'terminal' ? (\n          <>\n            {logs.length === 0 && !isProcessing ? (\n              <div className=\"h-full flex flex-col items-center justify-center text-zinc-900\">\n                <p className=\"text-[9px] uppercase tracking-[0.8em] font-black animate-pulse\">KERNEL_STANDBY_</p>\n              </div>\n            ) : (\n              logs.map((log, i) => (\n                <div key={i} className={`animate-in fade-in slide-in-from-left-2 duration-300 p-3 rounded-xl border ${getLogStyle(log.type)}`}>\n                  <div className=\"flex items-start gap-3\">\n                    <span className=\"text-zinc-800 shrink-0 font-bold\">[{new Date(log.timestamp).toLocaleTimeString([], { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' })}]</span>\n                    <div className=\"flex flex-col gap-1 w-full\">\n                      <div className=\"flex justify-between items-center w-full\">\n                          <span className={`font-black shrink-0 ${getDeptColor(log.department)} uppercase tracking-tighter`}>{log.type.replace(/\\s/g, '_')}</span>\n                          {log.status === 'processing' && <span className=\"text-[6px] px-1 bg-white/5 rounded text-zinc-600 animate-pulse\">ANALYZING</span>}\n                      </div>\n                      <p className=\"text-zinc-400 leading-relaxed break-words border-l border-white/5 pl-3 py-1 mt-1\">\n                        {log.message}\n                        {i === logs.length - 1 && isProcessing && <span className=\"inline-block w-2 h-4 bg-indigo-500 ml-1 animate-pulse\" />}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </>\n        ) : (\n          <div className=\"space-y-6 py-4\">\n             {deliberation_flow && deliberation_flow.length > 0 ? deliberation_flow.map((step, i) => (\n                <div key={i} className=\"relative pl-8 before:absolute before:left-3 before:top-2 before:bottom-[-20px] before:w-0.5 before:bg-gradient-to-b before:from-indigo-500 before:to-transparent\">\n                   <div className=\"absolute left-1.5 top-1.5 w-3.5 h-3.5 bg-indigo-600 rounded-full border-2 border-black z-10 flex items-center justify-center\" />\n                   <div className=\"bg-zinc-900/60 p-4 rounded-2xl border border-white/5 space-y-2\">\n                      <div className=\"flex justify-between items-center\">\n                         <span className=\"text-[8px] font-black text-indigo-400 uppercase tracking-widest\">{step.from} → {step.to}</span>\n                         <span className=\"text-[7px] text-zinc-600 mono\">{new Date(step.timestamp).toLocaleTimeString()}</span>\n                      </div>\n                      <p className=\"text-[10px] font-black text-white uppercase\">{step.action}</p>\n                      <div className=\"flex items-center gap-2 bg-black/40 p-2 rounded-lg\">\n                         <div className=\"w-1 h-1 bg-emerald-500 rounded-full\" />\n                         <span className=\"text-[8px] text-zinc-400 mono italic\">{step.impact}</span>\n                      </div>\n                   </div>\n                </div>\n             )) : <div className=\"text-zinc-800 text-center py-20 uppercase font-black tracking-widest text-[9px]\">Awaiting decision trace</div>}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AgentFeed;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/ZCodeVisualizer.tsx"],"sourcesContent":["\nimport React, { useState, useCallback, useRef } from 'react';\nimport { LatentParams } from '../types';\n\ninterface ZCodeVisualizerProps {\n  params: LatentParams;\n  onParamChange?: (key: keyof LatentParams, value: number) => void;\n}\n\nconst ZCodeVisualizer: React.FC<ZCodeVisualizerProps> = ({ params, onParamChange }) => {\n  const { z_anatomy = 1.0, z_structure = 1.0, z_lighting = 0.5, z_texture = 0.5 } = params;\n  const [activeLayer, setActiveLayer] = useState<string | null>(null);\n  const startY = useRef<number>(0);\n  const startVal = useRef<number>(0);\n\n  const handleStart = (e: React.MouseEvent | React.TouchEvent, layer: string, currentVal: number) => {\n    e.preventDefault();\n    setActiveLayer(layer);\n    startY.current = 'touches' in e ? e.touches[0].clientY : e.clientY;\n    startVal.current = currentVal;\n    document.body.style.userSelect = 'none';\n  };\n\n  const handleMove = useCallback((e: MouseEvent | TouchEvent) => {\n    if (!activeLayer || !onParamChange) return;\n\n    const currentY = 'touches' in e ? e.touches[0].clientY : e.clientY;\n    const deltaY = startY.current - currentY;\n    const sensitivity = 0.005;\n    \n    let newVal = startVal.current + (deltaY * sensitivity);\n    const maxVal = (activeLayer === 'z_structure' || activeLayer === 'z_anatomy') ? 1.5 : 1.0;\n    newVal = Math.min(Math.max(newVal, 0), maxVal);\n\n    onParamChange(activeLayer as keyof LatentParams, newVal);\n  }, [activeLayer, onParamChange]);\n\n  const handleEnd = useCallback(() => {\n    setActiveLayer(null);\n    document.body.style.userSelect = '';\n  }, []);\n\n  React.useEffect(() => {\n    if (activeLayer) {\n      window.addEventListener('mousemove', handleMove);\n      window.addEventListener('mouseup', handleEnd);\n      window.addEventListener('touchmove', handleMove);\n      window.addEventListener('touchend', handleEnd);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMove);\n      window.removeEventListener('mouseup', handleEnd);\n      window.removeEventListener('touchmove', handleMove);\n      window.removeEventListener('touchend', handleEnd);\n    };\n  }, [activeLayer, handleMove, handleEnd]);\n\n  return (\n    <div className=\"relative w-full aspect-video md:aspect-[21/9] flex items-center justify-center overflow-hidden bg-black/40 rounded-3xl border border-white/5 mb-8 group cursor-default\">\n      <div className={`absolute top-4 left-1/2 -translate-x-1/2 px-4 py-1.5 bg-indigo-500/20 border border-indigo-500/40 rounded-full text-[8px] mono text-indigo-300 font-black uppercase tracking-[0.3em] transition-opacity duration-500 z-50 pointer-events-none ${activeLayer ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'}`}>\n        {activeLayer ? `Modulating ${activeLayer.replace('z_', '').toUpperCase()}...` : 'Drag layers vertically to modulate studio weights'}\n      </div>\n\n      <div className=\"relative w-full h-full perspective-[1200px] flex items-center justify-center\">\n        <div className={`relative transform-gpu transition-transform duration-1000 ease-out rotate-x-[60deg] rotate-z-[-25deg] scale-75 md:scale-90 ${activeLayer ? '' : 'group-hover:rotate-x-[55deg] group-hover:rotate-z-[-20deg]'}`}>\n          \n          {/* Z_ANATOMY (Deep Foundational Layer) */}\n          <div \n            onMouseDown={(e) => handleStart(e, 'z_anatomy', z_anatomy)}\n            onTouchStart={(e) => handleStart(e, 'z_anatomy', z_anatomy)}\n            className={`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[320px] h-[220px] border-2 backdrop-blur-sm transition-all duration-300 cursor-ns-resize ${activeLayer === 'z_anatomy' ? 'border-pink-400 bg-pink-500/30 scale-105 shadow-[0_0_50px_rgba(236,72,153,0.2)]' : 'border-pink-500/40 bg-pink-500/10 hover:border-pink-400/60'}`}\n            style={{ \n              transform: `translate3d(-50%, -50%, -40px)`,\n              opacity: 0.2 + (z_anatomy * 0.4)\n            }}\n          >\n            <div className=\"absolute -top-6 -left-6 text-[8px] mono font-black uppercase tracking-widest transition-colors text-pink-400\">\n              Z_ANATOMY [Pose/DNA]\n            </div>\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[16px] font-black text-pink-400/20 select-none\">BONE</div>\n          </div>\n\n          {/* Z_STRUCTURE */}\n          <div \n            onMouseDown={(e) => handleStart(e, 'z_structure', z_structure)}\n            onTouchStart={(e) => handleStart(e, 'z_structure', z_structure)}\n            className={`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[200px] border-2 backdrop-blur-sm transition-all duration-300 cursor-ns-resize ${activeLayer === 'z_structure' ? 'border-indigo-400 bg-indigo-500/30 scale-105 shadow-[0_0_50px_rgba(99,102,241,0.2)]' : 'border-indigo-500/40 bg-indigo-500/10 hover:border-indigo-400/60'}`}\n            style={{ \n              transform: `translate3d(-50%, -50%, 20px)`,\n              opacity: 0.2 + (z_structure * 0.5)\n            }}\n          >\n            <div className={`absolute -top-6 -left-6 text-[8px] mono font-black uppercase tracking-widest transition-colors text-indigo-400`}>\n              Z_STRUCTURE [Geometry]\n            </div>\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[16px] font-black text-indigo-400/20 select-none\">GEOM</div>\n          </div>\n\n          {/* Z_LIGHTING */}\n          <div \n            onMouseDown={(e) => handleStart(e, 'z_lighting', z_lighting)}\n            onTouchStart={(e) => handleStart(e, 'z_lighting', z_lighting)}\n            className={`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[280px] h-[180px] border-2 backdrop-blur-sm transition-all duration-300 cursor-ns-resize ${activeLayer === 'z_lighting' ? 'border-amber-400 bg-amber-500/30 scale-105 shadow-[0_0_50px_rgba(245,158,11,0.2)]' : 'border-amber-500/40 bg-amber-500/10 hover:border-amber-400/60'}`}\n            style={{ \n              transform: `translate3d(-50%, -50%, 80px)`,\n              opacity: 0.1 + (z_lighting * 0.6)\n            }}\n          >\n             <div className={`absolute -top-6 -left-6 text-[8px] mono font-black uppercase tracking-widest transition-colors text-amber-400`}>\n              Z_LIGHTING [Photons]\n            </div>\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[16px] font-black text-amber-400/20 select-none\">RAD</div>\n          </div>\n\n          {/* Z_TEXTURE */}\n          <div \n            onMouseDown={(e) => handleStart(e, 'z_texture', z_texture)}\n            onTouchStart={(e) => handleStart(e, 'z_texture', z_texture)}\n            className={`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[260px] h-[160px] border-2 backdrop-blur-sm transition-all duration-300 cursor-ns-resize ${activeLayer === 'z_texture' ? 'border-emerald-400 bg-emerald-500/30 scale-105 shadow-[0_0_50px_rgba(16,185,129,0.2)]' : 'border-emerald-500/40 bg-emerald-500/10 hover:border-emerald-400/60'}`}\n            style={{ \n              transform: `translate3d(-50%, -50%, 140px)`,\n              opacity: 0.1 + (z_texture * 0.7)\n            }}\n          >\n            <div className={`absolute -top-6 -left-6 text-[8px] mono font-black uppercase tracking-widest transition-colors text-emerald-400`}>\n              Z_TEXTURE [Pores]\n            </div>\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[16px] font-black text-emerald-400/20 select-none\">TEX</div>\n          </div>\n        </div>\n\n        {/* Dynamic Frequency Bars */}\n        <div className=\"absolute top-1/2 right-10 -translate-y-1/2 space-y-4 opacity-50 group-hover:opacity-100 transition-opacity\">\n           <div className={`w-1 transition-all duration-300 ${activeLayer === 'z_anatomy' ? 'h-16' : 'h-12'} bg-white/5 rounded-full overflow-hidden`}>\n              <div className=\"w-full bg-pink-500 transition-all\" style={{ height: `${(z_anatomy / 1.5) * 100}%` }} />\n           </div>\n           <div className={`w-1 transition-all duration-300 ${activeLayer === 'z_structure' ? 'h-16' : 'h-12'} bg-white/5 rounded-full overflow-hidden`}>\n              <div className=\"w-full bg-indigo-500 transition-all\" style={{ height: `${(z_structure / 1.5) * 100}%` }} />\n           </div>\n           <div className={`w-1 transition-all duration-300 ${activeLayer === 'z_lighting' ? 'h-16' : 'h-12'} bg-white/5 rounded-full overflow-hidden`}>\n              <div className=\"w-full bg-amber-500 transition-all\" style={{ height: `${z_lighting * 100}%` }} />\n           </div>\n           <div className={`w-1 transition-all duration-300 ${activeLayer === 'z_texture' ? 'h-16' : 'h-12'} bg-white/5 rounded-full overflow-hidden`}>\n              <div className=\"w-full bg-emerald-500 transition-all\" style={{ height: `${z_texture * 100}%` }} />\n           </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ZCodeVisualizer;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1122, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/modals/ZModeModal.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { LatentParams } from '../../types';\nimport ZCodeVisualizer from '../ZCodeVisualizer';\n\ninterface ZModeModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  params: LatentParams;\n  setParams: React.Dispatch<React.SetStateAction<LatentParams>>;\n  onAutoTune: () => void;\n}\n\nconst ZModeModal: React.FC<ZModeModalProps> = ({ isOpen, onClose, params, setParams }) => {\n  if (!isOpen) return null;\n\n  const sliders = [\n    { key: 'z_anatomy', label: 'Z_ANATOMY (DNA/Pose Lock)', min: 0, max: 1.5, step: 0.01, hz: '< 0.1 Hz' },\n    { key: 'z_structure', label: 'Z_STRUCTURE (Geometry)', min: 0, max: 1.5, step: 0.01, hz: '0.1 - 5 Hz' },\n    { key: 'z_lighting', label: 'Z_LIGHTING (Shadows)', min: 0, max: 1, step: 0.01, hz: '5 - 30 Hz' },\n    { key: 'z_texture', label: 'Z_TEXTURE (Surface)', min: 0, max: 1, step: 0.01, hz: '30 - 128 Hz' },\n  ];\n\n  const handleParamChange = (key: keyof LatentParams, value: number) => {\n    if (params.auto_tune_active) return;\n    setParams(prev => ({ ...prev, [key]: value }));\n  };\n\n  const toggleAutoTune = () => {\n    setParams(prev => ({ ...prev, auto_tune_active: !prev.auto_tune_active }));\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-[9999] flex items-center justify-center overflow-hidden p-0 sm:p-4\">\n      <div className=\"absolute inset-0 bg-black/90 backdrop-blur-2xl\" onClick={onClose} />\n      \n      <div className=\"relative w-full max-w-2xl h-full md:h-auto max-h-[95vh] md:max-h-[85vh] bg-[#121215] border-x md:border border-white/10 md:rounded-[3rem] overflow-hidden shadow-[0_0_120px_rgba(79,70,229,0.15)] flex flex-col\">\n        <div className=\"px-6 py-4 md:px-10 md:py-8 border-b border-white/10 flex items-center justify-between sticky top-0 bg-[#121215] z-[10000]\">\n          <button onClick={onClose} className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-white transition-all\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M15 19l-7-7 7-7\" /></svg>\n            Back\n          </button>\n          \n          <div className=\"flex items-center gap-4 bg-zinc-900/50 px-5 py-2 rounded-full border border-white/10\">\n              <div className=\"flex flex-col\">\n                 <span className=\"text-[8px] font-black text-zinc-500 uppercase tracking-widest leading-none\">Neural Override</span>\n                 <span className={`text-[7px] font-bold uppercase transition-colors ${params.auto_tune_active ? 'text-indigo-400' : 'text-zinc-700'}`}>{params.auto_tune_active ? 'Active Pilot' : 'Manual Mode'}</span>\n              </div>\n              <button onClick={toggleAutoTune} className={`relative w-10 h-5 rounded-full transition-all duration-500 ${params.auto_tune_active ? 'bg-indigo-600 shadow-[0_0_15px_rgba(79,70,229,0.5)]' : 'bg-zinc-800'}`}>\n                  <div className={`absolute top-1 w-3 h-3 rounded-full bg-white transition-all duration-500 ${params.auto_tune_active ? 'left-6' : 'left-1'}`} />\n              </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-6 md:p-10 space-y-10 scroll-smooth pb-24 relative\">\n          <ZCodeVisualizer params={params} onParamChange={handleParamChange} />\n          <div className=\"space-y-8\">\n            {sliders.map((s) => (\n              <div key={s.key} className={`space-y-4 transition-all duration-700 ${params.auto_tune_active ? 'opacity-40 saturate-0' : 'opacity-100'}`}>\n                <div className=\"flex justify-between items-end\">\n                  <div className=\"flex flex-col\">\n                      <label className=\"text-[11px] font-black text-zinc-200 uppercase tracking-wider\">{s.label}</label>\n                      <span className=\"text-[8px] mono text-indigo-400 font-bold uppercase\">{s.hz}</span>\n                  </div>\n                  <span className=\"text-sm font-black text-indigo-400 mono tracking-tighter\">{((params as any)[s.key] * 100).toFixed(1)}%</span>\n                </div>\n                <input type=\"range\" disabled={params.auto_tune_active} min={s.min} max={s.max} step={s.step} value={(params as any)[s.key]} onChange={(e) => handleParamChange(s.key as keyof LatentParams, parseFloat(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-indigo-500\" />\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-8 bg-[#121215]/95 border-t border-white/10 sticky bottom-0 z-[10000]\">\n          <button onClick={onClose} className=\"w-full py-5 bg-white text-black hover:bg-zinc-100 rounded-2xl text-[11px] font-black tracking-[0.4em] uppercase transition-all shadow-2xl active:scale-95\">Confirm Configuration</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ZModeModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1408, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/modals/LGNEditor.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { LatentGrading } from '../../types';\n\ninterface LGNEditorProps {\n  isOpen: boolean;\n  onClose: () => void;\n  grading: LatentGrading;\n  onChange: (newGrading: LatentGrading) => void;\n}\n\nconst LGNEditor: React.FC<LGNEditorProps> = ({ isOpen, onClose, grading, onChange }) => {\n  if (!isOpen) return null;\n\n  const updateParam = (key: keyof LatentGrading, val: any) => {\n    const next = { ...grading, [key]: val };\n    next.css_filter_string = `brightness(${next.brightness}) contrast(${next.contrast}) saturate(${next.saturation}) blur(${next.blur}px) sepia(${next.sepia}) hue-rotate(${next.hueRotate}deg)`;\n    onChange(next);\n  };\n\n  const applyPreset = (name: string, filter: string) => {\n    onChange({\n      ...grading,\n      preset_name: name,\n      css_filter_string: filter\n    });\n  };\n\n  const controls = [\n    { key: 'brightness', label: 'Exposure', min: 0.5, max: 1.5, step: 0.01 },\n    { key: 'contrast', label: 'Contrast', min: 0.5, max: 1.5, step: 0.01 },\n    { key: 'saturation', label: 'Saturation', min: 0, max: 2.0, step: 0.01 },\n    { key: 'blur', label: 'Haze / Focus', min: 0, max: 5, step: 0.1 },\n    { key: 'sepia', label: 'Warmth', min: 0, max: 1, step: 0.01 },\n    { key: 'hueRotate', label: 'Hue Rotate', min: -180, max: 180, step: 1 },\n  ];\n\n  return (\n    <div className=\"fixed inset-0 z-[1000] flex items-center justify-center p-4\">\n      <div className=\"absolute inset-0 bg-black/90 backdrop-blur-xl\" onClick={onClose} />\n      \n      <div className=\"relative w-full max-w-xl bg-[#0b0b0d] border border-white/10 rounded-[3rem] overflow-hidden shadow-2xl flex flex-col max-h-[90vh]\">\n        <div className=\"px-8 py-6 border-b border-white/5 flex justify-between items-center bg-zinc-900/10\">\n          <div className=\"flex flex-col\">\n            <h3 className=\"text-[10px] font-black text-indigo-400 uppercase tracking-[0.4em]\">LGN_LOW_LEVEL_MASTERING</h3>\n            <p className=\"text-[8px] mono text-zinc-600 uppercase font-bold tracking-widest\">Industrial Core v12.1</p>\n          </div>\n          <button onClick={onClose} className=\"text-zinc-500 hover:text-white transition-all\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M6 18L18 6M6 6l12 12\" strokeWidth={3}/></svg>\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-8 space-y-8 custom-scrollbar\">\n          <div className=\"space-y-6\">\n            <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest px-1\">Low-Level Sliders</label>\n            {controls.map((ctrl) => (\n              <div key={ctrl.key} className=\"space-y-2.5\">\n                <div className=\"flex justify-between items-center px-1\">\n                  <span className=\"text-[10px] font-black text-zinc-300 uppercase tracking-widest\">{ctrl.label}</span>\n                  <span className=\"text-[10px] mono text-indigo-400 font-bold\">{(grading as any)[ctrl.key]}</span>\n                </div>\n                <input type=\"range\" min={ctrl.min} max={ctrl.max} step={ctrl.step} value={(grading as any)[ctrl.key]} onChange={(e) => updateParam(ctrl.key as any, parseFloat(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-indigo-500\" />\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-8 bg-[#0e0e11] border-t border-white/5\">\n           <button onClick={onClose} className=\"w-full py-4 bg-indigo-600 text-white rounded-2xl font-black uppercase tracking-[0.4em] text-[10px] shadow-2xl active:scale-95 transition-all\">Commit Master Grading</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LGNEditor;\n"],"names":[],"mappings":";;;;;;AAWA,MAAM,YAAsC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE;IACjF,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc,CAAC,KAA0B;QAC7C,MAAM,OAAO;YAAE,GAAG,OAAO;YAAE,CAAC,IAAI,EAAE;QAAI;QACtC,KAAK,iBAAiB,GAAG,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,WAAW,EAAE,KAAK,QAAQ,CAAC,WAAW,EAAE,KAAK,UAAU,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,UAAU,EAAE,KAAK,KAAK,CAAC,aAAa,EAAE,KAAK,SAAS,CAAC,IAAI,CAAC;QAC5L,SAAS;IACX;IAEA,MAAM,cAAc,CAAC,MAAc;QACjC,SAAS;YACP,GAAG,OAAO;YACV,aAAa;YACb,mBAAmB;QACrB;IACF;IAEA,MAAM,WAAW;QACf;YAAE,KAAK;YAAc,OAAO;YAAY,KAAK;YAAK,KAAK;YAAK,MAAM;QAAK;QACvE;YAAE,KAAK;YAAY,OAAO;YAAY,KAAK;YAAK,KAAK;YAAK,MAAM;QAAK;QACrE;YAAE,KAAK;YAAc,OAAO;YAAc,KAAK;YAAG,KAAK;YAAK,MAAM;QAAK;QACvE;YAAE,KAAK;YAAQ,OAAO;YAAgB,KAAK;YAAG,KAAK;YAAG,MAAM;QAAI;QAChE;YAAE,KAAK;YAAS,OAAO;YAAU,KAAK;YAAG,KAAK;YAAG,MAAM;QAAK;QAC5D;YAAE,KAAK;YAAa,OAAO;YAAc,KAAK,CAAC;YAAK,KAAK;YAAK,MAAM;QAAE;KACvE;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;gBAAgD,SAAS;;;;;;0BAExE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAoE;;;;;;kDAClF,8OAAC;wCAAE,WAAU;kDAAoE;;;;;;;;;;;;0CAEnF,8OAAC;gCAAO,SAAS;gCAAS,WAAU;0CAClC,cAAA,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAAuB,aAAa;;;;;;;;;;;;;;;;;;;;;;kCAI/H,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAAqE;;;;;;gCACrF,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC;wCAAmB,WAAU;;0DAC5B,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAkE,KAAK,KAAK;;;;;;kEAC5F,8OAAC;wDAAK,WAAU;kEAA8C,AAAC,OAAe,CAAC,KAAK,GAAG,CAAC;;;;;;;;;;;;0DAE1F,8OAAC;gDAAM,MAAK;gDAAQ,KAAK,KAAK,GAAG;gDAAE,KAAK,KAAK,GAAG;gDAAE,MAAM,KAAK,IAAI;gDAAE,OAAO,AAAC,OAAe,CAAC,KAAK,GAAG,CAAC;gDAAE,UAAU,CAAC,IAAM,YAAY,KAAK,GAAG,EAAS,WAAW,EAAE,MAAM,CAAC,KAAK;gDAAI,WAAU;;;;;;;uCALnL,KAAK,GAAG;;;;;;;;;;;;;;;;kCAWxB,8OAAC;wBAAI,WAAU;kCACZ,cAAA,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAA+I;;;;;;;;;;;;;;;;;;;;;;;AAK9L;uCAEe"}},
    {"offset": {"line": 1654, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/shared/MetricsDashboard.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { LatentParams } from '../../types';\n\ninterface MetricsDashboardProps {\n  params: LatentParams;\n}\n\nconst MetricsDashboard: React.FC<MetricsDashboardProps> = ({ params }) => {\n  const m = params.neural_metrics;\n  const speed = params.processing_speed || 'Balanced';\n  const reflectionCycles = speed === 'Fast' ? 1 : speed === 'Balanced' ? 3 : speed === 'Deliberate' ? 8 : 16;\n\n  const MetricCard = ({ title, value, sub, color }: { title: string, value: string | number, sub: string, color: string }) => (\n    <div className=\"bg-zinc-900/30 border border-white/5 p-4 rounded-2xl space-y-1 hover:bg-zinc-800/40 transition-colors\">\n      <p className=\"text-[8px] font-black uppercase text-zinc-500 tracking-widest\">{title}</p>\n      <p className={`text-xl font-black mono ${color}`}>{value}</p>\n      <p className=\"text-[7px] text-zinc-600 font-bold uppercase\">{sub}</p>\n    </div>\n  );\n\n  return (\n    <div className=\"flex flex-col gap-4 p-6 bg-black/40 border-y border-white/5\">\n        <div className=\"grid grid-cols-2 md:grid-cols-6 gap-4\">\n            <MetricCard title=\"Projection Index\" value={`${((m.projection_coherence || 0.94) * 100).toFixed(1)}%`} sub=\"L->X PHOTON\" color=\"text-emerald-400\" />\n            <MetricCard title=\"Identity Lock\" value=\"99.42%\" sub=\"V11_IDENTITY\" color=\"text-indigo-400\" />\n            <MetricCard title=\"Gravity Stability\" value=\"100%\" sub=\"IK_CENTER\" color=\"text-pink-400\" />\n            <MetricCard title=\"Reflection Steps\" value={reflectionCycles} sub=\"NEURAL_DEPTH\" color=\"text-cyan-400\" />\n            <MetricCard title=\"Perspective Sync\" value=\"1.0\" sub=\"V_POINT\" color=\"text-amber-400\" />\n            <div className=\"bg-zinc-900/30 border border-indigo-500/20 p-4 rounded-2xl\">\n                <p className=\"text-[8px] font-black uppercase text-indigo-500 tracking-widest\">VERDICT</p>\n                <span className=\"text-[10px] font-black text-emerald-400 uppercase mt-2 block\">PASSED // STABLE</span>\n            </div>\n        </div>\n    </div>\n  );\n};\n\nexport default MetricsDashboard;\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,mBAAoD,CAAC,EAAE,MAAM,EAAE;IACnE,MAAM,IAAI,OAAO,cAAc;IAC/B,MAAM,QAAQ,OAAO,gBAAgB,IAAI;IACzC,MAAM,mBAAmB,UAAU,SAAS,IAAI,UAAU,aAAa,IAAI,UAAU,eAAe,IAAI;IAExG,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAyE,iBACrH,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAAiE;;;;;;8BAC9E,8OAAC;oBAAE,WAAW,CAAC,wBAAwB,EAAE,OAAO;8BAAG;;;;;;8BACnD,8OAAC;oBAAE,WAAU;8BAAgD;;;;;;;;;;;;IAIjE,qBACE,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAW,OAAM;oBAAmB,OAAO,GAAG,CAAC,CAAC,EAAE,oBAAoB,IAAI,IAAI,IAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;oBAAE,KAAI;oBAAc,OAAM;;;;;;8BAC/H,8OAAC;oBAAW,OAAM;oBAAgB,OAAM;oBAAS,KAAI;oBAAe,OAAM;;;;;;8BAC1E,8OAAC;oBAAW,OAAM;oBAAoB,OAAM;oBAAO,KAAI;oBAAY,OAAM;;;;;;8BACzE,8OAAC;oBAAW,OAAM;oBAAmB,OAAO;oBAAkB,KAAI;oBAAe,OAAM;;;;;;8BACvF,8OAAC;oBAAW,OAAM;oBAAmB,OAAM;oBAAM,KAAI;oBAAU,OAAM;;;;;;8BACrE,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAE,WAAU;sCAAkE;;;;;;sCAC/E,8OAAC;4BAAK,WAAU;sCAA+D;;;;;;;;;;;;;;;;;;;;;;;AAK/F;uCAEe"}},
    {"offset": {"line": 1794, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/shared/ProcessingControl.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { ProcessingSpeed } from '../../types';\n\ninterface ProcessingControlProps {\n  speed: ProcessingSpeed;\n  setSpeed: (speed: ProcessingSpeed) => void;\n}\n\nconst ProcessingControl: React.FC<ProcessingControlProps> = ({ speed, setSpeed }) => {\n  const modes: { id: ProcessingSpeed; label: string; desc: string; icon: string; color: string }[] = [\n    { id: 'Fast', label: 'Fast', desc: 'Minimal.', icon: '⚡', color: 'text-amber-400' },\n    { id: 'Balanced', label: 'Balanced', desc: 'Standard.', icon: '⚖️', color: 'text-indigo-400' },\n    { id: 'Deliberate', label: 'Deliberate', desc: 'Deep.', icon: '🎯', color: 'text-emerald-400' },\n    { id: 'Debug', label: 'Debug', desc: 'Full.', icon: '🐛', color: 'text-pink-400' },\n  ];\n\n  return (\n    <div className=\"bg-[#111114] border border-white/5 rounded-2xl p-3 md:p-6 space-y-3\">\n      <h3 className=\"text-[8px] md:text-[10px] font-black uppercase text-zinc-500 tracking-widest leading-none\">🧠 Pacing Engine</h3>\n      <div className=\"grid grid-cols-2 gap-2\">\n        {modes.map((mode) => (\n          <button\n            key={mode.id}\n            onClick={() => setSpeed(mode.id)}\n            className={`flex flex-col gap-1 p-2 rounded-xl border transition-all text-left ${speed === mode.id ? 'bg-zinc-800/50 border-white/20' : 'bg-black/20 border-white/5'}`}\n          >\n            <span className={`text-[8px] font-black uppercase tracking-widest ${speed === mode.id ? mode.color : 'text-zinc-600'}`}>{mode.label}</span>\n            <span className=\"text-[6px] text-zinc-700 uppercase\">{mode.desc}</span>\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProcessingControl;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,oBAAsD,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IAC9E,MAAM,QAA6F;QACjG;YAAE,IAAI;YAAQ,OAAO;YAAQ,MAAM;YAAY,MAAM;YAAK,OAAO;QAAiB;QAClF;YAAE,IAAI;YAAY,OAAO;YAAY,MAAM;YAAa,MAAM;YAAM,OAAO;QAAkB;QAC7F;YAAE,IAAI;YAAc,OAAO;YAAc,MAAM;YAAS,MAAM;YAAM,OAAO;QAAmB;QAC9F;YAAE,IAAI;YAAS,OAAO;YAAS,MAAM;YAAS,MAAM;YAAM,OAAO;QAAgB;KAClF;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA4F;;;;;;0BAC1G,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;wBAEC,SAAS,IAAM,SAAS,KAAK,EAAE;wBAC/B,WAAW,CAAC,mEAAmE,EAAE,UAAU,KAAK,EAAE,GAAG,mCAAmC,8BAA8B;;0CAEtK,8OAAC;gCAAK,WAAW,CAAC,gDAAgD,EAAE,UAAU,KAAK,EAAE,GAAG,KAAK,KAAK,GAAG,iBAAiB;0CAAG,KAAK,KAAK;;;;;;0CACnI,8OAAC;gCAAK,WAAU;0CAAsC,KAAK,IAAI;;;;;;;uBAL1D,KAAK,EAAE;;;;;;;;;;;;;;;;AAWxB;uCAEe"}},
    {"offset": {"line": 1887, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/PoseControlPanel.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { PoseData, VaultItem, AppSettings } from '../types';\nimport { extractDeepDNA } from '../geminiService';\n\ninterface PoseControlPanelProps {\n  poseControl?: PoseData;\n  setPoseControl: (val?: PoseData) => void;\n  vault: VaultItem[];\n  sourceImage: string | null;\n  onExecuteSurgical?: () => void;\n  settings?: AppSettings;\n  onOpenVault?: () => void;\n}\n\ndeclare var Pose: any;\n\nconst PoseControlPanel: React.FC<PoseControlPanelProps> = ({ \n  poseControl, setPoseControl, vault, sourceImage, onExecuteSurgical, settings, onOpenVault\n}) => {\n  const fileRef = useRef<HTMLInputElement>(null);\n  const [isExtracting, setIsExtracting] = useState(false);\n  const [isStrippingBg, setIsStrippingBg] = useState(false);\n  const [poseInstance, setPoseInstance] = useState<any>(null);\n  const [viewMode, setViewMode] = useState<'SKELETON' | 'ORIGINAL' | 'SEMANTIC'>('SKELETON');\n  const [segmenter, setSegmenter] = useState<any>(null);\n  const [transformers, setTransformers] = useState<any>(null);\n\n  // Dynamically import Transformers.js on client side\n  useEffect(() => {\n    const loadTransformers = async () => {\n      const trans = await import('@xenova/transformers');\n      trans.env.allowLocalModels = false;\n      trans.env.useBrowserCache = true;\n      setTransformers(trans);\n    };\n    loadTransformers();\n  }, []);\n\n  // Initialize MediaPipe Pose\n  useEffect(() => {\n    if (typeof window !== 'undefined' && typeof Pose !== 'undefined' && !poseInstance) {\n      const p = new Pose({\n        locateFile: (file: string) => `https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5.1675469404/${file}`\n      });\n      p.setOptions({ modelComplexity: 1, smoothLandmarks: true, minDetectionConfidence: 0.5, minTrackingConfidence: 0.5 });\n      setPoseInstance(p);\n    }\n  }, [poseInstance]);\n\n  // Initialize Transformers Segmenter after the library is loaded\n  useEffect(() => {\n    const loadSegmenter = async () => {\n      if (transformers) {\n        try {\n          const model = await transformers.pipeline('image-segmentation', 'Xenova/segformer-b0-finetuned-ade-512-512');\n          setSegmenter(() => model);\n        } catch (e) {\n          console.warn(\"Transformers load failed, falling back to heuristic\", e);\n        }\n      }\n    };\n    loadSegmenter();\n  }, [transformers]);\n\n  // --- IMAGE PROCESSING UTILS ---\n\n  const extractBackgroundContext = async (imgUrl: string) => {\n      try {\n          const dna = await extractDeepDNA(imgUrl, settings);\n          const bgContext = dna.environment_context || dna.lighting_setup || \"Neutral cinematic background\";\n          return bgContext;\n      } catch (e) {\n          return \"Cinematic background\";\n      }\n  };\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = async (ev) => {\n        const result = ev.target?.result as string;\n        const basePose: PoseData = {\n          imageUrl: result, \n          strength: 1.0, \n          symmetry_strength: 1.0, \n          rigid_integrity: 1.0,\n          preserveIdentity: true, \n          enabled: true, \n          warpMethod: 'thin_plate',\n          ratioString: '16:9' // Default\n        };\n        setPoseControl(basePose);\n        processSkeleton(basePose);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // --- HYPER-RIG VISUALIZER V6 (Engineering Audit Grade) ---\n  const drawHyperRig = (landmarks: any[], img: HTMLImageElement): string => {\n    const width = img.width;\n    const height = img.height;\n    \n    const canvas = document.createElement('canvas');\n    canvas.width = width; canvas.height = height;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return '';\n    \n    // 1. Absolute Black Background - Zero Noise\n    ctx.fillStyle = '#000000'; ctx.fillRect(0, 0, width, height);\n    \n    // Config\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    \n    // Technical Vector Thickness\n    const boneWidth = Math.max(3, width * 0.006); \n    const jointRadius = Math.max(4, width * 0.008);\n\n    // Color Palette: Pure Computer Vision Colors\n    const C_LEFT = '#00FF00';   // Pure Green (L)\n    const C_RIGHT = '#FF00FF';  // Pure Magenta (R)\n    const C_CORE = '#FFFFFF';   // Pure White (Core)\n\n    const drawBone = (idx1: number, idx2: number, color: string) => {\n        if (!landmarks[idx1] || !landmarks[idx2] || landmarks[idx1].visibility < 0.3 || landmarks[idx2].visibility < 0.3) return;\n        \n        // Zero Blur/Shadow for sharp edge detection in Audit Stage\n        ctx.shadowBlur = 0; \n\n        // Draw Bone\n        ctx.beginPath();\n        ctx.moveTo(landmarks[idx1].x * width, landmarks[idx1].y * height);\n        ctx.lineTo(landmarks[idx2].x * width, landmarks[idx2].y * height);\n        ctx.strokeStyle = color;\n        ctx.lineWidth = boneWidth;\n        ctx.stroke();\n    };\n\n    const drawJoint = (idx: number, color: string) => {\n        if (!landmarks[idx] || landmarks[idx].visibility < 0.3) return;\n        \n        ctx.shadowBlur = 0;\n        \n        ctx.beginPath();\n        ctx.arc(landmarks[idx].x * width, landmarks[idx].y * height, jointRadius, 0, 2 * Math.PI);\n        ctx.fillStyle = color;\n        ctx.fill();\n    };\n\n    // 1. Torso Box\n    drawBone(11, 12, C_CORE); // Shoulder Bridge\n    drawBone(23, 24, C_CORE); // Hip Bridge\n    drawBone(11, 23, C_LEFT); // Left Torso\n    drawBone(12, 24, C_RIGHT); // Right Torso\n\n    // 2. Arms (Left)\n    drawBone(11, 13, C_LEFT); // Upper Arm\n    drawBone(13, 15, C_LEFT); // Forearm\n    \n    // 3. Arms (Right)\n    drawBone(12, 14, C_RIGHT); // Upper Arm\n    drawBone(14, 16, C_RIGHT); // Forearm\n\n    // 4. Legs (Left)\n    drawBone(23, 25, C_LEFT); // Thigh\n    drawBone(25, 27, C_LEFT); // Shin\n    drawBone(27, 29, C_LEFT); // Foot heel\n    drawBone(29, 31, C_LEFT); // Foot toe\n\n    // 5. Legs (Right)\n    drawBone(24, 26, C_RIGHT); // Thigh\n    drawBone(26, 28, C_RIGHT); // Shin\n    drawBone(28, 30, C_RIGHT); // Foot heel\n    drawBone(30, 32, C_RIGHT); // Foot toe\n\n    // 6. Head & Neck\n    const midShoulderX = (landmarks[11].x + landmarks[12].x) / 2;\n    const midShoulderY = (landmarks[11].y + landmarks[12].y) / 2;\n    if (landmarks[0]) {\n        ctx.beginPath();\n        ctx.moveTo(midShoulderX * width, midShoulderY * height);\n        ctx.lineTo(landmarks[0].x * width, landmarks[0].y * height);\n        ctx.strokeStyle = C_CORE;\n        ctx.lineWidth = boneWidth;\n        ctx.stroke();\n        \n        drawJoint(0, C_CORE); // Nose\n    }\n\n    // 7. Joints\n    const joints = [11, 12, 13, 14, 15, 16, 23, 24, 25, 26, 27, 28];\n    joints.forEach(j => {\n        const color = (j % 2 !== 0) ? C_LEFT : C_RIGHT;\n        drawJoint(j, color);\n    });\n\n    // 8. Machine Vision Anchors (For Auto-Crop stability)\n    ctx.fillStyle = '#FFFFFF';\n    ctx.fillRect(0, 0, 10, 10);\n    ctx.fillRect(width-10, height-10, 10, 10);\n\n    return canvas.toDataURL('image/png');\n  };\n\n  const processSkeleton = async (currentPoseControl: PoseData) => {\n    if (!currentPoseControl.imageUrl || !poseInstance) return;\n    setIsExtracting(true);\n    try {\n        const img = new Image();\n        img.src = currentPoseControl.imageUrl;\n        img.crossOrigin = \"anonymous\";\n        await new Promise((resolve) => { img.onload = resolve; });\n\n        const targetAspectRatio = { width: img.width, height: img.height };\n\n        poseInstance.onResults(async (results: any) => {\n            if (results.poseLandmarks) {\n                // Generate the Hyper-Rig\n                const hyperRig = drawHyperRig(results.poseLandmarks, img);\n                \n                let bgContext = \"Studio Background\";\n                if (sourceImage) {\n                    bgContext = await extractBackgroundContext(sourceImage);\n                }\n\n                setPoseControl({\n                    ...currentPoseControl,\n                    skeletonImage: hyperRig,\n                    poseMaskImage: hyperRig, \n                    landmarks: results.poseLandmarks,\n                    technicalDescription: `HYPER_RIG_V6 [Engineering Audit]`,\n                    poseText: \"\", \n                    backgroundContext: bgContext,\n                    targetAspectRatio\n                });\n                setIsExtracting(false);\n            } else {\n                setIsExtracting(false);\n                alert(\"Pose extraction failed. Try a clearer image.\");\n            }\n        });\n        await poseInstance.send({ image: img });\n    } catch (e) { setIsExtracting(false); }\n  };\n\n  useEffect(() => {\n    if (poseControl && poseControl.imageUrl && !poseControl.skeletonImage && !isExtracting) {\n        processSkeleton(poseControl);\n    }\n  }, [poseControl, poseInstance]);\n\n  const handleExecute = async () => {\n      if (!onExecuteSurgical) return;\n      onExecuteSurgical();\n  };\n\n  const handleRatioChange = (ratio: '16:9' | '9:16' | '1:1') => {\n      if (poseControl) {\n          setPoseControl({ ...poseControl, ratioString: ratio });\n      }\n  };\n\n  return (\n    <div className=\"bg-[#0e0e11] border border-cyan-500/20 rounded-[2.5rem] overflow-hidden shadow-2xl flex flex-col p-6 space-y-6 relative group/rig\">\n      <div className=\"flex justify-between items-center border-b border-white/5 pb-4\">\n        <div className=\"flex flex-col\">\n          <h3 className=\"text-[10px] font-black uppercase text-cyan-400 tracking-[0.4em] flex items-center gap-2\">\n            <span className=\"w-1.5 h-1.5 rounded-full bg-cyan-500 animate-pulse\" />\n            Hyper-Rig V6\n          </h3>\n          <span className=\"text-[6px] text-zinc-600 font-bold uppercase mt-1\">Audit-Ready Engineering Map</span>\n        </div>\n        {poseControl && (\n          <button onClick={() => setPoseControl(undefined)} className=\"text-zinc-600 hover:text-white transition-colors\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M6 18L18 6M6 6l12 12\" strokeWidth={3}/></svg>\n          </button>\n        )}\n      </div>\n\n      {!poseControl ? (\n        <div className=\"aspect-video bg-black/40 border-2 border-dashed border-cyan-500/10 rounded-[2rem] flex flex-col items-center justify-center gap-4 group hover:border-cyan-500/30 transition-all\">\n          <div className=\"flex gap-3\">\n            <button onClick={() => fileRef.current?.click()} className=\"px-6 py-3 bg-zinc-900 border border-white/5 rounded-2xl text-[9px] font-black uppercase text-zinc-400 hover:text-white transition-all hover:bg-zinc-800\">Upload Pose</button>\n            <button onClick={() => onOpenVault?.()} className=\"px-6 py-3 bg-cyan-600/10 border border-cyan-500/20 rounded-2xl text-[9px] font-black uppercase text-cyan-400 hover:bg-cyan-600/20\">Vault</button>\n          </div>\n          <input type=\"file\" ref={fileRef} className=\"hidden\" accept=\"image/*\" onChange={handleFileUpload} />\n          <p className=\"text-[8px] font-black uppercase tracking-[0.2em] text-zinc-700 group-hover:text-zinc-500 transition-colors\">Select Skeleton Source</p>\n        </div>\n      ) : (\n        <div className=\"space-y-6 animate-in slide-in-from-right-4 duration-500\">\n          <div className=\"relative aspect-[4/3] w-full rounded-[2rem] overflow-hidden border border-cyan-500/20 bg-black group/preview\">\n             <img \n               src={viewMode === 'SKELETON' ? poseControl.skeletonImage : poseControl.imageUrl} \n               className=\"w-full h-full object-contain\" \n               alt=\"Pose Reference\" \n             />\n             {(isExtracting || isStrippingBg) && (\n                <div className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-cyan-400 text-[8px] font-black uppercase tracking-widest animate-pulse gap-2\">\n                    <div className=\"w-4 h-4 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin\" />\n                    {isStrippingBg ? 'Removing Background...' : 'Mapping Joints...'}\n                </div>\n             )}\n             <button onClick={() => setViewMode(v => v === 'SKELETON' ? 'ORIGINAL' : 'SKELETON')} className=\"absolute bottom-4 right-4 bg-black/80 hover:bg-cyan-600/40 text-white px-4 py-2 rounded-xl text-[8px] font-black uppercase border border-white/10 transition-all\">\n                {viewMode === 'SKELETON' ? 'Show Ref' : 'Show Rig'}\n             </button>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4\">\n             <div className=\"p-4 bg-cyan-600/5 border border-cyan-500/20 rounded-2xl flex flex-col justify-between\">\n                 <span className=\"text-[7px] font-black text-cyan-400 uppercase tracking-widest\">Rig Integrity</span>\n                 <p className=\"text-[8px] text-zinc-300 mono font-bold leading-tight mt-1\">Audit Level</p>\n             </div>\n             <div className=\"p-4 bg-indigo-600/5 border border-indigo-500/20 rounded-2xl flex flex-col justify-between\">\n                 <span className=\"text-[7px] font-black text-indigo-400 uppercase tracking-widest\">Environment</span>\n                 <p className=\"text-[9px] text-zinc-300 mono font-bold truncate\" title={poseControl.backgroundContext}>\n                    {poseControl.backgroundContext ? 'Context Locked' : 'Scanning...'}\n                 </p>\n             </div>\n          </div>\n\n          <div className=\"flex gap-2\">\n             {['16:9', '9:16', '1:1'].map((r) => (\n                 <button \n                    key={r}\n                    onClick={() => handleRatioChange(r as any)}\n                    className={`flex-1 py-3 rounded-xl text-[8px] font-black uppercase transition-all ${poseControl.ratioString === r ? 'bg-cyan-600 text-white shadow-lg' : 'bg-zinc-800 text-zinc-500 hover:bg-zinc-700'}`}\n                 >\n                    {r}\n                 </button>\n             ))}\n          </div>\n\n          <button onClick={handleExecute} disabled={!sourceImage || isExtracting || isStrippingBg} className=\"w-full py-8 bg-gradient-to-r from-red-700 to-indigo-600 hover:from-red-600 hover:to-indigo-500 text-white rounded-[2rem] font-black uppercase tracking-[0.6em] text-[11px] shadow-[0_0_40px_rgba(220,38,38,0.3)] transition-all active:scale-[0.98] disabled:opacity-30 relative overflow-hidden group\">\n            <div className=\"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity\" />\n            {isExtracting ? 'ANALYZING...' : 'INITIATE 5-STAGE PIPELINE'}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PoseControlPanel;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2426, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/cinemaLab/CinemaVaultModal.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultItem } from '../../types';\n\ninterface CinemaVaultModalProps {\n  items: VaultItem[];\n  onSelect: (item: VaultItem) => void;\n  onClose: () => void;\n}\n\nconst CinemaVaultModal: React.FC<CinemaVaultModalProps> = ({ items, onSelect, onClose }) => {\n  return (\n    <div className=\"fixed inset-0 z-[600] bg-black/98 backdrop-blur-3xl flex flex-col p-12 animate-in slide-in-from-bottom-10 duration-700\">\n      <div className=\"flex justify-between items-center mb-10 max-w-7xl mx-auto w-full\">\n        <h3 className=\"text-3xl font-black text-white uppercase tracking-tighter\">Vault Favorites</h3>\n        <button onClick={onClose} className=\"px-8 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all\">Voltar</button>\n      </div>\n      <div className=\"flex-1 overflow-y-auto max-w-7xl mx-auto w-full pb-20 custom-scrollbar\">\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8\">\n          {items.filter(v => v.isFavorite).map(item => (\n            <div \n              key={item.id} \n              onClick={() => onSelect(item)} \n              className=\"aspect-square bg-zinc-900 rounded-[2.5rem] overflow-hidden border border-white/5 cursor-pointer hover:border-indigo-500 hover:scale-[1.03] transition-all group relative shadow-2xl\"\n            >\n              <img src={item.imageUrl} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2000ms]\" />\n              <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                <span className=\"text-[10px] font-black text-white uppercase tracking-widest bg-indigo-600 px-4 py-2 rounded-xl\">Selecionar Node</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CinemaVaultModal;\n"],"names":[],"mappings":";;;;;;AAUA,MAAM,mBAAoD,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE;IACrF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA4D;;;;;;kCAC1E,8OAAC;wBAAO,SAAS;wBAAS,WAAU;kCAAiI;;;;;;;;;;;;0BAEvK,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACZ,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,UAAU,EAAE,GAAG,CAAC,CAAA,qBACnC,8OAAC;4BAEC,SAAS,IAAM,SAAS;4BACxB,WAAU;;8CAEV,8OAAC;oCAAI,KAAK,KAAK,QAAQ;oCAAE,WAAU;;;;;;8CACnC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAK,WAAU;kDAAiG;;;;;;;;;;;;2BAN9G,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAc1B;uCAEe"}},
    {"offset": {"line": 2521, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/workspaceLab/StudioPreview.tsx"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport { LatentParams, LatentGrading, VaultDomain, VaultItem } from '../../types';\n\ninterface StudioPreviewProps {\n  currentImage: string | null;\n  isProcessing: boolean;\n  isBiopsyActive: boolean;\n  loadingMessage: string;\n  localGrading?: LatentGrading;\n  params: LatentParams;\n  vault: VaultItem[];\n  onUploadClick: () => void;\n  onOpenVault: (domain?: VaultDomain) => void;\n  onSlotClick: (domain: VaultDomain) => void;\n}\n\nconst StudioPreview: React.FC<StudioPreviewProps> = ({\n  currentImage, isProcessing, isBiopsyActive, loadingMessage, localGrading, params, vault, onUploadClick, onOpenVault, onSlotClick\n}) => {\n  const [flash, setFlash] = useState(false);\n\n  // Trigger flash quando a imagem muda para confirmar a atualização\n  useEffect(() => {\n    if (currentImage) {\n      setFlash(true);\n      const t = setTimeout(() => setFlash(false), 500);\n      return () => clearTimeout(t);\n    }\n  }, [currentImage]);\n\n  const renderSlot = (domain: VaultDomain, label: string, color: string) => {\n    const activeId = params.active_slots?.[domain];\n    const item = vault.find(v => v.shortId === activeId);\n    \n    return (\n      <div className={`relative flex flex-col items-center gap-1 group`}>\n        <div \n          className={`w-12 h-12 md:w-16 md:h-16 rounded-xl border-2 transition-all cursor-pointer overflow-hidden bg-black/40 flex items-center justify-center ${item ? `border-${color}-500 shadow-[0_0_15px_rgba(0,0,0,0.5)]` : 'border-white/5 hover:border-indigo-500/40'}`}\n          onClick={() => onOpenVault(domain)}\n        >\n           {item ? (\n              <img src={item.imageUrl} className=\"w-full h-full object-cover\" alt={label} />\n           ) : (\n              <div className=\"flex flex-col items-center opacity-20 group-hover:opacity-100 transition-opacity\">\n                 <span className={`text-[10px] font-black uppercase text-white`}>{domain}</span>\n                 <svg className=\"w-3 h-3 text-white mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 4v16m8-8H4\" strokeWidth={3}/></svg>\n              </div>\n           )}\n        </div>\n        <span className={`text-[6px] font-black uppercase tracking-tighter ${item ? `text-${color}-400` : 'text-zinc-600'}`}>{label}</span>\n      </div>\n    );\n  };\n\n  const safeRender = (val: any) => {\n    if (typeof val === 'object' && val !== null) {\n      return Object.values(val).join(', ');\n    }\n    return val;\n  };\n\n  return (\n    <div className={`flex-[1.4] relative bg-[#08080a] flex flex-col items-center justify-center border-r border-white/5 overflow-hidden min-h-[300px] md:min-h-0`}>\n      {(isProcessing || isBiopsyActive) && (\n        <div className=\"absolute inset-0 z-[160] bg-black/80 backdrop-blur-md flex flex-col items-center justify-center space-y-4 text-center px-6 transition-opacity duration-300\">\n          <div className=\"relative w-12 h-12 md:w-32 md:h-32\">\n              <div className=\"absolute inset-0 border-2 border-indigo-500/20 rounded-full\" />\n              <div className=\"absolute inset-0 border-2 border-t-indigo-500 rounded-full animate-spin\" />\n          </div>\n          <p className=\"text-indigo-400 font-black text-[8px] md:text-xs uppercase tracking-[0.3em] animate-pulse\">\n            {loadingMessage}\n          </p>\n        </div>\n      )}\n\n      <div className=\"flex-1 w-full relative flex items-center justify-center overflow-hidden\">\n        {!currentImage ? (\n          <div className=\"w-full h-full bg-zinc-900/10 border-2 border-dashed border-white/5 flex flex-col items-center justify-center p-8 space-y-8\">\n                <div className=\"w-20 h-20 bg-zinc-900 rounded-full flex items-center justify-center border border-white/5 shadow-inner\">\n                   <svg className=\"w-10 h-10 text-zinc-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" /></svg>\n                </div>\n                <div className=\"flex flex-col items-center gap-4\">\n                  <span className=\"text-[11px] mono uppercase text-zinc-600 font-bold tracking-[0.4em]\">Inject Base DNA Reference</span>\n                  <div className=\"flex gap-4\">\n                    <button onClick={onUploadClick} className=\"px-8 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-2xl text-[9px] font-black uppercase tracking-widest border border-white/5 transition-all\">Upload Local</button>\n                    <button onClick={() => onOpenVault()} className=\"px-8 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-[9px] font-black uppercase tracking-widest shadow-xl transition-all\">Choose Vault</button>\n                  </div>\n                </div>\n          </div>\n        ) : (\n          <div className={`relative w-full h-full flex items-center justify-center bg-[#050505]`}>\n            <div className=\"relative max-w-full max-h-full flex items-center justify-center overflow-hidden\">\n                {/* A chave `key` força a re-renderização quando a URL da imagem muda, prevenindo frames antigos */}\n                <img \n                  key={currentImage}\n                  src={currentImage} \n                  className={`max-w-full max-h-full w-auto h-auto object-contain transition-all duration-1000 shadow-2xl relative z-10 ${flash ? 'brightness-125 scale-[1.01]' : 'brightness-100 scale-100'}`}\n                  style={{ filter: localGrading?.css_filter_string || 'none' }}\n                />\n                \n                {/* Overlay de Flash para Confirmação */}\n                <div className={`absolute inset-0 bg-white mix-blend-overlay transition-opacity duration-500 pointer-events-none z-50 ${flash ? 'opacity-30' : 'opacity-0'}`} />\n            </div>\n            \n            <div className=\"absolute top-8 left-8 flex flex-col gap-2 z-[100]\">\n                <div className=\"bg-black/80 backdrop-blur-md px-4 py-2 rounded-xl border border-white/10 flex items-center gap-2\">\n                   <div className=\"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse\" />\n                   <span className=\"text-[8px] font-black text-indigo-400 uppercase tracking-widest\">MAD_v12.2 RIGOROUS_MAPPER</span>\n                </div>\n                {params.dna && (\n                  <div className=\"flex flex-col gap-1.5 animate-in slide-in-from-left-4 duration-500\">\n                    {params.dna.camera_specs && (\n                      <div className=\"bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/5 flex flex-col\">\n                         <span className=\"text-[6px] font-black text-zinc-500 uppercase tracking-tighter\">Camera Sync</span>\n                         <span className=\"text-[8px] font-black text-white uppercase\">{safeRender(params.dna.camera_specs)}</span>\n                      </div>\n                    )}\n                    {params.dna.lighting_setup && (\n                      <div className=\"bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-lg border border-white/5 flex flex-col\">\n                         <span className=\"text-[6px] font-black text-zinc-500 uppercase tracking-tighter\">Lighting Setup</span>\n                         <span className=\"text-[8px] font-black text-white uppercase\">{safeRender(params.dna.lighting_setup)}</span>\n                      </div>\n                    )}\n                  </div>\n                )}\n            </div>\n\n            <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-4 bg-black/80 backdrop-blur-3xl p-4 rounded-[2.5rem] border border-white/10 z-[150] shadow-2xl\">\n               {renderSlot('X', 'Identity', 'emerald')}\n               {renderSlot('Y', 'Env', 'pink')}\n               {renderSlot('Z', 'Style', 'cyan')}\n               {renderSlot('L', 'Light', 'amber')}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StudioPreview;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2898, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/workspaceLab/StudioSidebarHeader.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface StudioSidebarHeaderProps {\n  onPurge: () => void;\n  onZMode: () => void;\n  onPose: () => void;\n  onLGN: () => void;\n  isPoseOpen: boolean;\n  hasGrading: boolean;\n}\n\nconst StudioSidebarHeader: React.FC<StudioSidebarHeaderProps> = ({ \n  onPurge, onZMode, onPose, onLGN, isPoseOpen, hasGrading \n}) => {\n  return (\n    <div className=\"flex items-center justify-between\">\n      <div className=\"flex flex-col\">\n        <h2 className=\"text-[9px] font-black uppercase tracking-widest text-zinc-600\">Studio Console</h2>\n        <span className=\"text-[7px] mono text-zinc-800 uppercase font-black\">LCP-v12.2 MAD_CORE</span>\n      </div>\n      <div className=\"flex gap-1\">\n        <button \n          onClick={onPurge}\n          className=\"bg-red-600/10 px-2 py-1.5 rounded-lg text-red-500 text-[8px] font-black uppercase border border-red-500/20\"\n        >\n          RESET\n        </button>\n        <button onClick={onZMode} className=\"bg-indigo-600/10 px-2 py-1.5 rounded-lg text-indigo-400 text-[8px] font-black uppercase border border-indigo-500/30\">Z-MODE</button>\n        <button onClick={onPose} className={`px-2 py-1.5 rounded-lg text-[8px] font-black uppercase border transition-all ${isPoseOpen ? 'bg-pink-600 text-white' : 'bg-pink-600/10 text-pink-400 border-pink-500/30'}`}>RIGGING</button>\n        <button \n          onClick={onLGN} \n          className={`px-2 py-1.5 rounded-lg text-[8px] font-black uppercase border transition-all ${hasGrading ? 'bg-emerald-600/10 text-emerald-400 border-emerald-500/30' : 'bg-zinc-800 text-zinc-500'}`}\n        >\n          LGN\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default StudioSidebarHeader;\n"],"names":[],"mappings":";;;;;;AAYA,MAAM,sBAA0D,CAAC,EAC/D,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EACxD;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgE;;;;;;kCAC9E,8OAAC;wBAAK,WAAU;kCAAqD;;;;;;;;;;;;0BAEvE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBAAO,SAAS;wBAAS,WAAU;kCAAsH;;;;;;kCAC1J,8OAAC;wBAAO,SAAS;wBAAQ,WAAW,CAAC,6EAA6E,EAAE,aAAa,2BAA2B,mDAAmD;kCAAE;;;;;;kCACjN,8OAAC;wBACC,SAAS;wBACT,WAAW,CAAC,6EAA6E,EAAE,aAAa,6DAA6D,6BAA6B;kCACnM;;;;;;;;;;;;;;;;;;AAMT;uCAEe"}},
    {"offset": {"line": 2990, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/workspaceLab/StudioAuthorityPanel.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { AgentAuthority } from '../../types';\n\ninterface StudioAuthorityPanelProps {\n  authority: AgentAuthority;\n  onChange: (key: keyof AgentAuthority, val: number) => void;\n}\n\nconst StudioAuthorityPanel: React.FC<StudioAuthorityPanelProps> = ({ authority, onChange }) => {\n  const configs = [\n    { key: 'lighting' as keyof AgentAuthority, label: 'Lighting Architect', color: 'accent-amber-500' },\n    { key: 'texture' as keyof AgentAuthority, label: 'Texture Master', color: 'accent-emerald-500' },\n    { key: 'anatomy' as keyof AgentAuthority, label: 'Anatomy Specialist', color: 'accent-pink-500' }\n  ];\n\n  return (\n    <div className=\"bg-zinc-900/40 p-5 rounded-2xl border border-white/5 space-y-4\">\n      <span className=\"text-[8px] font-black text-zinc-500 uppercase tracking-widest\">Agent Authority Weights</span>\n      <div className=\"space-y-4\">\n          {configs.map(auth => (\n            <div key={auth.key} className=\"space-y-1.5\">\n              <div className=\"flex justify-between items-center text-[7px] font-black uppercase\">\n                  <span className=\"text-zinc-600\">{auth.label}</span>\n                  <span className=\"text-white\">{authority[auth.key]}%</span>\n              </div>\n              <input \n                type=\"range\" \n                min=\"0\" \n                max=\"100\" \n                value={authority[auth.key]} \n                onChange={(e) => onChange(auth.key, parseInt(e.target.value))} \n                className={`w-full h-0.5 bg-zinc-800 appearance-none rounded-full cursor-pointer ${auth.color}`} \n              />\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default StudioAuthorityPanel;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,uBAA4D,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE;IACxF,MAAM,UAAU;QACd;YAAE,KAAK;YAAoC,OAAO;YAAsB,OAAO;QAAmB;QAClG;YAAE,KAAK;YAAmC,OAAO;YAAkB,OAAO;QAAqB;QAC/F;YAAE,KAAK;YAAmC,OAAO;YAAsB,OAAO;QAAkB;KACjG;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAgE;;;;;;0BAChF,8OAAC;gBAAI,WAAU;0BACV,QAAQ,GAAG,CAAC,CAAA,qBACX,8OAAC;wBAAmB,WAAU;;0CAC5B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAK,WAAU;kDAAiB,KAAK,KAAK;;;;;;kDAC3C,8OAAC;wCAAK,WAAU;;4CAAc,SAAS,CAAC,KAAK,GAAG,CAAC;4CAAC;;;;;;;;;;;;;0CAEtD,8OAAC;gCACC,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO,SAAS,CAAC,KAAK,GAAG,CAAC;gCAC1B,UAAU,CAAC,IAAM,SAAS,KAAK,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gCAC3D,WAAW,CAAC,qEAAqE,EAAE,KAAK,KAAK,EAAE;;;;;;;uBAXzF,KAAK,GAAG;;;;;;;;;;;;;;;;AAkB9B;uCAEe"}},
    {"offset": {"line": 3093, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/workspaceLab/StudioConsensusReport.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface StudioConsensusReportProps {\n  report: { logic: string, prompt: string } | null;\n}\n\nconst StudioConsensusReport: React.FC<StudioConsensusReportProps> = ({ report }) => {\n  if (!report) return null;\n\n  return (\n    <div className=\"space-y-4 animate-in fade-in duration-500\">\n        <div className=\"bg-zinc-950 border border-white/5 p-5 rounded-2xl\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest block mb-2\">Multi-Agent Deliberation Result</span>\n          <div className=\"text-[8px] mono text-zinc-600 h-24 overflow-y-auto custom-scrollbar whitespace-pre-wrap leading-relaxed\">\n              {report.prompt}\n          </div>\n        </div>\n    </div>\n  );\n};\n\nexport default StudioConsensusReport;\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,wBAA8D,CAAC,EAAE,MAAM,EAAE;IAC7E,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAK,WAAU;8BAA2E;;;;;;8BAC3F,8OAAC;oBAAI,WAAU;8BACV,OAAO,MAAM;;;;;;;;;;;;;;;;;AAK5B;uCAEe"}},
    {"offset": {"line": 3139, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/workspaceLab/StudioActionPanel.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultDomain } from '../../types';\n\ninterface StudioActionPanelProps {\n  prompt: string;\n  setPrompt: (val: string) => void;\n  onProcess: () => void;\n  onCommit: () => void;\n  onOptimize: () => void;\n  isProcessing: boolean;\n  isSaving: boolean;\n  isOptimizing: boolean;\n  hasImage: boolean;\n  targetDomain: VaultDomain;\n  setTargetDomain: (d: VaultDomain) => void;\n}\n\nconst StudioActionPanel: React.FC<StudioActionPanelProps> = ({\n  prompt, setPrompt, onProcess, onCommit, onOptimize, isProcessing, isSaving, isOptimizing, hasImage, targetDomain, setTargetDomain\n}) => {\n  const domains: { id: VaultDomain; label: string; color: string }[] = [\n    { id: 'X', label: 'Identity', color: 'bg-emerald-500' },\n    { id: 'Y', label: 'Env', color: 'bg-pink-500' },\n    { id: 'Z', label: 'Style', color: 'bg-cyan-500' },\n    { id: 'L', label: 'Light', color: 'bg-amber-500' }\n  ];\n\n  return (\n    <div className=\"p-4 md:p-8 bg-black/95 backdrop-blur-3xl border-t border-white/5 space-y-4\">\n      {/* Target Domain Classification */}\n      <div className=\"space-y-2\">\n         <div className=\"flex justify-between items-center px-1\">\n            <span className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest\">Classify Result Domain</span>\n            <span className=\"text-[7px] mono text-indigo-500 font-bold uppercase tracking-tighter\">Biopsy on Commit</span>\n         </div>\n         <div className=\"grid grid-cols-4 gap-1.5\">\n            {domains.map(d => (\n              <button \n                key={d.id}\n                onClick={() => setTargetDomain(d.id)}\n                className={`py-2 rounded-xl border transition-all flex flex-col items-center justify-center gap-0.5 ${targetDomain === d.id ? 'bg-indigo-600 border-indigo-400 text-white shadow-lg' : 'bg-white/5 border-white/5 text-zinc-500 hover:text-zinc-300'}`}\n              >\n                <span className=\"text-[10px] font-black leading-none\">{d.id}</span>\n                <span className=\"text-[6px] font-bold uppercase opacity-60 tracking-tighter\">{d.label}</span>\n              </button>\n            ))}\n         </div>\n      </div>\n\n      <div className=\"relative\">\n         <textarea \n            value={prompt} \n            onChange={(e) => setPrompt(e.target.value)} \n            placeholder=\"Enter synthesis directive (Kernel v12.2)...\" \n            className=\"w-full bg-zinc-900/50 border border-white/5 rounded-xl px-4 py-3 text-[10px] md:text-sm h-16 md:h-24 resize-none text-zinc-200 outline-none focus:border-indigo-500/40 transition-all custom-scrollbar pr-12\" \n         />\n         <button \n            onClick={onOptimize} \n            disabled={isOptimizing || !prompt.trim()} \n            className={`absolute top-3 right-3 p-2 rounded-lg border transition-all ${isOptimizing ? 'bg-amber-600/40 border-amber-400 animate-pulse' : 'bg-zinc-800 border-white/10 text-amber-400 hover:bg-zinc-700'}`} \n            title=\"Industrial Meta-Prompt Optimizer\"\n         >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13.5 3L11 8.5L5.5 11L11 13.5L13.5 19L16 13.5L21.5 11L16 8.5L13.5 3Z\" strokeWidth={2}/></svg>\n         </button>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-2\">\n        <button \n          onClick={onProcess} \n          disabled={isProcessing || isOptimizing} \n          className=\"rounded-xl bg-indigo-600 text-white p-3 md:p-4 font-black uppercase tracking-widest text-[10px] active:scale-95 transition-all shadow-xl shadow-indigo-900/20\"\n        >\n          {isProcessing ? 'Synapsing...' : 'Execute Synth'}\n        </button>\n        <button \n          onClick={onCommit} \n          disabled={!hasImage || isSaving || isProcessing} \n          className=\"rounded-xl bg-zinc-100 text-black text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all disabled:opacity-20\"\n        >\n          {isSaving ? 'Indexing...' : 'Commit Node'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default StudioActionPanel;\n"],"names":[],"mappings":";;;;;;AAkBA,MAAM,oBAAsD,CAAC,EAC3D,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,UAAU,EAAE,YAAY,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAE,YAAY,EAAE,eAAe,EAClI;IACC,MAAM,UAA+D;QACnE;YAAE,IAAI;YAAK,OAAO;YAAY,OAAO;QAAiB;QACtD;YAAE,IAAI;YAAK,OAAO;YAAO,OAAO;QAAc;QAC9C;YAAE,IAAI;YAAK,OAAO;YAAS,OAAO;QAAc;QAChD;YAAE,IAAI;YAAK,OAAO;YAAS,OAAO;QAAe;KAClD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAK,WAAU;0CAAgE;;;;;;0CAChF,8OAAC;gCAAK,WAAU;0CAAuE;;;;;;;;;;;;kCAE1F,8OAAC;wBAAI,WAAU;kCACX,QAAQ,GAAG,CAAC,CAAA,kBACX,8OAAC;gCAEC,SAAS,IAAM,gBAAgB,EAAE,EAAE;gCACnC,WAAW,CAAC,wFAAwF,EAAE,iBAAiB,EAAE,EAAE,GAAG,yDAAyD,+DAA+D;;kDAEtP,8OAAC;wCAAK,WAAU;kDAAuC,EAAE,EAAE;;;;;;kDAC3D,8OAAC;wCAAK,WAAU;kDAA8D,EAAE,KAAK;;;;;;;+BALhF,EAAE,EAAE;;;;;;;;;;;;;;;;0BAWnB,8OAAC;gBAAI,WAAU;;kCACZ,8OAAC;wBACE,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;kCAEb,8OAAC;wBACE,SAAS;wBACT,UAAU,gBAAgB,CAAC,OAAO,IAAI;wBACtC,WAAW,CAAC,4DAA4D,EAAE,eAAe,mDAAmD,gEAAgE;wBAC5M,OAAM;kCAEN,cAAA,8OAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAuE,aAAa;;;;;;;;;;;;;;;;;;;;;;0BAIjL,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,UAAU,gBAAgB;wBAC1B,WAAU;kCAET,eAAe,iBAAiB;;;;;;kCAEnC,8OAAC;wBACC,SAAS;wBACT,UAAU,CAAC,YAAY,YAAY;wBACnC,WAAU;kCAET,WAAW,gBAAgB;;;;;;;;;;;;;;;;;;AAKtC;uCAEe"}},
    {"offset": {"line": 3326, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/workspace/Workspace.tsx"],"sourcesContent":["\nimport React, { useState, useRef, useEffect } from 'react';\nimport { AgentStatus, LatentParams, VaultItem, VaultDomain, LatentGrading, VisualAnchor, DeliberationStep, AgentAuthority, PoseData, AppSettings } from '../../types';\nimport { extractDeepDNA, executeGroundedSynth, optimizeVisualPrompt } from '../../geminiService';\nimport AgentFeed from '../shared/AgentFeed';\nimport ZModeModal from '../modals/ZModeModal';\nimport LGNEditor from '../modals/LGNEditor';\nimport MetricsDashboard from '../shared/MetricsDashboard';\nimport ProcessingControl from '../shared/ProcessingControl';\nimport PoseControlPanel from '../PoseControlPanel';\nimport CinemaVaultModal from '../cinemaLab/CinemaVaultModal';\n\nimport StudioPreview from '../workspaceLab/StudioPreview';\nimport StudioSidebarHeader from '../workspaceLab/StudioSidebarHeader';\nimport StudioAuthorityPanel from '../workspaceLab/StudioAuthorityPanel';\nimport StudioConsensusReport from '../workspaceLab/StudioConsensusReport';\nimport StudioActionPanel from '../workspaceLab/StudioActionPanel';\n\ninterface WorkspaceProps {\n  onSave: (item: VaultItem) => Promise<void>;\n  vault: VaultItem[];\n  prompt: string;\n  setPrompt: (val: string) => void;\n  currentImage: string | null;\n  setCurrentImage: (val: string | null) => void;\n  originalSource: string | null;\n  setOriginalSource: (val: string | null) => void;\n  logs: AgentStatus[];\n  setLogs: React.Dispatch<React.SetStateAction<AgentStatus[]>>;\n  params: LatentParams;\n  setParams: React.Dispatch<React.SetStateAction<LatentParams>>;\n  onReloadApp: () => void;\n  grading?: LatentGrading;\n  visualAnchor?: VisualAnchor;\n  settings?: AppSettings;\n}\n\nconst Workspace: React.FC<WorkspaceProps> = ({ \n  onSave, vault, prompt, setPrompt, currentImage, setCurrentImage,\n  originalSource, setOriginalSource, logs, setLogs, params, setParams,\n  onReloadApp, grading: initialGrading, settings\n}) => {\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isOptimizing, setIsOptimizing] = useState(false);\n  const [loadingStep, setLoadingStep] = useState(0);\n  const [isZModeOpen, setIsZModeOpen] = useState(false);\n  const [isLGNOpen, setIsLGNOpen] = useState(false);\n  const [isPoseOpen, setIsPoseOpen] = useState(false);\n  const [isBiopsyActive, setIsBiopsyActive] = useState(false);\n  const [showVaultPicker, setShowVaultPicker] = useState(false);\n  const [activePickerDomain, setActivePickerDomain] = useState<VaultDomain | 'BASE' | 'POSE'>('BASE');\n  \n  const [activeSourceNodeId, setActiveSourceNodeId] = useState<string | undefined>(undefined);\n  const [lastEnhancedPrompt, setLastEnhancedPrompt] = useState<string>('');\n  \n  const [collisionReport, setCollisionReport] = useState<{logic: string, prompt: string} | null>(null);\n  const [localGrading, setLocalGrading] = useState<LatentGrading | undefined>(initialGrading);\n  const [deliberationFlow, setDeliberationFlow] = useState<DeliberationStep[]>([]);\n  \n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const agentMessages = [\n    \"Kernel Initiating: Calling Meta-Prompt Translator...\", \n    \"Consulting Visual Scout for Optical Truth...\", \n    \"Lighting Architect calculating photon bounce...\", \n    \"Texture Master biopsying material surfaces...\",\n    \"Merging consensus into Final Directive...\"\n  ];\n\n  const loadingMessages = params.pose_control?.enabled \n    ? [\"COMPOSITION_LOCK_ACTIVE\", \"ALIGNING_VECTORS\", \"SYNTHESIZING_PIXELS\"] \n    : agentMessages;\n\n  useEffect(() => {\n    setLocalGrading(initialGrading);\n  }, [initialGrading]);\n\n  useEffect(() => {\n    let interval: any;\n    if (isProcessing || isBiopsyActive || isOptimizing || isSaving) {\n      setLoadingStep(0);\n      interval = setInterval(() => {\n        setLoadingStep(prev => (prev + 1) % loadingMessages.length);\n      }, 2500);\n    } else {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [isProcessing, isBiopsyActive, isOptimizing, isSaving, loadingMessages.length]);\n\n  const runNeuralBiopsy = async (imgUrl: string, silent: boolean = false) => {\n    if (!silent) setIsBiopsyActive(true);\n    if (!silent) setLogs(prev => [...prev, { \n      type: 'Attribute Mapper', \n      status: 'processing', \n      message: 'V12.5 Rigorous Forensic Biopsy (English Standard)...', \n      timestamp: Date.now(), \n      department: 'Advanced' \n    }]);\n\n    try {\n      const dna = await extractDeepDNA(imgUrl, settings);\n      \n      let detectedDomain: VaultDomain = 'Z';\n      if (dna.character_details && dna.character_details.length > 5) detectedDomain = 'X';\n      else if (dna.environment_context && dna.environment_context.length > 5) detectedDomain = 'Y';\n      else if (dna.lighting_setup && String(dna.lighting_setup).toLowerCase().includes('light')) detectedDomain = 'L';\n\n      setParams(prev => ({ ...prev, dna, vault_domain: detectedDomain }));\n      \n      if (!silent) setLogs(prev => [...prev, { \n        type: 'Attribute Mapper', \n        status: 'completed', \n        message: `DNA Sequenced: ${dna.human_description}`, \n        timestamp: Date.now(), \n        department: 'Advanced' \n      }]);\n      \n      return { dna, detectedDomain };\n    } catch (err: any) {\n      console.error(\"Biopsy Error:\", err);\n      const isQuota = err?.message?.includes('429') || JSON.stringify(err).includes('429') || JSON.stringify(err).includes('RESOURCE_EXHAUSTED');\n      if (!silent) setLogs(prev => [...prev, { \n        type: 'Attribute Mapper', \n        status: 'error', \n        message: isQuota ? 'Quota Limit Reached. Try later.' : 'Rigorous Sequence Fault.', \n        timestamp: Date.now() \n      }]);\n      return null;\n    } finally {\n      if (!silent) setIsBiopsyActive(false);\n    }\n  };\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = async (ev) => {\n        const result = ev.target?.result as string;\n        setCurrentImage(result);\n        setOriginalSource(result);\n        setActiveSourceNodeId(undefined); \n        runNeuralBiopsy(result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleVaultSelect = (item: VaultItem) => {\n    if (activePickerDomain === 'BASE') {\n      setCurrentImage(item.imageUrl);\n      setOriginalSource(item.imageUrl);\n      setActiveSourceNodeId(item.id); \n      runNeuralBiopsy(item.imageUrl);\n    } else if (activePickerDomain === 'POSE') {\n      const basePose: PoseData = {\n        imageUrl: item.imageUrl,\n        strength: 1.0, \n        symmetry_strength: 0.5,\n        rigid_integrity: 1.0,\n        preserveIdentity: true,\n        enabled: true,\n        warpMethod: 'thin_plate',\n        dna: item.dna,\n        technicalDescription: `[COMPOSITION_REFERENCE] Vault Source: ${item.shortId}`\n      };\n      setParams(prev => ({ ...prev, pose_control: basePose }));\n      setLogs(prev => [...prev, { \n        type: 'Puppeteer Agent', \n        status: 'completed', \n        message: `COMPOSITION_REFERENCE_LOADED.`, \n        timestamp: Date.now(), \n        department: 'Casting' \n      }]);\n    } else {\n      setParams(prev => ({\n        ...prev,\n        active_slots: {\n          ...(prev.active_slots || {}),\n          [activePickerDomain as VaultDomain]: item.shortId\n        }\n      }));\n    }\n    setShowVaultPicker(false);\n  };\n\n  const handleOptimizePrompt = async () => {\n    if (!prompt.trim() || isOptimizing) return;\n    setIsOptimizing(true);\n    setLogs(prev => [...prev, { \n      type: 'Meta-Prompt Translator', \n      status: 'processing', \n      message: 'Upleveling user intent to Industrial Meta-Prompt...', \n      timestamp: Date.now(), \n      department: 'Advanced' \n    }]);\n    try {\n      const optimized = await optimizeVisualPrompt(prompt, settings, currentImage || undefined);\n      setPrompt(optimized);\n      setLastEnhancedPrompt(optimized);\n      setLogs(prev => [...prev, { type: 'Meta-Prompt Translator', status: 'completed', message: 'Ready for surgical synth.', timestamp: Date.now(), department: 'Advanced' }]);\n    } catch (e) {\n      console.error(e);\n      setLogs(prev => [...prev, { type: 'Meta-Prompt Translator', status: 'error', message: 'Optimization Fault.', timestamp: Date.now() }]);\n    } finally {\n      setIsOptimizing(false);\n    }\n  };\n\n  const handleProcess = async () => {\n    const isBypassMode = params.pose_control?.enabled && params.pose_control?.poseMaskImage;\n    if (!prompt.trim() && !isBypassMode) return;\n    \n    setIsProcessing(true);\n    setLogs([]);\n    setDeliberationFlow([]);\n    try {\n      const auth = params.agent_authority || { lighting: 50, texture: 50, structure: 50, anatomy: 50 };\n      \n      const poseMask = params.pose_control?.enabled ? params.pose_control.poseMaskImage : undefined;\n      const poseLandmarks = params.pose_control?.enabled ? params.pose_control.landmarks : undefined;\n      const poseText = params.pose_control?.enabled ? params.pose_control.poseText : undefined;\n      const ratioString = params.pose_control?.enabled ? params.pose_control.ratioString : undefined;\n      \n      let result = await executeGroundedSynth(\n        prompt, \n        {}, \n        vault, \n        auth, \n        settings, \n        originalSource || undefined,\n        undefined, \n        poseLandmarks,\n        poseMask,\n        poseText,\n        ratioString\n      );\n\n      if (result.imageUrl) {\n        setCurrentImage(result.imageUrl);\n        setLogs(result.logs);\n        setLastEnhancedPrompt(result.enhancedPrompt || prompt);\n        setDeliberationFlow(result.deliberation_flow || []);\n        setParams(prev => ({ ...prev, agent_authority: auth }));\n        setCollisionReport({ logic: result.collision_logic || (isBypassMode ? 'Direct Composition Lock' : 'Multi-Agent Consensus'), prompt: result.enhancedPrompt || '' });\n        \n        if (result.grading && !poseMask) setLocalGrading(result.grading);\n      }\n    } catch (error: any) { \n        console.error(\"Workspace Process Error:\", error);\n        const errorMessage = error.message || 'Kernel Deliberation Fault.';\n        setLogs(prev => [...prev, { type: 'Director', status: 'error', message: errorMessage, timestamp: Date.now() }]);\n    } finally { \n        setIsProcessing(false); \n    }\n  };\n\n  const handleCommit = async () => {\n    if (!currentImage || isSaving) return;\n    setIsSaving(true);\n    setLogs(prev => [...prev, { \n        type: 'Visual Archivist', \n        status: 'processing', \n        message: 'ARCHIVAL_PROTOCOL: Triggering post-synth forensic biopsy...', \n        timestamp: Date.now(), \n        department: 'Advanced' \n    }]);\n\n    try {\n      const biopsyResult = await runNeuralBiopsy(currentImage, true);\n      if (!biopsyResult) throw new Error(\"Biopsy Failed\");\n\n      const { dna, detectedDomain } = biopsyResult;\n      const nodeName = dna.human_description?.split(',').slice(0, 2).join('_').replace(/\\s/g, '_').replace(/[^a-zA-Z0-9_]/g, '').substring(0, 30) || `MAD_${Math.floor(Date.now()/1000)}`;\n      \n      const item: VaultItem = {\n        id: crypto.randomUUID(),\n        shortId: `LCP-${Math.floor(10000 + Math.random() * 90000)}`,\n        name: nodeName,\n        imageUrl: currentImage,\n        originalImageUrl: originalSource || currentImage,\n        prompt: lastEnhancedPrompt || prompt, \n        agentHistory: logs,\n        params: { ...params, dna },\n        dna: dna,\n        rating: 5,\n        timestamp: Date.now(),\n        usageCount: 0,\n        neuralPreferenceScore: 50,\n        isFavorite: false,\n        vaultDomain: detectedDomain || params.vault_domain || 'X',\n        grading: localGrading,\n        sourceNodeId: activeSourceNodeId \n      };\n      \n      await onSave(item);\n      setLogs(prev => [...prev, { \n        type: 'Visual Archivist', \n        status: 'completed', \n        message: `NODE_COMMITTED: ${nodeName}. Full DNA indexed in Vault ${item.vaultDomain}.`, \n        timestamp: Date.now() \n      }]);\n      window.alert(`Vault Commit Successful.\\nNode: ${nodeName}\\nDomain: ${item.vaultDomain}`);\n    } catch (e: any) { \n        console.error(e);\n        setLogs(prev => [...prev, { type: 'Visual Archivist', status: 'error', message: 'Archival sequence failed.', timestamp: Date.now() }]);\n    } finally { \n        setIsSaving(false); \n    }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-[#0c0c0e] relative overflow-hidden min-h-full\">\n      <div className=\"hidden md:block\">\n        <MetricsDashboard params={params} />\n      </div>\n      \n      <div className=\"flex-1 flex flex-col md:flex-row relative\">\n        <StudioPreview \n          currentImage={currentImage} \n          isProcessing={isProcessing || isSaving} \n          isBiopsyActive={isBiopsyActive} \n          loadingMessage={isSaving ? \"ARCHIVING FORENSIC DATA...\" : loadingMessages[loadingStep]} \n          localGrading={localGrading} \n          params={params} \n          vault={vault} \n          onUploadClick={() => fileInputRef.current?.click()} \n          onOpenVault={(domain) => {\n            setActivePickerDomain(domain || 'BASE');\n            setShowVaultPicker(true);\n          }}\n          onSlotClick={() => {}} \n        />\n        \n        <div className=\"w-full md:w-[380px] lg:w-[440px] flex flex-col bg-[#0e0e11] border-l border-white/5 shadow-2xl relative overflow-hidden\">\n          <div className=\"flex-1 overflow-y-auto p-4 md:p-8 space-y-5 md:space-y-8 custom-scrollbar\">\n            <StudioSidebarHeader \n              onPurge={onReloadApp} \n              onZMode={() => setIsZModeOpen(true)} \n              onPose={() => setIsPoseOpen(!isPoseOpen)} \n              onLGN={() => setIsLGNOpen(true)} \n              isPoseOpen={isPoseOpen} \n              hasGrading={!!localGrading} \n            />\n\n            {isPoseOpen ? (\n              <PoseControlPanel \n                poseControl={params.pose_control} \n                setPoseControl={(pose) => setParams(prev => ({ ...prev, pose_control: pose }))} \n                vault={vault} \n                sourceImage={currentImage} \n                onExecuteSurgical={handleProcess}\n                settings={settings}\n                onOpenVault={() => {\n                  setActivePickerDomain('POSE');\n                  setShowVaultPicker(true);\n                }}\n              />\n            ) : (\n              <>\n                <StudioAuthorityPanel \n                  authority={params.agent_authority || { lighting: 50, texture: 50, structure: 50, anatomy: 50 }} \n                  onChange={(key, val) => setParams(prev => ({ ...prev, agent_authority: { ...(prev.agent_authority || { lighting: 50, texture: 50, structure: 50, anatomy: 50 }), [key]: val } }))} \n                />\n                <StudioConsensusReport report={collisionReport} />\n                <ProcessingControl speed={params.processing_speed || 'Balanced'} setSpeed={(val) => setParams(prev => ({ ...prev, processing_speed: val }))} />\n                <AgentFeed logs={logs} isProcessing={isProcessing || isOptimizing || isSaving} deliberation_flow={deliberationFlow} />\n              </>\n            )}\n          </div>\n          \n          <div className=\"flex-shrink-0\">\n            <StudioActionPanel \n              prompt={prompt} \n              setPrompt={setPrompt} \n              onProcess={handleProcess} \n              onCommit={handleCommit} \n              onOptimize={handleOptimizePrompt}\n              isProcessing={isProcessing} \n              isSaving={isSaving} \n              isOptimizing={isOptimizing}\n              hasImage={!!currentImage} \n              targetDomain={params.vault_domain || 'X'}\n              setTargetDomain={(d) => setParams(prev => ({ ...prev, vault_domain: d }))}\n            />\n          </div>\n        </div>\n      </div>\n\n      <input ref={fileInputRef} type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleFileUpload} />\n\n      {showVaultPicker && (\n        <CinemaVaultModal \n          items={vault} \n          onClose={() => setShowVaultPicker(false)} \n          onSelect={handleVaultSelect} \n        />\n      )}\n\n      <ZModeModal isOpen={isZModeOpen} onClose={() => setIsZModeOpen(false)} params={params} setParams={setParams} onAutoTune={() => {}} />\n      {localGrading && <LGNEditor isOpen={isLGNOpen} onClose={() => setIsLGNOpen(false)} grading={localGrading} onChange={setLocalGrading} />}\n    </div>\n  );\n};\n\nexport default Workspace;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3908, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/vaultLab/VaultHeader.tsx"],"sourcesContent":["\nimport React, { useRef } from 'react';\n\ninterface VaultHeaderProps {\n  nodeCount: number;\n  onExport: () => void;\n  onImport: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst VaultHeader: React.FC<VaultHeaderProps> = ({ nodeCount, onExport, onImport }) => {\n  const importFileRef = useRef<HTMLInputElement>(null);\n\n  return (\n    <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center border-b border-white/5 pb-12 gap-8\">\n      <div className=\"space-y-2\">\n        <h2 className=\"text-3xl md:text-4xl font-black text-white uppercase tracking-tighter\">Vault Repository</h2>\n        <p className=\"text-[10px] md:text-[11px] mono text-zinc-500 uppercase tracking-[0.4em]\">V11.11 Multi-Domain Logic: {nodeCount} Nodes Indexed</p>\n      </div>\n      \n      <div className=\"flex gap-2\">\n        <button onClick={onExport} className=\"px-5 py-2.5 rounded-xl bg-white/5 border border-white/10 text-[9px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-2\">\n           <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" strokeWidth={2.5}/></svg>\n           Export Package\n        </button>\n        <button onClick={() => importFileRef.current?.click()} className=\"px-5 py-2.5 rounded-xl bg-indigo-600/10 border border-indigo-500/20 text-indigo-400 text-[9px] font-black uppercase tracking-widest hover:bg-indigo-600/20 transition-all flex items-center gap-2\">\n           <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" strokeWidth={2.5}/></svg>\n           Sync External\n        </button>\n        <input type=\"file\" ref={importFileRef} className=\"hidden\" accept=\".json\" onChange={onImport} />\n      </div>\n    </div>\n  );\n};\n\nexport default VaultHeader;\n"],"names":[],"mappings":";;;;;AACA;;;AAQA,MAAM,cAA0C,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE;IAChF,MAAM,gBAAgB,IAAA,+MAAM,EAAmB;IAE/C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwE;;;;;;kCACtF,8OAAC;wBAAE,WAAU;;4BAA2E;4BAA4B;4BAAU;;;;;;;;;;;;;0BAGhI,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,SAAS;wBAAU,WAAU;;0CAClC,8OAAC;gCAAI,WAAU;gCAAc,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,8OAAC;oCAAK,GAAE;oCAAiE,aAAa;;;;;;;;;;;4BAAY;;;;;;;kCAGxL,8OAAC;wBAAO,SAAS,IAAM,cAAc,OAAO,EAAE;wBAAS,WAAU;;0CAC9D,8OAAC;gCAAI,WAAU;gCAAc,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,8OAAC;oCAAK,GAAE;oCAAiE,aAAa;;;;;;;;;;;4BAAY;;;;;;;kCAGxL,8OAAC;wBAAM,MAAK;wBAAO,KAAK;wBAAe,WAAU;wBAAS,QAAO;wBAAQ,UAAU;;;;;;;;;;;;;;;;;;AAI3F;uCAEe"}},
    {"offset": {"line": 4040, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/vaultLab/VaultFilters.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultDomain } from '../../types';\n\ninterface VaultFiltersProps {\n  filterDomain: VaultDomain | 'ALL';\n  setFilterDomain: (d: VaultDomain | 'ALL') => void;\n}\n\nconst VaultFilters: React.FC<VaultFiltersProps> = ({ filterDomain, setFilterDomain }) => {\n  const domains: { id: VaultDomain | 'ALL'; label: string }[] = [\n    { id: 'ALL', label: 'All Kernels' },\n    { id: 'X', label: 'Identity' },\n    { id: 'Y', label: 'Environment' },\n    { id: 'Z', label: 'Style' },\n    { id: 'L', label: 'Lighting' }\n  ];\n\n  return (\n    <div className=\"flex gap-2 bg-zinc-900/50 p-1.5 rounded-2xl border border-white/5 self-center lg:self-start mb-8\">\n      {domains.map(d => (\n        <button \n          key={d.id} \n          onClick={() => setFilterDomain(d.id)}\n          className={`px-4 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${filterDomain === d.id ? 'bg-indigo-600 text-white shadow-lg' : 'text-zinc-600 hover:text-zinc-400'}`}\n        >\n          {d.label}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default VaultFilters;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,eAA4C,CAAC,EAAE,YAAY,EAAE,eAAe,EAAE;IAClF,MAAM,UAAwD;QAC5D;YAAE,IAAI;YAAO,OAAO;QAAc;QAClC;YAAE,IAAI;YAAK,OAAO;QAAW;QAC7B;YAAE,IAAI;YAAK,OAAO;QAAc;QAChC;YAAE,IAAI;YAAK,OAAO;QAAQ;QAC1B;YAAE,IAAI;YAAK,OAAO;QAAW;KAC9B;IAED,qBACE,8OAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAA,kBACX,8OAAC;gBAEC,SAAS,IAAM,gBAAgB,EAAE,EAAE;gBACnC,WAAW,CAAC,sFAAsF,EAAE,iBAAiB,EAAE,EAAE,GAAG,uCAAuC,qCAAqC;0BAEvM,EAAE,KAAK;eAJH,EAAE,EAAE;;;;;;;;;;AASnB;uCAEe"}},
    {"offset": {"line": 4091, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/vaultLab/VaultNodeItem.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultItem, VaultDomain } from '../../types';\n\ninterface VaultNodeItemProps {\n  item: VaultItem;\n  isExpanded: boolean;\n  onToggleExpand: (id: string | null) => void;\n  onToggleFavorite: (id: string) => void;\n  onReload: (item: VaultItem) => void;\n  onDelete: (id: string) => void;\n  getDNAColor: (domain?: VaultDomain) => string;\n}\n\nconst VaultNodeItem: React.FC<VaultNodeItemProps> = ({ \n  item, isExpanded, onToggleExpand, onToggleFavorite, onReload, onDelete, getDNAColor \n}) => {\n  return (\n    <div className={`group bg-zinc-900/20 border rounded-[3rem] overflow-hidden flex flex-col transition-all duration-700 shadow-2xl relative ${item.isFavorite ? 'border-amber-500/50 ring-2 ring-amber-500/10' : 'border-white/5 hover:border-indigo-500/40'} ${isExpanded ? 'col-span-1 md:col-span-2 ring-1 ring-indigo-500/30' : ''}`}>\n      <div className=\"relative aspect-square overflow-hidden bg-black\">\n        <img src={item.imageUrl} className=\"w-full h-full object-cover transition-transform duration-[2000ms] group-hover:scale-110\" alt=\"Node\" />\n        \n        <div className=\"absolute top-5 right-5 flex gap-2 z-30\">\n          <button \n            onClick={() => onToggleExpand(isExpanded ? null : item.id)}\n            className={`p-2.5 rounded-full backdrop-blur-md transition-all ${isExpanded ? 'bg-indigo-600 text-white shadow-[0_0_20px_rgba(79,70,229,0.5)]' : 'bg-black/40 text-white/50 hover:text-white'}`}\n            title={isExpanded ? \"Collapse\" : \"Inspect DNA\"}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              {isExpanded ? (\n                <path d=\"M19 13l-7 7-7-7m14-8l-7 7-7-7\" strokeWidth={2.5}/>\n              ) : (\n                <path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" strokeWidth={2.5}/>\n              )}\n            </svg>\n          </button>\n          <button \n            onClick={() => onToggleFavorite(item.id)}\n            className={`p-2.5 rounded-full backdrop-blur-md transition-all ${item.isFavorite ? 'bg-amber-500 text-white shadow-[0_0_20px_rgba(245,158,11,0.5)] scale-110' : 'bg-black/40 text-white/50 hover:text-white'}`}\n          >\n            <svg className=\"w-4 h-4\" fill={item.isFavorite ? \"currentColor\" : \"none\"} stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.364-1.364a4.5 4.5 0 00-6.364 0z\" strokeWidth={2.5}/></svg>\n          </button>\n        </div>\n\n        {!isExpanded && (\n          <div className=\"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col items-center justify-center gap-4 p-8\">\n            <button onClick={() => onReload(item)} className=\"w-full py-4 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-2xl active:scale-95\">Reload Buffer</button>\n            <button onClick={() => onDelete(item.id)} className=\"w-full py-3 bg-red-600/10 hover:bg-red-600/20 text-red-500 border border-red-500/10 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all\">Purge Node</button>\n          </div>\n        )}\n        \n        <div className=\"absolute top-5 left-5 flex flex-col gap-2 z-10\">\n           <div className=\"flex flex-col\">\n              <span className=\"px-3 py-1 bg-black/80 backdrop-blur-md rounded-t-lg text-[12px] mono font-black text-white border-x border-t border-white/10\">\n                  {item.shortId}\n              </span>\n              <span className={`px-3 py-1 rounded-b-lg text-[10px] mono font-black shadow-xl border-x border-b text-white ${getDNAColor(item.vaultDomain)}`}>\n                  VAULT {item.vaultDomain}\n              </span>\n           </div>\n        </div>\n      </div>\n      \n      {!isExpanded && (\n        <div className=\"p-8 space-y-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex flex-col\">\n                <span className=\"text-[8px] mono text-zinc-600 font-black uppercase\">Neural Rank</span>\n                <div className=\"flex items-center gap-1.5 mt-1\">\n                  <div className=\"w-20 h-1.5 bg-zinc-800 rounded-full overflow-hidden\">\n                      <div className={`h-full transition-all duration-1000 ${item.isFavorite ? 'bg-amber-500' : 'bg-indigo-500'}`} style={{ width: `${item.neuralPreferenceScore}%` }} />\n                  </div>\n                  <span className={`text-[10px] mono font-bold ${item.isFavorite ? 'text-amber-400' : 'text-indigo-400'}`}>{item.neuralPreferenceScore}</span>\n                </div>\n            </div>\n            <div className=\"text-right\">\n                <span className=\"text-[8px] mono text-zinc-600 font-black uppercase\">Uses</span>\n                <p className=\"text-[10px] mono text-zinc-400 font-bold\">{item.usageCount}</p>\n            </div>\n          </div>\n          <div className=\"min-h-[40px] pt-2 border-t border-white/5\">\n            <p className=\"text-[11px] text-zinc-400 line-clamp-2 italic leading-relaxed\">\"{item.prompt}\"</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VaultNodeItem;\n"],"names":[],"mappings":";;;;;;AAcA,MAAM,gBAA8C,CAAC,EACnD,IAAI,EAAE,UAAU,EAAE,cAAc,EAAE,gBAAgB,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EACpF;IACC,qBACE,8OAAC;QAAI,WAAW,CAAC,yHAAyH,EAAE,KAAK,UAAU,GAAG,iDAAiD,4CAA4C,CAAC,EAAE,aAAa,uDAAuD,IAAI;;0BACpU,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,KAAK,KAAK,QAAQ;wBAAE,WAAU;wBAA0F,KAAI;;;;;;kCAEjI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,IAAM,eAAe,aAAa,OAAO,KAAK,EAAE;gCACzD,WAAW,CAAC,mDAAmD,EAAE,aAAa,mEAAmE,8CAA8C;gCAC/L,OAAO,aAAa,aAAa;0CAEjC,cAAA,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAChE,2BACC,8OAAC;wCAAK,GAAE;wCAAgC,aAAa;;;;;iGAErD,8OAAC;wCAAK,GAAE;wCAA8C,aAAa;;;;;;;;;;;;;;;;0CAIzE,8OAAC;gCACC,SAAS,IAAM,iBAAiB,KAAK,EAAE;gCACvC,WAAW,CAAC,mDAAmD,EAAE,KAAK,UAAU,GAAG,6EAA6E,8CAA8C;0CAE9M,cAAA,8OAAC;oCAAI,WAAU;oCAAU,MAAM,KAAK,UAAU,GAAG,iBAAiB;oCAAQ,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAA8H,aAAa;;;;;;;;;;;;;;;;;;;;;;oBAI1Q,CAAC,4BACA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,SAAS,IAAM,SAAS;gCAAO,WAAU;0CAA+H;;;;;;0CAChL,8OAAC;gCAAO,SAAS,IAAM,SAAS,KAAK,EAAE;gCAAG,WAAU;0CAAgK;;;;;;;;;;;;kCAIxN,8OAAC;wBAAI,WAAU;kCACZ,cAAA,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAK,WAAU;8CACX,KAAK,OAAO;;;;;;8CAEjB,8OAAC;oCAAK,WAAW,CAAC,0FAA0F,EAAE,YAAY,KAAK,WAAW,GAAG;;wCAAE;wCACpI,KAAK,WAAW;;;;;;;;;;;;;;;;;;;;;;;;YAMlC,CAAC,4BACA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAK,WAAU;kDAAqD;;;;;;kDACrE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACX,cAAA,8OAAC;oDAAI,WAAW,CAAC,oCAAoC,EAAE,KAAK,UAAU,GAAG,iBAAiB,iBAAiB;oDAAE,OAAO;wDAAE,OAAO,GAAG,KAAK,qBAAqB,CAAC,CAAC,CAAC;oDAAC;;;;;;;;;;;0DAElK,8OAAC;gDAAK,WAAW,CAAC,2BAA2B,EAAE,KAAK,UAAU,GAAG,mBAAmB,mBAAmB;0DAAG,KAAK,qBAAqB;;;;;;;;;;;;;;;;;;0CAG1I,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAK,WAAU;kDAAqD;;;;;;kDACrE,8OAAC;wCAAE,WAAU;kDAA4C,KAAK,UAAU;;;;;;;;;;;;;;;;;;kCAG9E,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAE,WAAU;;gCAAgE;gCAAE,KAAK,MAAM;gCAAC;;;;;;;;;;;;;;;;;;;;;;;;AAMvG;uCAEe"}},
    {"offset": {"line": 4375, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/vaultLab/VaultNodeInspector.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultItem } from '../../types';\n\ninterface VaultNodeInspectorProps {\n  item: VaultItem;\n  onReload: (item: VaultItem) => void;\n  onClose: () => void;\n}\n\nconst VaultNodeInspector: React.FC<VaultNodeInspectorProps> = ({ item, onReload, onClose }) => {\n  const dna = item.dna;\n\n  // Safe helper for rendering potential objects\n  const safeRender = (val: any, fallback: string = 'N/A') => {\n    if (!val) return fallback;\n    if (typeof val === 'object') {\n      return Object.values(val).join(', ');\n    }\n    return val;\n  };\n\n  return (\n    <div className=\"flex-1 bg-zinc-950 p-8 flex flex-col md:flex-row gap-8 animate-in slide-in-from-bottom-4 duration-500 relative rounded-[3rem] border border-white/10 shadow-3xl\">\n      <div className=\"flex-1 space-y-6\">\n        <div className=\"flex justify-between items-start\">\n          <div className=\"space-y-1\">\n            <h4 className=\"text-[9px] font-black text-indigo-400 uppercase tracking-widest\">Rigorous Biopsy Results (v12.2)</h4>\n            <p className=\"text-[14px] text-white font-black uppercase leading-tight\">{safeRender(dna?.human_description, 'Node Analyzed')}</p>\n          </div>\n          {item.sourceNodeId && (\n            <div className=\"px-3 py-1 bg-pink-600/10 border border-pink-500/20 rounded-lg flex flex-col items-end group cursor-help\">\n               <span className=\"text-[6px] font-black text-pink-400 uppercase tracking-tighter\">DNA Lineage Active</span>\n               <span className=\"text-[8px] mono text-zinc-400 font-bold uppercase truncate max-w-[80px]\">Ancestor_{item.sourceNodeId.split('-')[0]}</span>\n            </div>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"p-4 rounded-2xl bg-white/5 border border-white/5 space-y-2\">\n            <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest\">Character / Identity DNA</span>\n            <p className=\"text-[10px] text-zinc-300 italic leading-relaxed\">\"{safeRender(dna?.character_details || dna?.character || 'Identity Stable')}\"</p>\n          </div>\n          <div className=\"p-4 rounded-2xl bg-white/5 border border-white/5 space-y-2\">\n            <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest\">Environment / Context</span>\n            <p className=\"text-[10px] text-zinc-300 italic leading-relaxed\">\"{safeRender(dna?.environment_context || dna?.environment || 'Latent Space Neutral')}\"</p>\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest block px-1\">Synthesis Directive (Prompt)</span>\n          <div className=\"p-4 bg-black/40 border border-white/5 rounded-2xl text-[10px] mono text-zinc-500 leading-relaxed italic max-h-24 overflow-y-auto custom-scrollbar\">\n             \"{item.prompt}\"\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest block px-1\">Forensic Spec Tags</span>\n          <div className=\"flex flex-wrap gap-2\">\n            {dna?.technical_tags?.map((tag: any, i: number) => (\n              <span key={i} className=\"px-3 py-1 bg-zinc-900 border border-white/10 rounded-full text-[8px] mono text-zinc-400 font-bold uppercase\">\n                {typeof tag === 'object' ? Object.values(tag).join(' ') : tag}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"w-full md:w-[220px] space-y-6 border-l border-white/5 pl-0 md:pl-8 flex flex-col justify-between\">\n         <div className=\"space-y-4\">\n            <div className=\"space-y-1\">\n              <span className=\"text-[7px] font-black text-zinc-600 uppercase block\">Camera Calibration</span>\n              <p className=\"text-[10px] text-indigo-400 mono font-bold uppercase\">{safeRender(dna?.camera_specs || dna?.spatial_metadata?.camera_angle || 'Eye-Level')}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <span className=\"text-[7px] font-black text-zinc-600 uppercase block\">Lighting Profile</span>\n              <p className=\"text-[10px] text-indigo-400 mono font-bold uppercase\">{safeRender(dna?.lighting_setup || dna?.aesthetic_dna?.lighting_setup || 'Natural')}</p>\n            </div>\n            <div className=\"space-y-1\">\n              <span className=\"text-[7px] font-black text-zinc-600 uppercase block\">Pose DNA</span>\n              <p className=\"text-[10px] text-white mono font-bold uppercase truncate\">{safeRender(dna?.pose_attribute, 'Static_Equilibrium')}</p>\n            </div>\n            <div className=\"space-y-1 pt-2\">\n              <span className=\"text-[7px] font-black text-zinc-600 uppercase block\">Neural Integrity</span>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex-1 h-1 bg-zinc-800 rounded-full overflow-hidden\">\n                  <div className=\"h-full bg-emerald-500\" style={{ width: `${item.neuralPreferenceScore}%` }} />\n                </div>\n                <span className=\"text-[10px] mono text-emerald-400\">{item.neuralPreferenceScore}</span>\n              </div>\n            </div>\n         </div>\n\n         <div className=\"pt-8 border-t border-white/5 space-y-3\">\n            <button onClick={() => onReload(item)} className=\"w-full py-4 bg-white text-black hover:bg-zinc-100 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl transition-all\">Inject to Studio</button>\n            <button onClick={onClose} className=\"w-full py-3 bg-white/5 border border-white/10 text-zinc-500 hover:text-white rounded-xl text-[9px] font-black uppercase tracking-widest transition-all\">Collapse</button>\n         </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VaultNodeInspector;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4776, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/vault/Vault.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { VaultItem, VaultDomain } from '../../types';\nimport { toggleFavoriteNode, bulkSaveNodes } from '../../dbService';\n\n// Subcomponents\nimport VaultHeader from '../vaultLab/VaultHeader';\nimport VaultFilters from '../vaultLab/VaultFilters';\nimport VaultNodeItem from '../vaultLab/VaultNodeItem';\nimport VaultNodeInspector from '../vaultLab/VaultNodeInspector';\n\ninterface VaultProps {\n  items: VaultItem[];\n  onDelete: (id: string) => void;\n  onClearAll: () => void;\n  onReload: (item: VaultItem) => void;\n  onRefresh: () => Promise<void>;\n}\n\nconst Vault: React.FC<VaultProps> = ({ items, onDelete, onClearAll, onReload, onRefresh }) => {\n  const [filterDomain, setFilterDomain] = useState<VaultDomain | 'ALL'>('ALL');\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n\n  const handleToggleFavorite = async (id: string) => {\n    await toggleFavoriteNode(id);\n    await onRefresh();\n  };\n\n  const handleExport = () => {\n    const dataStr = JSON.stringify(items, null, 2);\n    const blob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `latent-vault-export-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const handleImport = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = async (ev) => {\n        try {\n          const importedItems = JSON.parse(ev.target?.result as string) as VaultItem[];\n          if (Array.isArray(importedItems)) {\n            await bulkSaveNodes(importedItems);\n            await onRefresh();\n            alert(`${importedItems.length} nodes successfully merged.`);\n          }\n        } catch (err) {\n          alert('Failed to parse vault file.');\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const getDNAColor = (domain?: VaultDomain) => {\n    switch(domain) {\n      case 'X': return 'bg-emerald-600 border-emerald-400';\n      case 'Y': return 'bg-pink-600 border-pink-400';\n      case 'Z': return 'bg-cyan-600 border-cyan-400';\n      case 'L': return 'bg-amber-600 border-amber-400';\n      default: return 'bg-zinc-700 border-white/10';\n    }\n  };\n\n  const filteredItems = items\n    .filter(item => filterDomain === 'ALL' || item.vaultDomain === filterDomain)\n    .sort((a, b) => {\n      if (a.isFavorite !== b.isFavorite) return a.isFavorite ? -1 : 1;\n      return b.neuralPreferenceScore - a.neuralPreferenceScore;\n    });\n\n  return (\n    <div className=\"p-8 md:p-12 bg-[#0c0c0e] min-h-full space-y-12 pb-32\">\n      <VaultHeader \n        nodeCount={items.length} \n        onExport={handleExport} \n        onImport={handleImport} \n      />\n\n      <div className=\"flex flex-col\">\n        <VaultFilters \n          filterDomain={filterDomain} \n          setFilterDomain={setFilterDomain} \n        />\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8\">\n          {filteredItems.map((item) => {\n            const isExpanded = expandedId === item.id;\n\n            return (\n              <React.Fragment key={item.id}>\n                <VaultNodeItem \n                  item={item}\n                  isExpanded={isExpanded}\n                  onToggleExpand={setExpandedId}\n                  onToggleFavorite={handleToggleFavorite}\n                  onReload={onReload}\n                  onDelete={onDelete}\n                  getDNAColor={getDNAColor}\n                />\n                \n                {isExpanded && (\n                  <div className=\"col-span-1 md:col-span-2 order-last md:order-none\">\n                    <VaultNodeInspector \n                      item={item}\n                      onReload={onReload}\n                      onClose={() => setExpandedId(null)}\n                    />\n                  </div>\n                )}\n              </React.Fragment>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Vault;\n"],"names":[],"mappings":";;;;;AACA;AAEA;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;;;;;;;;AAUA,MAAM,QAA8B,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE;IACvF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAsB;IACtE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,MAAM,uBAAuB,OAAO;QAClC,MAAM,IAAA,+HAAkB,EAAC;QACzB,MAAM;IACR;IAEA,MAAM,eAAe;QACnB,MAAM,UAAU,KAAK,SAAS,CAAC,OAAO,MAAM;QAC5C,MAAM,OAAO,IAAI,KAAK;YAAC;SAAQ,EAAE;YAAE,MAAM;QAAmB;QAC5D,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,oBAAoB,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;QACpF,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAC5B;IAEA,MAAM,eAAe,OAAO;QAC1B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,OAAO;gBACrB,IAAI;oBACF,MAAM,gBAAgB,KAAK,KAAK,CAAC,GAAG,MAAM,EAAE;oBAC5C,IAAI,MAAM,OAAO,CAAC,gBAAgB;wBAChC,MAAM,IAAA,0HAAa,EAAC;wBACpB,MAAM;wBACN,MAAM,GAAG,cAAc,MAAM,CAAC,2BAA2B,CAAC;oBAC5D;gBACF,EAAE,OAAO,KAAK;oBACZ,MAAM;gBACR;YACF;YACA,OAAO,UAAU,CAAC;QACpB;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,OAAO;YACL,KAAK;gBAAK,OAAO;YACjB,KAAK;gBAAK,OAAO;YACjB,KAAK;gBAAK,OAAO;YACjB,KAAK;gBAAK,OAAO;YACjB;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,gBAAgB,MACnB,MAAM,CAAC,CAAA,OAAQ,iBAAiB,SAAS,KAAK,WAAW,KAAK,cAC9D,IAAI,CAAC,CAAC,GAAG;QACR,IAAI,EAAE,UAAU,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,GAAG,CAAC,IAAI;QAC9D,OAAO,EAAE,qBAAqB,GAAG,EAAE,qBAAqB;IAC1D;IAEF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iJAAW;gBACV,WAAW,MAAM,MAAM;gBACvB,UAAU;gBACV,UAAU;;;;;;0BAGZ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,kJAAY;wBACX,cAAc;wBACd,iBAAiB;;;;;;kCAGnB,8OAAC;wBAAI,WAAU;kCACZ,cAAc,GAAG,CAAC,CAAC;4BAClB,MAAM,aAAa,eAAe,KAAK,EAAE;4BAEzC,qBACE,8OAAC,gNAAK,CAAC,QAAQ;;kDACb,8OAAC,mJAAa;wCACZ,MAAM;wCACN,YAAY;wCACZ,gBAAgB;wCAChB,kBAAkB;wCAClB,UAAU;wCACV,UAAU;wCACV,aAAa;;;;;;oCAGd,4BACC,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,wJAAkB;4CACjB,MAAM;4CACN,UAAU;4CACV,SAAS,IAAM,cAAc;;;;;;;;;;;;+BAhBhB,KAAK,EAAE;;;;;wBAsBhC;;;;;;;;;;;;;;;;;;AAKV;uCAEe"}},
    {"offset": {"line": 4942, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/manualLab/IndexerHeader.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface IndexerHeaderProps {\n  onBiopsy: () => void;\n  isScanning: boolean;\n  hasImage: boolean;\n}\n\nconst IndexerHeader: React.FC<IndexerHeaderProps> = ({ onBiopsy, isScanning, hasImage }) => {\n  return (\n    <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 relative z-10\">\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center border border-white/10 group\">\n            <svg className=\"w-6 h-6 text-indigo-500 group-hover:rotate-12 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 4v16m8-8H4\" strokeWidth={2.5}/></svg>\n          </div>\n          <div>\n            <h2 className=\"text-3xl font-black uppercase tracking-tighter text-white\">Neural Biopsy Station</h2>\n            <p className=\"text-[10px] mono text-zinc-500 uppercase tracking-[0.5em]\">LCP_v11.11 AUTOMATED INDEXING</p>\n          </div>\n        </div>\n      </div>\n      \n      {hasImage && (\n        <button \n          onClick={onBiopsy}\n          disabled={isScanning}\n          className={`group flex items-center gap-3 px-8 py-4 rounded-2xl bg-indigo-600/10 border border-indigo-500/20 text-indigo-400 font-black text-[11px] uppercase tracking-widest hover:bg-indigo-600/20 transition-all ${isScanning ? 'animate-pulse' : ''}`}\n        >\n          <svg className=\"w-4 h-4 group-hover:rotate-45 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13.5 3L11 8.5L5.5 11L11 13.5L13.5 19L16 13.5L21.5 11L16 8.5L13.5 3Z\" strokeWidth={2}/></svg>\n          {isScanning ? 'Sequencing DNA...' : 'Neural Biopsy (Magic Wand)'}\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default IndexerHeader;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,gBAA8C,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE;IACrF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;gCAAqE,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,8OAAC;oCAAK,GAAE;oCAAiB,aAAa;;;;;;;;;;;;;;;;sCAElL,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA4D;;;;;;8CAC1E,8OAAC;oCAAE,WAAU;8CAA4D;;;;;;;;;;;;;;;;;;;;;;;YAK9E,0BACC,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAW,CAAC,wMAAwM,EAAE,aAAa,kBAAkB,IAAI;;kCAEzP,8OAAC;wBAAI,WAAU;wBAAqD,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCAAY,cAAA,8OAAC;4BAAK,GAAE;4BAAuE,aAAa;;;;;;;;;;;oBACrN,aAAa,sBAAsB;;;;;;;;;;;;;AAK9C;uCAEe"}},
    {"offset": {"line": 5059, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/manualLab/IndexerUpload.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface IndexerUploadProps {\n  image: string | null;\n  isScanning: boolean;\n  scanProgress: number;\n  onUploadClick: () => void;\n}\n\nconst IndexerUpload: React.FC<IndexerUploadProps> = ({ image, isScanning, scanProgress, onUploadClick }) => {\n  return (\n    <div \n      onClick={onUploadClick}\n      className={`group relative aspect-square rounded-[3rem] md:rounded-[4rem] border-2 border-dashed transition-all duration-700 overflow-hidden cursor-pointer ${image ? 'border-transparent' : 'border-white/5 hover:border-indigo-500/30 bg-black/40'}`}\n    >\n      {image ? (\n        <>\n          <img src={image} className={`w-full h-full object-cover transition-all duration-1000 ${isScanning ? 'scale-110 blur-sm grayscale' : 'scale-100 grayscale-0'}`} alt=\"Reference\" />\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60\" />\n          \n          {isScanning && (\n            <div className=\"absolute inset-0 z-20 flex flex-col items-center justify-center space-y-4\">\n              <div className=\"w-full h-[2px] bg-indigo-500 shadow-[0_0_20px_#6366f1] animate-scan-y absolute top-0\" />\n              <div className=\"bg-black/60 backdrop-blur-md px-6 py-3 rounded-full border border-indigo-500/30\">\n                <span className=\"text-[10px] font-black text-indigo-400 mono uppercase tracking-widest\">Sequencing: {Math.floor(scanProgress)}%</span>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"absolute bottom-10 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity\">\n            <span className=\"bg-black/80 backdrop-blur-md px-6 py-2 rounded-full text-[9px] font-black text-white uppercase border border-white/10\">Replace Frame</span>\n          </div>\n        </>\n      ) : (\n        <div className=\"h-full flex flex-col items-center justify-center space-y-6\">\n          <div className=\"w-20 h-20 bg-zinc-900 rounded-full flex items-center justify-center border border-white/5 group-hover:scale-110 transition-transform\">\n            <svg className=\"w-8 h-8 text-zinc-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" strokeWidth={1.5}/></svg>\n          </div>\n          <div className=\"text-center space-y-2\">\n            <p className=\"text-[11px] font-black uppercase tracking-[0.4em] text-zinc-600\">Inject Reference Frame</p>\n            <p className=\"text-[8px] mono text-zinc-800 uppercase\">TIFF / PNG / WEBP SUPPORTED</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IndexerUpload;\n"],"names":[],"mappings":";;;;;;AAUA,MAAM,gBAA8C,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,YAAY,EAAE,aAAa,EAAE;IACrG,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC,gJAAgJ,EAAE,QAAQ,uBAAuB,yDAAyD;kBAErP,sBACC;;8BACE,8OAAC;oBAAI,KAAK;oBAAO,WAAW,CAAC,wDAAwD,EAAE,aAAa,gCAAgC,yBAAyB;oBAAE,KAAI;;;;;;8BACnK,8OAAC;oBAAI,WAAU;;;;;;gBAEd,4BACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;;oCAAwE;oCAAa,KAAK,KAAK,CAAC;oCAAc;;;;;;;;;;;;;;;;;;8BAKpI,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;kCAAwH;;;;;;;;;;;;yCAI5I,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;wBAAwB,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCAAY,cAAA,8OAAC;4BAAK,GAAE;4BAAgF,aAAa;;;;;;;;;;;;;;;;8BAEpM,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAkE;;;;;;sCAC/E,8OAAC;4BAAE,WAAU;sCAA0C;;;;;;;;;;;;;;;;;;;;;;;AAMnE;uCAEe"}},
    {"offset": {"line": 5208, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/manualLab/IndexerDomainSelector.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultDomain } from '../../types';\n\ninterface IndexerDomainSelectorProps {\n  selectedDomain: VaultDomain;\n  onSelect: (domain: VaultDomain) => void;\n}\n\nconst IndexerDomainSelector: React.FC<IndexerDomainSelectorProps> = ({ selectedDomain, onSelect }) => {\n  const domains: { id: VaultDomain; label: string }[] = [\n    { id: 'X', label: 'Identity' },\n    { id: 'Y', label: 'Environment' },\n    { id: 'Z', label: 'Style' },\n    { id: 'L', label: 'Lighting' }\n  ];\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"text-[10px] font-black text-zinc-600 uppercase tracking-widest px-1\">Select Target Domain</label>\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n        {domains.map(d => (\n          <button \n            key={d.id}\n            onClick={() => onSelect(d.id)}\n            className={`flex flex-col items-center justify-center gap-2 py-5 rounded-3xl border transition-all relative overflow-hidden ${selectedDomain === d.id ? `bg-white text-black border-white shadow-2xl scale-105` : `bg-black/40 border-white/5 text-zinc-600 hover:text-zinc-400`}`}\n          >\n            <span className=\"text-[13px] font-black\">{d.id}</span>\n            <span className=\"text-[7px] font-black uppercase tracking-widest\">{d.label}</span>\n            {selectedDomain === d.id && <div className=\"absolute top-0 right-0 w-2 h-2 bg-indigo-500 rounded-bl-lg\" />}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default IndexerDomainSelector;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,wBAA8D,CAAC,EAAE,cAAc,EAAE,QAAQ,EAAE;IAC/F,MAAM,UAAgD;QACpD;YAAE,IAAI;YAAK,OAAO;QAAW;QAC7B;YAAE,IAAI;YAAK,OAAO;QAAc;QAChC;YAAE,IAAI;YAAK,OAAO;QAAQ;QAC1B;YAAE,IAAI;YAAK,OAAO;QAAW;KAC9B;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;0BAAsE;;;;;;0BACvF,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAA,kBACX,8OAAC;wBAEC,SAAS,IAAM,SAAS,EAAE,EAAE;wBAC5B,WAAW,CAAC,gHAAgH,EAAE,mBAAmB,EAAE,EAAE,GAAG,CAAC,qDAAqD,CAAC,GAAG,CAAC,4DAA4D,CAAC,EAAE;;0CAElR,8OAAC;gCAAK,WAAU;0CAA0B,EAAE,EAAE;;;;;;0CAC9C,8OAAC;gCAAK,WAAU;0CAAmD,EAAE,KAAK;;;;;;4BACzE,mBAAmB,EAAE,EAAE,kBAAI,8OAAC;gCAAI,WAAU;;;;;;;uBANtC,EAAE,EAAE;;;;;;;;;;;;;;;;AAYrB;uCAEe"}},
    {"offset": {"line": 5296, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/manualLab/IndexerDnaBiopsy.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { CategorizedDNA } from '../../types';\n\ninterface IndexerDnaBiopsyProps {\n  dna: CategorizedDNA | null;\n}\n\nconst IndexerDnaBiopsy: React.FC<IndexerDnaBiopsyProps> = ({ dna }) => {\n  if (!dna) return null;\n\n  // Safe renderer for potential objects\n  const safeRender = (val: any, fallback: string = 'N/A') => {\n    if (!val) return fallback;\n    if (typeof val === 'object') {\n      return Object.values(val).join(', ');\n    }\n    return val;\n  };\n\n  return (\n    <div className=\"flex-1 bg-zinc-950/40 border border-white/5 rounded-[3rem] p-8 space-y-6 max-h-[500px] overflow-y-auto custom-scrollbar\">\n      <div className=\"space-y-1\">\n        <h4 className=\"text-[9px] font-black text-indigo-400 uppercase tracking-widest\">Neural Biopsy Results (v12.2)</h4>\n        <p className=\"text-[14px] text-white font-black uppercase leading-tight\">{safeRender(dna.human_description, 'Node Analyzed')}</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-4\">\n        <div className=\"p-5 rounded-3xl bg-white/5 border border-white/5 space-y-2\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest\">Character / Identity DNA</span>\n          <p className=\"text-[10px] text-zinc-300 italic leading-relaxed uppercase\">{safeRender(dna.character_details)}</p>\n        </div>\n\n        <div className=\"p-5 rounded-3xl bg-white/5 border border-white/5 space-y-2\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest\">Environment / Context</span>\n          <p className=\"text-[10px] text-zinc-300 italic leading-relaxed uppercase\">{safeRender(dna.environment_context)}</p>\n        </div>\n\n        <div className=\"p-5 rounded-3xl bg-white/5 border border-white/5 space-y-2\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest\">Core Attribute / Pose</span>\n          <p className=\"text-[10px] text-zinc-300 italic leading-relaxed uppercase\">{safeRender(dna.pose_attribute)}</p>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"p-4 rounded-2xl bg-white/5 border border-white/5 space-y-1\">\n            <span className=\"text-[7px] font-black text-zinc-600 uppercase\">Camera Sync</span>\n            <p className=\"text-[9px] text-indigo-400 mono font-bold uppercase\">{safeRender(dna.camera_specs)}</p>\n          </div>\n          <div className=\"p-4 rounded-2xl bg-white/5 border border-white/5 space-y-1\">\n            <span className=\"text-[7px] font-black text-zinc-600 uppercase\">Lighting Setup</span>\n            <p className=\"text-[9px] text-indigo-400 mono font-bold uppercase\">{safeRender(dna.lighting_setup)}</p>\n          </div>\n        </div>\n\n        <div className=\"space-y-3 pt-2\">\n          <span className=\"text-[7px] font-black text-zinc-500 uppercase tracking-widest block px-1\">Technical Taxonomy</span>\n          <div className=\"flex flex-wrap gap-2\">\n            {dna.technical_tags?.map((tag: any, i) => (\n              <span key={i} className=\"px-3 py-1 bg-zinc-900 border border-white/10 rounded-full text-[8px] mono text-zinc-400 font-bold uppercase\">\n                {typeof tag === 'object' ? Object.values(tag).join(' ') : tag}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default IndexerDnaBiopsy;\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,mBAAoD,CAAC,EAAE,GAAG,EAAE;IAChE,IAAI,CAAC,KAAK,OAAO;IAEjB,sCAAsC;IACtC,MAAM,aAAa,CAAC,KAAU,WAAmB,KAAK;QACpD,IAAI,CAAC,KAAK,OAAO;QACjB,IAAI,OAAO,QAAQ,UAAU;YAC3B,OAAO,OAAO,MAAM,CAAC,KAAK,IAAI,CAAC;QACjC;QACA,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAkE;;;;;;kCAChF,8OAAC;wBAAE,WAAU;kCAA6D,WAAW,IAAI,iBAAiB,EAAE;;;;;;;;;;;;0BAG9G,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgE;;;;;;0CAChF,8OAAC;gCAAE,WAAU;0CAA8D,WAAW,IAAI,iBAAiB;;;;;;;;;;;;kCAG7G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgE;;;;;;0CAChF,8OAAC;gCAAE,WAAU;0CAA8D,WAAW,IAAI,mBAAmB;;;;;;;;;;;;kCAG/G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgE;;;;;;0CAChF,8OAAC;gCAAE,WAAU;0CAA8D,WAAW,IAAI,cAAc;;;;;;;;;;;;kCAG1G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAgD;;;;;;kDAChE,8OAAC;wCAAE,WAAU;kDAAuD,WAAW,IAAI,YAAY;;;;;;;;;;;;0CAEjG,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAgD;;;;;;kDAChE,8OAAC;wCAAE,WAAU;kDAAuD,WAAW,IAAI,cAAc;;;;;;;;;;;;;;;;;;kCAIrG,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAA2E;;;;;;0CAC3F,8OAAC;gCAAI,WAAU;0CACZ,IAAI,cAAc,EAAE,IAAI,CAAC,KAAU,kBAClC,8OAAC;wCAAa,WAAU;kDACrB,OAAO,QAAQ,WAAW,OAAO,MAAM,CAAC,KAAK,IAAI,CAAC,OAAO;uCADjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzB;uCAEe"}},
    {"offset": {"line": 5527, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/manualLab/IndexerCommitAction.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface IndexerCommitActionProps {\n  onCommit: () => void;\n  isIndexing: boolean;\n  isEnabled: boolean;\n}\n\nconst IndexerCommitAction: React.FC<IndexerCommitActionProps> = ({ onCommit, isIndexing, isEnabled }) => {\n  return (\n    <button \n      onClick={onCommit}\n      disabled={!isEnabled || isIndexing}\n      className=\"w-full py-8 md:py-10 bg-indigo-600 hover:bg-indigo-500 text-white rounded-[2.5rem] font-black uppercase tracking-[0.8em] text-[12px] shadow-[0_20px_50px_rgba(79,70,229,0.3)] active:scale-95 transition-all relative overflow-hidden group\"\n    >\n      <span className=\"relative z-10\">{isIndexing ? 'Committing to Vault...' : 'Commit Categorized DNA'}</span>\n      <div className=\"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity\" />\n    </button>\n  );\n};\n\nexport default IndexerCommitAction;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,sBAA0D,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE;IAClG,qBACE,8OAAC;QACC,SAAS;QACT,UAAU,CAAC,aAAa;QACxB,WAAU;;0BAEV,8OAAC;gBAAK,WAAU;0BAAiB,aAAa,2BAA2B;;;;;;0BACzE,8OAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;uCAEe"}},
    {"offset": {"line": 5566, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/manual/ManualNode.tsx"],"sourcesContent":["\nimport React, { useState, useRef, useEffect } from 'react';\nimport { extractDeepDNA } from '../../geminiService';\nimport { VaultItem, CategorizedDNA, VaultDomain, AppSettings } from '../../types';\n\n// Subcomponents\nimport IndexerHeader from '../manualLab/IndexerHeader';\nimport IndexerUpload from '../manualLab/IndexerUpload';\nimport IndexerDomainSelector from '../manualLab/IndexerDomainSelector';\nimport IndexerDnaBiopsy from '../manualLab/IndexerDnaBiopsy';\nimport IndexerCommitAction from '../manualLab/IndexerCommitAction';\n\ninterface ManualNodeProps {\n  onSave: (item: VaultItem) => Promise<void>;\n  settings?: AppSettings;\n}\n\nconst ManualNode: React.FC<ManualNodeProps> = ({ onSave, settings }) => {\n  const [image, setImage] = useState<string | null>(null);\n  const [dna, setDna] = useState<CategorizedDNA | null>(null);\n  const [vaultDomain, setVaultDomain] = useState<VaultDomain>('X');\n  const [isScanningDNA, setIsScanningDNA] = useState(false);\n  const [isIndexing, setIsIndexing] = useState(false);\n  const [scanProgress, setScanProgress] = useState(0);\n  \n  const fileRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    let interval: any;\n    if (isScanningDNA) {\n      setScanProgress(0);\n      interval = setInterval(() => {\n        setScanProgress(prev => (prev < 95 ? prev + Math.random() * 15 : prev));\n      }, 400);\n    } else {\n      setScanProgress(0);\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [isScanningDNA]);\n\n  const handleFile = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (ev) => {\n        setImage(ev.target?.result as string);\n        setDna(null);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleMagicBiopsy = async () => {\n    if (!image || isScanningDNA) return;\n    setIsScanningDNA(true);\n    try {\n      const result = await extractDeepDNA(image, settings);\n      setDna(result);\n      \n      // Rigorous auto-classification\n      if (result.character_details && result.character_details.length > 5) {\n        setVaultDomain('X'); \n      } else if (result.environment_context && result.environment_context.length > 5) {\n        setVaultDomain('Y'); \n      } else if (result.lighting_setup && String(result.lighting_setup).toLowerCase().includes('light')) {\n        setVaultDomain('L'); \n      } else {\n        setVaultDomain('Z'); \n      }\n    } catch (err: any) {\n      const isQuota = err?.message?.includes('429') || JSON.stringify(err).includes('429') || JSON.stringify(err).includes('RESOURCE_EXHAUSTED');\n      alert(isQuota ? 'Quota Limit Reached. Please wait a moment.' : 'Neural Biopsy Protocol Interrupted.');\n    } finally {\n      setIsScanningDNA(false);\n    }\n  };\n\n  const handleIndex = async () => {\n    if (!image || !dna || isIndexing) return;\n    setIsIndexing(true);\n    try {\n      const shortIdNum = Math.floor(10000 + Math.random() * 90000);\n      // Enhanced name generation: Subject + Context\n      const nameTag = dna.human_description?.split(',').slice(0, 2).join('_').replace(/\\s/g, '_').replace(/[^a-zA-Z0-9_]/g, '') || 'Latent_Node';\n      \n      const item: VaultItem = {\n        id: crypto.randomUUID(),\n        shortId: `LCP-${shortIdNum}`,\n        name: nameTag,\n        imageUrl: image,\n        originalImageUrl: image,\n        prompt: dna.human_description || dna.technical_tags?.join(', ') || `Visual DNA: ${nameTag}`,\n        agentHistory: [{ \n            type: 'Visual Archivist', \n            status: 'completed', \n            message: `Neural Biopsy V12.2 completed. Desc: ${dna.human_description}. Node committed to Vault ${vaultDomain}.`, \n            timestamp: Date.now(),\n            department: 'Advanced'\n        }],\n        params: {\n          z_anatomy: 1, z_structure: 1, z_lighting: 1, z_texture: 1,\n          hz_range: \"Index-v12.2\", \n          dna,\n          structural_fidelity: 1.0, \n          scale_factor: 1.0, \n          neural_metrics: { loss_mse: 0, ssim_index: 1, tensor_vram: 2.5, iteration_count: 0, consensus_score: 1.0 }\n        },\n        dna,\n        rating: 5,\n        timestamp: Date.now(),\n        usageCount: 0,\n        neuralPreferenceScore: 65,\n        isFavorite: false,\n        vaultDomain: vaultDomain\n      };\n      await onSave(item);\n      setImage(null);\n      setDna(null);\n    } catch (err) {\n      alert('Vault Commitment Failure.');\n    } finally {\n      setIsIndexing(false);\n    }\n  };\n\n  return (\n    <div className=\"h-full flex items-center justify-center p-4 md:p-12 bg-[#050505] overflow-y-auto\">\n      <div className=\"w-full max-w-6xl bg-zinc-900/10 border border-white/5 rounded-[3rem] md:rounded-[5rem] p-8 md:p-20 space-y-12 shadow-[0_0_150px_rgba(0,0,0,0.8)] backdrop-blur-3xl relative overflow-hidden\">\n        \n        <IndexerHeader \n          onBiopsy={handleMagicBiopsy} \n          isScanning={isScanningDNA} \n          hasImage={!!image} \n        />\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 md:gap-20\">\n          <div className=\"space-y-8 relative\">\n            <IndexerUpload \n              image={image} \n              isScanning={isScanningDNA} \n              scanProgress={scanProgress} \n              onUploadClick={() => !isScanningDNA && fileRef.current?.click()} \n            />\n            \n            {image && !dna && !isScanningDNA && (\n              <div className=\"p-8 bg-indigo-500/5 border border-indigo-500/10 rounded-[2.5rem] flex items-center justify-between\">\n                <p className=\"text-[10px] text-zinc-500 uppercase font-black tracking-widest leading-relaxed\">Awaiting MAD_KERNEL v12.2 neural DNA biopsy to categorize node.</p>\n                <div className=\"w-2 h-2 bg-indigo-500 rounded-full animate-pulse\" />\n              </div>\n            )}\n          </div>\n\n          <div className=\"space-y-10 flex flex-col\">\n            {dna ? (\n              <div className=\"flex-1 flex flex-col space-y-8 animate-in slide-in-from-right-12 duration-1000\">\n                <IndexerDomainSelector \n                  selectedDomain={vaultDomain} \n                  onSelect={setVaultDomain} \n                />\n                <IndexerDnaBiopsy dna={dna} />\n                <IndexerCommitAction \n                  onCommit={handleIndex} \n                  isIndexing={isIndexing} \n                  isEnabled={!!dna} \n                />\n              </div>\n            ) : (\n              <div className=\"flex-1 flex flex-col items-center justify-center text-center space-y-8 py-20 opacity-30\">\n                <div className=\"w-16 h-16 border-2 border-indigo-500/20 rounded-full border-t-indigo-500 animate-spin\" />\n                <div className=\"space-y-2\">\n                   <p className=\"text-[11px] font-black uppercase tracking-widest\">Station Locked</p>\n                   <p className=\"text-[9px] mono uppercase\">Awaiting Rigorous Input Buffer...</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <input type=\"file\" ref={fileRef} className=\"hidden\" onChange={handleFile} accept=\"image/*\" />\n\n      <style>{`\n        @keyframes scan {\n          0% { transform: translateY(0); }\n          50% { transform: translateY(100%); }\n          100% { transform: translateY(0); }\n        }\n        .animate-scan-y {\n          animation: scan 4s ease-in-out infinite;\n        }\n        .custom-scrollbar::-webkit-scrollbar { width: 4px; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ManualNode;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5896, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/fusionLab/FusionHeader.tsx"],"sourcesContent":["\nimport React from 'react';\n\nconst FusionHeader: React.FC = () => {\n  return (\n    <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-8 border-b border-white/5 pb-12\">\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center gap-4\">\n           <div className=\"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center shadow-[0_0_30px_rgba(79,70,229,0.3)] animate-pulse\">\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2a5 5 0 00-5 5v3a5 5 0 0010 0V7a5 5 0 00-5-5z\" strokeWidth={2.5}/></svg>\n           </div>\n           <div>\n              <h2 className=\"text-4xl font-black text-white uppercase tracking-tighter\">Fusion Reactor</h2>\n              <p className=\"text-[11px] mono text-zinc-500 uppercase tracking-[0.5em]\">Adaptive Synaptic Logic v10.2</p>\n           </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FusionHeader;\n"],"names":[],"mappings":";;;;;;AAGA,MAAM,eAAyB;IAC7B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;kCACZ,cAAA,8OAAC;4BAAI,WAAU;4BAAqB,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAoD,aAAa;;;;;;;;;;;;;;;;kCAEtK,8OAAC;;0CACE,8OAAC;gCAAG,WAAU;0CAA4D;;;;;;0CAC1E,8OAAC;gCAAE,WAAU;0CAA4D;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMvF;uCAEe"}},
    {"offset": {"line": 5981, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/fusionLab/FusionReactorControls.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface FusionReactorControlsProps {\n  intent: string;\n  onIntentChange: (val: string) => void;\n  onRefine: () => void;\n  isOptimizing: boolean;\n  isAutoPilot: boolean;\n  onAutoPilotToggle: () => void;\n}\n\nconst FusionReactorControls: React.FC<FusionReactorControlsProps> = ({\n  intent, onIntentChange, onRefine, isOptimizing, isAutoPilot, onAutoPilotToggle\n}) => {\n  return (\n    <div className=\"w-full flex flex-col sm:flex-row items-center gap-8 bg-zinc-950/50 p-8 rounded-[3rem] border border-white/5 shadow-inner\">\n      <div className=\"w-full md:min-w-[400px] space-y-3 relative group\">\n        <label className=\"text-[9px] font-black text-zinc-600 uppercase tracking-widest block px-1\">Neural Intent Directive</label>\n        <textarea \n          value={intent}\n          onChange={(e) => onIntentChange(e.target.value)}\n          placeholder=\"Specify synthesis...\"\n          className=\"w-full bg-black/40 border border-white/5 rounded-2xl px-6 py-4 text-sm text-white focus:outline-none h-24 resize-none transition-all focus:border-indigo-500/30\"\n        />\n        <button \n          onClick={onRefine} \n          disabled={isOptimizing || !intent.trim()} \n          className=\"absolute bottom-3 right-3 p-2 bg-indigo-600/10 text-indigo-400 rounded-xl border border-indigo-500/20 hover:bg-indigo-600/20 transition-all active:scale-95\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13.5 3L11 8.5L5.5 11L11 13.5L13.5 19L16 13.5L21.5 11L16 8.5L13.5 3Z\" strokeWidth={2}/></svg>\n        </button>\n      </div>\n      <div className=\"flex flex-col items-center gap-3\">\n        <span className=\"text-[9px] font-black text-zinc-600 uppercase tracking-widest\">AutoPilot</span>\n        <button \n          onClick={onAutoPilotToggle} \n          className={`relative w-14 h-7 rounded-full transition-all duration-500 ${isAutoPilot ? 'bg-indigo-600' : 'bg-zinc-800'}`}\n        >\n          <div className={`absolute top-1 w-5 h-5 rounded-full bg-white transition-all duration-500 ${isAutoPilot ? 'left-8' : 'left-1'}`} />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FusionReactorControls;\n"],"names":[],"mappings":";;;;;;AAYA,MAAM,wBAA8D,CAAC,EACnE,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,iBAAiB,EAC/E;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAA2E;;;;;;kCAC5F,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,aAAY;wBACZ,WAAU;;;;;;kCAEZ,8OAAC;wBACC,SAAS;wBACT,UAAU,gBAAgB,CAAC,OAAO,IAAI;wBACtC,WAAU;kCAEV,cAAA,8OAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAuE,aAAa;;;;;;;;;;;;;;;;;;;;;;0BAG/K,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAgE;;;;;;kCAChF,8OAAC;wBACC,SAAS;wBACT,WAAW,CAAC,2DAA2D,EAAE,cAAc,kBAAkB,eAAe;kCAExH,cAAA,8OAAC;4BAAI,WAAW,CAAC,yEAAyE,EAAE,cAAc,WAAW,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAKzI;uCAEe"}},
    {"offset": {"line": 6089, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/fusionLab/FusionSlotItem.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultItem } from '../../types';\n\ninterface FusionSlotItemProps {\n  label: string;\n  color: string;\n  currentId: string;\n  vault: VaultItem[];\n  onSelect: (id: string) => void;\n  isOptimizing: boolean;\n}\n\nconst FusionSlotItem: React.FC<FusionSlotItemProps> = ({ label, color, currentId, vault, onSelect, isOptimizing }) => {\n  const selectedItem = vault.find(v => v.shortId === currentId);\n  \n  return (\n    <div className={`bg-zinc-950/40 border-2 rounded-[2.5rem] p-6 transition-all duration-700 relative overflow-hidden group ${selectedItem ? 'border-indigo-500/30 ring-1 ring-indigo-500/20' : 'border-white/5 hover:border-white/10'}`}>\n      <div className=\"flex justify-between items-center mb-5\">\n        <div className=\"flex flex-col\">\n          <span className={`text-[10px] font-black uppercase tracking-[0.3em] ${color}`}>{label}</span>\n        </div>\n        {selectedItem && (\n           <button onClick={() => onSelect('')} className=\"text-zinc-600 hover:text-white p-1\">\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M6 18L18 6M6 6l12 12\" strokeWidth={3}/></svg>\n           </button>\n        )}\n      </div>\n      \n      <div className=\"relative aspect-square rounded-[2rem] bg-black/60 overflow-hidden border border-white/5 mb-6 group-hover:scale-[1.02] transition-transform\">\n        {selectedItem ? (\n          <>\n            <img src={selectedItem.imageUrl} className=\"w-full h-full object-cover opacity-50 grayscale group-hover:grayscale-0 transition-all duration-700\" alt=\"Preview\" />\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60\" />\n            \n            <div className=\"absolute top-4 right-4 flex items-center gap-2 bg-black/60 backdrop-blur-md px-2 py-1 rounded-full border border-white/10\">\n               <span className=\"text-[8px] mono text-indigo-400 font-bold\">R:{selectedItem.neuralPreferenceScore || 0}</span>\n               {selectedItem.usageCount >= 10 && <span className=\"text-[10px]\">⭐</span>}\n            </div>\n\n            <div className=\"absolute bottom-4 left-4 right-4 space-y-2\">\n               <div className=\"flex gap-1\">\n                  <div className=\"h-1 flex-1 bg-white/10 rounded-full overflow-hidden\">\n                     <div className=\"h-full bg-indigo-500\" style={{ width: `${(selectedItem.neuralPreferenceScore || 0)}%` }} />\n                  </div>\n               </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"w-full h-full flex flex-col items-center justify-center opacity-10\">\n             <svg className={`w-10 h-10 mb-2 ${color}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 4v16m8-8H4\" strokeWidth={2}/></svg>\n             <span className=\"text-[9px] font-black uppercase tracking-widest\">Awaiting Component</span>\n          </div>\n        )}\n      </div>\n\n      <select \n        value={currentId} \n        onChange={(e) => onSelect(e.target.value)}\n        disabled={isOptimizing}\n        className=\"w-full bg-zinc-900/60 border border-white/5 rounded-2xl p-4 text-[11px] text-zinc-400 font-bold outline-none hover:border-indigo-500/20 transition-all appearance-none text-center\"\n      >\n        <option value=\"\">Neural Select...</option>\n        {vault\n          .sort((a, b) => (b.neuralPreferenceScore || 0) - (a.neuralPreferenceScore || 0))\n          .map(v => (\n          <option key={v.id} value={v.shortId}>\n            {v.neuralPreferenceScore >= 80 ? '⭐ ' : ''}{v.shortId} (Score: {v.neuralPreferenceScore || 0})\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default FusionSlotItem;\n"],"names":[],"mappings":";;;;;;AAaA,MAAM,iBAAgD,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE;IAC/G,MAAM,eAAe,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK;IAEnD,qBACE,8OAAC;QAAI,WAAW,CAAC,wGAAwG,EAAE,eAAe,mDAAmD,wCAAwC;;0BACnO,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAW,CAAC,kDAAkD,EAAE,OAAO;sCAAG;;;;;;;;;;;oBAEjF,8BACE,8OAAC;wBAAO,SAAS,IAAM,SAAS;wBAAK,WAAU;kCAC5C,cAAA,8OAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAuB,aAAa;;;;;;;;;;;;;;;;;;;;;;0BAKnI,8OAAC;gBAAI,WAAU;0BACZ,6BACC;;sCACE,8OAAC;4BAAI,KAAK,aAAa,QAAQ;4BAAE,WAAU;4BAAsG,KAAI;;;;;;sCACrJ,8OAAC;4BAAI,WAAU;;;;;;sCAEf,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAK,WAAU;;wCAA4C;wCAAG,aAAa,qBAAqB,IAAI;;;;;;;gCACpG,aAAa,UAAU,IAAI,oBAAM,8OAAC;oCAAK,WAAU;8CAAc;;;;;;;;;;;;sCAGnE,8OAAC;4BAAI,WAAU;sCACZ,cAAA,8OAAC;gCAAI,WAAU;0CACZ,cAAA,8OAAC;oCAAI,WAAU;8CACZ,cAAA,8OAAC;wCAAI,WAAU;wCAAuB,OAAO;4CAAE,OAAO,GAAI,aAAa,qBAAqB,IAAI,EAAG,CAAC,CAAC;wCAAC;;;;;;;;;;;;;;;;;;;;;;iDAMjH,8OAAC;oBAAI,WAAU;;sCACZ,8OAAC;4BAAI,WAAW,CAAC,eAAe,EAAE,OAAO;4BAAE,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAiB,aAAa;;;;;;;;;;;sCACvI,8OAAC;4BAAK,WAAU;sCAAkD;;;;;;;;;;;;;;;;;0BAKzE,8OAAC;gBACC,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,UAAU;gBACV,WAAU;;kCAEV,8OAAC;wBAAO,OAAM;kCAAG;;;;;;oBAChB,MACE,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,qBAAqB,IAAI,CAAC,IAAI,CAAC,EAAE,qBAAqB,IAAI,CAAC,GAC7E,GAAG,CAAC,CAAA,kBACL,8OAAC;4BAAkB,OAAO,EAAE,OAAO;;gCAChC,EAAE,qBAAqB,IAAI,KAAK,OAAO;gCAAI,EAAE,OAAO;gCAAC;gCAAU,EAAE,qBAAqB,IAAI;gCAAE;;2BADlF,EAAE,EAAE;;;;;;;;;;;;;;;;;AAO3B;uCAEe"}},
    {"offset": {"line": 6316, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/fusionLab/FusionSlots.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultItem, FusionManifest } from '../../types';\nimport FusionSlotItem from './FusionSlotItem';\n\ninterface FusionSlotsProps {\n  manifest: FusionManifest;\n  vault: VaultItem[];\n  onSelectSlot: (key: keyof FusionManifest, id: string) => void;\n  isOptimizing: boolean;\n}\n\nconst FusionSlots: React.FC<FusionSlotsProps> = ({ manifest, vault, onSelectSlot, isOptimizing }) => {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n      <FusionSlotItem \n        label=\"PEP Node (Identity)\" \n        color=\"text-emerald-400\" \n        currentId={manifest.pep_id} \n        vault={vault} \n        onSelect={(id) => onSelectSlot('pep_id', id)} \n        isOptimizing={isOptimizing} \n      />\n      <FusionSlotItem \n        label=\"POP Node (Pose)\" \n        color=\"text-pink-400\" \n        currentId={manifest.pop_id} \n        vault={vault} \n        onSelect={(id) => onSelectSlot('pop_id', id)} \n        isOptimizing={isOptimizing} \n      />\n      <FusionSlotItem \n        label=\"POV Node (Lens)\" \n        color=\"text-cyan-400\" \n        currentId={manifest.pov_id} \n        vault={vault} \n        onSelect={(id) => onSelectSlot('pov_id', id)} \n        isOptimizing={isOptimizing} \n      />\n      <FusionSlotItem \n        label=\"AMB Node (Env)\" \n        color=\"text-amber-400\" \n        currentId={manifest.amb_id} \n        vault={vault} \n        onSelect={(id) => onSelectSlot('amb_id', id)} \n        isOptimizing={isOptimizing} \n      />\n    </div>\n  );\n};\n\nexport default FusionSlots;\n"],"names":[],"mappings":";;;;;AAGA;;;AASA,MAAM,cAA0C,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAE;IAC9F,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,qJAAc;gBACb,OAAM;gBACN,OAAM;gBACN,WAAW,SAAS,MAAM;gBAC1B,OAAO;gBACP,UAAU,CAAC,KAAO,aAAa,UAAU;gBACzC,cAAc;;;;;;0BAEhB,8OAAC,qJAAc;gBACb,OAAM;gBACN,OAAM;gBACN,WAAW,SAAS,MAAM;gBAC1B,OAAO;gBACP,UAAU,CAAC,KAAO,aAAa,UAAU;gBACzC,cAAc;;;;;;0BAEhB,8OAAC,qJAAc;gBACb,OAAM;gBACN,OAAM;gBACN,WAAW,SAAS,MAAM;gBAC1B,OAAO;gBACP,UAAU,CAAC,KAAO,aAAa,UAAU;gBACzC,cAAc;;;;;;0BAEhB,8OAAC,qJAAc;gBACb,OAAM;gBACN,OAAM;gBACN,WAAW,SAAS,MAAM;gBAC1B,OAAO;gBACP,UAAU,CAAC,KAAO,aAAa,UAAU;gBACzC,cAAc;;;;;;;;;;;;AAItB;uCAEe"}},
    {"offset": {"line": 6388, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/fusionLab/FusionAction.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface FusionActionProps {\n  onFusion: () => void;\n  isProcessing: boolean;\n  isOptimizing: boolean;\n}\n\nconst FusionAction: React.FC<FusionActionProps> = ({ onFusion, isProcessing, isOptimizing }) => {\n  return (\n    <button \n      onClick={onFusion} \n      disabled={isProcessing || isOptimizing} \n      className=\"w-full py-12 bg-white text-black rounded-[4rem] font-black uppercase tracking-[1em] text-sm shadow-[0_0_50px_rgba(255,255,255,0.1)] hover:bg-zinc-100 transition-all active:scale-[0.98] disabled:opacity-30 relative overflow-hidden group\"\n    >\n      {isProcessing && <div className=\"absolute inset-0 bg-indigo-600/20 animate-pulse\" />}\n      <span className=\"relative z-10\">{isProcessing ? 'TRANSPLANTING IDENTITY...' : 'EXECUTE NEURAL SYNTH'}</span>\n    </button>\n  );\n};\n\nexport default FusionAction;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE;IACzF,qBACE,8OAAC;QACC,SAAS;QACT,UAAU,gBAAgB;QAC1B,WAAU;;YAET,8BAAgB,8OAAC;gBAAI,WAAU;;;;;;0BAChC,8OAAC;gBAAK,WAAU;0BAAiB,eAAe,8BAA8B;;;;;;;;;;;;AAGpF;uCAEe"}},
    {"offset": {"line": 6427, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/fusion/FusionLab.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { VaultItem, FusionManifest, LatentParams, AgentStatus, AppSettings } from '../../types';\nimport { executeFusion, autoOptimizeFusion, visualAnalysisJudge, refinePromptDNA } from '../../geminiService';\nimport AgentFeed from '../shared/AgentFeed';\n\n// Subcomponents\nimport FusionHeader from '../fusionLab/FusionHeader';\nimport FusionReactorControls from '../fusionLab/FusionReactorControls';\nimport FusionSlots from '../fusionLab/FusionSlots';\nimport FusionAction from '../fusionLab/FusionAction';\n\ninterface FusionLabProps {\n  vault: VaultItem[];\n  onResult: (imageUrl: string, params: LatentParams, logs: any[]) => void;\n  settings?: AppSettings;\n}\n\nconst FusionLab: React.FC<FusionLabProps> = ({ vault, onResult, settings }) => {\n  const [manifest, setManifest] = useState<FusionManifest>({\n    pep_id: '',\n    pop_id: '',\n    pov_id: '',\n    amb_id: '',\n    weights: { pep: 1.0, pop: 1.0, pov: 1.0, amb: 1.0 },\n    style_modifiers: [],\n    surgicalSwap: false,\n    fusionIntent: '',\n    protectionStrength: 1.5\n  });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isAutoPilotActive, setIsAutoPilotActive] = useState(false);\n  const [isOptimizing, setIsOptimizing] = useState(false);\n  const [alchemistLogs, setAlchemistLogs] = useState<AgentStatus[]>([]);\n  const [autoRefine, setAutoRefine] = useState(false);\n\n  const handleFusion = async () => {\n    if (!manifest.pep_id && !manifest.pop_id) {\n      alert(\"PEP (Identity) and POP (Pose) nodes are required for a stable reactor start.\");\n      return;\n    }\n    setIsProcessing(true);\n    setAlchemistLogs([{ type: 'Neural Alchemist', status: 'processing', message: 'Warping Reactor for Identity Migration...', timestamp: Date.now(), department: 'Advanced' }]);\n    \n    try {\n      const result = await executeFusion(manifest, vault, settings);\n      setAlchemistLogs(prev => [...prev, ...result.logs]);\n\n      if (autoRefine && result.imageUrl) {\n        const popItem = vault.find(v => v.shortId === manifest.pop_id);\n        const judgeResult = await visualAnalysisJudge(result.imageUrl, manifest.fusionIntent, popItem?.imageUrl, settings);\n        \n        setAlchemistLogs(prev => [...prev, { \n          type: 'Visual Quality Judge', \n          status: 'completed', \n          message: `Consensus Score: ${Math.round(judgeResult.score * 100)}%. ${judgeResult.critique}`, \n          timestamp: Date.now(), \n          department: 'Advanced' \n        }]);\n\n        if (judgeResult.score < 0.7) {\n          const refinedManifest = { ...manifest, fusionIntent: `${manifest.fusionIntent}. Ensure full character migration: ${judgeResult.suggestion}` };\n          const refinedResult = await executeFusion(refinedManifest, vault, settings);\n          if (refinedResult.imageUrl) {\n            // Added fix: construct full LatentParams from partial result.params\n            const finalRefinedParams: LatentParams = {\n              z_anatomy: 1.0,\n              z_structure: 1.0,\n              z_lighting: 1.0,\n              z_texture: 1.0,\n              hz_range: 'Fusion-v10.2',\n              structural_fidelity: 1.0,\n              scale_factor: 1.0,\n              neural_metrics: refinedResult.params.neural_metrics\n            };\n            onResult(refinedResult.imageUrl, finalRefinedParams, alchemistLogs);\n            return;\n          }\n        }\n      }\n\n      if (result.imageUrl) {\n        // Added fix: construct full LatentParams from partial result.params\n        const finalParams: LatentParams = {\n          z_anatomy: 1.0,\n          z_structure: 1.0,\n          z_lighting: 1.0,\n          z_texture: 1.0,\n          hz_range: 'Fusion-v10.2',\n          structural_fidelity: 1.0,\n          scale_factor: 1.0,\n          neural_metrics: result.params.neural_metrics\n        };\n        onResult(result.imageUrl, finalParams, alchemistLogs);\n      }\n\n    } catch (e) {\n      setAlchemistLogs(prev => [...prev, { type: 'Neural Alchemist', status: 'error', message: 'Critical Reactor Melt.', timestamp: Date.now(), department: 'Advanced' }]);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleRefineIntent = async () => {\n    if (!manifest.fusionIntent.trim() || isOptimizing) return;\n    setIsOptimizing(true);\n    try {\n      const result = await refinePromptDNA(manifest.fusionIntent, settings);\n      setManifest(prev => ({ ...prev, fusionIntent: result.refined }));\n    } catch (e) { console.error(e); } finally { setIsOptimizing(false); }\n  };\n\n  const handleAutoPilotTrigger = async () => {\n    if (!manifest.fusionIntent.trim()) {\n      alert(\"Neural intent required.\");\n      setIsAutoPilotActive(false);\n      return;\n    }\n    setIsOptimizing(true);\n    try {\n      const { manifest: optimizedManifest } = await autoOptimizeFusion(manifest.fusionIntent, manifest, vault, settings);\n      setManifest(optimizedManifest);\n    } catch (e) { console.error(e); setIsAutoPilotActive(false); } finally { setIsOptimizing(false); }\n  };\n\n  useEffect(() => {\n    if (isAutoPilotActive && manifest.fusionIntent.trim() && !isOptimizing) {\n      handleAutoPilotTrigger();\n    }\n  }, [isAutoPilotActive]);\n\n  const handleSelectSlot = (key: keyof FusionManifest, id: string) => {\n    setManifest(prev => ({ ...prev, [key]: id }));\n  };\n\n  return (\n    <div className=\"min-h-full bg-[#08080a] p-6 lg:p-12 flex flex-col lg:flex-row gap-12 pb-32 overflow-y-auto\">\n      <div className=\"flex-1 space-y-12 max-w-5xl\">\n        <FusionHeader />\n\n        <FusionReactorControls \n          intent={manifest.fusionIntent}\n          onIntentChange={(val) => setManifest(prev => ({ ...prev, fusionIntent: val }))}\n          onRefine={handleRefineIntent}\n          isOptimizing={isOptimizing}\n          isAutoPilot={isAutoPilotActive}\n          onAutoPilotToggle={() => setIsAutoPilotActive(!isAutoPilotActive)}\n        />\n\n        <FusionSlots \n          manifest={manifest} \n          vault={vault} \n          onSelectSlot={handleSelectSlot} \n          isOptimizing={isOptimizing} \n        />\n\n        <FusionAction \n          onFusion={handleFusion} \n          isProcessing={isProcessing} \n          isOptimizing={isOptimizing} \n        />\n      </div>\n\n      <div className=\"w-full lg:w-[400px] space-y-8 h-fit lg:sticky lg:top-32\">\n        <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-zinc-600 px-2\">Reactor Log Telemetry</h3>\n        <AgentFeed logs={alchemistLogs} isProcessing={isProcessing} />\n      </div>\n    </div>\n  );\n};\n\nexport default FusionLab;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6689, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/cinemaLab/CinemaPreview.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { TimelineBeat, SubtitleSettings } from '../../types';\n\ninterface CinemaPreviewProps {\n  currentBeat: TimelineBeat | null;\n  aspectRatio: '16:9' | '9:16' | '1:1';\n  subtitleSettings: SubtitleSettings;\n  title: string;\n  credits: string;\n  isRendering: boolean;\n  renderProgress: number;\n  renderStatus: string;\n}\n\nconst CinemaPreview: React.FC<CinemaPreviewProps> = ({\n  currentBeat, aspectRatio, subtitleSettings, title, credits, isRendering, renderProgress, renderStatus\n}) => {\n  const subs = subtitleSettings;\n  \n  return (\n    <div className=\"flex-1 flex items-center justify-center p-8 relative overflow-hidden\">\n      <div className={`relative bg-zinc-950 shadow-2xl overflow-hidden rounded-[2rem] border border-white/5 transition-all duration-700 ${aspectRatio === '16:9' ? 'w-full max-w-5xl aspect-video' : aspectRatio === '1:1' ? 'h-full max-h-[80vh] aspect-square' : 'h-full max-h-[80vh] aspect-[9/16]'}`}>\n        {currentBeat ? (\n          <div className=\"w-full h-full relative\">\n            {currentBeat.assetUrl ? (\n              <img \n                src={currentBeat.assetUrl} \n                className=\"w-full h-full object-cover origin-top animate-ken-burns\" \n                style={{ transform: `translateY(${currentBeat.yOffset || 0}%)` }}\n              />\n            ) : (\n              <div className=\"w-full h-full bg-zinc-900/50 flex flex-col items-center justify-center gap-4\">\n                <svg className=\"w-12 h-12 text-zinc-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" strokeWidth={1.5}/></svg>\n                <span className=\"text-[10px] font-black text-zinc-700 uppercase tracking-widest\">Searching Web References...</span>\n              </div>\n            )}\n            \n            <div className={`absolute left-0 right-0 px-10 flex justify-center ${currentBeat.id.startsWith('title') || currentBeat.id.startsWith('credits') ? 'inset-0 items-center' : 'bottom-[15%]'}`}>\n              <div \n                style={{ \n                  fontSize: `${(currentBeat.id.startsWith('credits') || currentBeat.id.startsWith('title')) ? subs.fontSize * 0.85 : subs.fontSize}px`, \n                  color: subs.fontColor, \n                  backgroundColor: subs.backgroundColor, \n                  opacity: subs.bgOpacity, \n                  borderRadius: `${subs.fontSize * subs.radiusMult}px`, \n                  padding: `${subs.fontSize * subs.paddingVMult}px ${subs.fontSize * subs.paddingHMult}px`, \n                  textAlign: subs.textAlign, \n                  maxWidth: '90%', \n                  lineHeight: '1.4', \n                  fontWeight: 600, \n                  fontFamily: subs.fontFamily,\n                  border: '1px solid rgba(255,255,255,0.1)',\n                  whiteSpace: 'pre-wrap',\n                  boxShadow: '0 20px 40px rgba(0,0,0,0.4)'\n                }}\n                dangerouslySetInnerHTML={{ __html: currentBeat.id.startsWith('title') ? title : currentBeat.id.startsWith('credits') ? credits : currentBeat.caption }}\n              />\n            </div>\n\n            {currentBeat.sourceLink && (\n              <div className=\"absolute bottom-4 right-4 px-3 py-1 bg-black/60 backdrop-blur-md rounded-full border border-white/10 flex items-center gap-2\">\n                <div className=\"w-1 h-1 bg-indigo-500 rounded-full animate-pulse\" />\n                <span className=\"text-[9px] text-indigo-400 mono\">Web Source: {currentBeat.sourceLink}</span>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"w-full h-full flex items-center justify-center opacity-10\">\n            <p className=\"text-[10px] font-black uppercase tracking-widest text-white\">Execute o Protocolo de Roteiro</p>\n          </div>\n        )}\n\n        {isRendering && (\n          <div className=\"absolute inset-0 z-[100] bg-black/98 backdrop-blur-2xl flex flex-col items-center justify-center p-12 text-center animate-in fade-in\">\n            <div className=\"w-48 h-48 border-[12px] border-indigo-500/10 rounded-full flex items-center justify-center relative\">\n              <div className=\"absolute inset-0 border-[12px] border-indigo-500 border-t-transparent rounded-full animate-spin\" />\n              <span className=\"text-4xl font-black text-white mono\">{renderProgress}%</span>\n            </div>\n            <h4 className=\"mt-8 text-[11px] font-black uppercase tracking-[0.4em] text-indigo-400\">{renderStatus}</h4>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CinemaPreview;\n"],"names":[],"mappings":";;;;;;AAeA,MAAM,gBAA8C,CAAC,EACnD,WAAW,EAAE,WAAW,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,YAAY,EACtG;IACC,MAAM,OAAO;IAEb,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAW,CAAC,iHAAiH,EAAE,gBAAgB,SAAS,kCAAkC,gBAAgB,QAAQ,sCAAsC,qCAAqC;;gBAC/R,4BACC,8OAAC;oBAAI,WAAU;;wBACZ,YAAY,QAAQ,iBACnB,8OAAC;4BACC,KAAK,YAAY,QAAQ;4BACzB,WAAU;4BACV,OAAO;gCAAE,WAAW,CAAC,WAAW,EAAE,YAAY,OAAO,IAAI,EAAE,EAAE,CAAC;4BAAC;;;;;qFAGjE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;oCAA0B,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAA8C,aAAa;;;;;;;;;;;8CAClK,8OAAC;oCAAK,WAAU;8CAAiE;;;;;;;;;;;;sCAIrF,8OAAC;4BAAI,WAAW,CAAC,kDAAkD,EAAE,YAAY,EAAE,CAAC,UAAU,CAAC,YAAY,YAAY,EAAE,CAAC,UAAU,CAAC,aAAa,yBAAyB,gBAAgB;sCACzL,cAAA,8OAAC;gCACC,OAAO;oCACL,UAAU,GAAG,AAAC,YAAY,EAAE,CAAC,UAAU,CAAC,cAAc,YAAY,EAAE,CAAC,UAAU,CAAC,WAAY,KAAK,QAAQ,GAAG,OAAO,KAAK,QAAQ,CAAC,EAAE,CAAC;oCACpI,OAAO,KAAK,SAAS;oCACrB,iBAAiB,KAAK,eAAe;oCACrC,SAAS,KAAK,SAAS;oCACvB,cAAc,GAAG,KAAK,QAAQ,GAAG,KAAK,UAAU,CAAC,EAAE,CAAC;oCACpD,SAAS,GAAG,KAAK,QAAQ,GAAG,KAAK,YAAY,CAAC,GAAG,EAAE,KAAK,QAAQ,GAAG,KAAK,YAAY,CAAC,EAAE,CAAC;oCACxF,WAAW,KAAK,SAAS;oCACzB,UAAU;oCACV,YAAY;oCACZ,YAAY;oCACZ,YAAY,KAAK,UAAU;oCAC3B,QAAQ;oCACR,YAAY;oCACZ,WAAW;gCACb;gCACA,yBAAyB;oCAAE,QAAQ,YAAY,EAAE,CAAC,UAAU,CAAC,WAAW,QAAQ,YAAY,EAAE,CAAC,UAAU,CAAC,aAAa,UAAU,YAAY,OAAO;gCAAC;;;;;;;;;;;wBAIxJ,YAAY,UAAU,kBACrB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAK,WAAU;;wCAAkC;wCAAa,YAAY,UAAU;;;;;;;;;;;;;;;;;;6EAK3F,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAA8D;;;;;;;;;;;gBAI9E,6BACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAK,WAAU;;wCAAuC;wCAAe;;;;;;;;;;;;;sCAExE,8OAAC;4BAAG,WAAU;sCAA0E;;;;;;;;;;;;;;;;;;;;;;;AAMpG;uCAEe"}},
    {"offset": {"line": 6890, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/cinemaLab/CinemaTimeline.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { TimelineBeat } from '../../types';\n\ninterface CinemaTimelineProps {\n  beats: TimelineBeat[];\n  activeIndex: number;\n  onSelect: (index: number) => void;\n  onOpenOrchestrator: (index: number) => void;\n  loadingBeats: Record<string, boolean>;\n}\n\nconst CinemaTimeline: React.FC<CinemaTimelineProps> = ({ \n  beats, activeIndex, onSelect, onOpenOrchestrator, loadingBeats \n}) => {\n  return (\n    <div className=\"h-64 bg-zinc-950/50 p-6 overflow-y-auto border-t border-white/5 custom-scrollbar\">\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4\">\n        {beats.map((beat, i) => (\n          <div \n            key={beat.id} \n            onClick={() => onSelect(i)} \n            className={`relative aspect-video rounded-2xl border-2 transition-all cursor-pointer overflow-hidden group ${activeIndex === i ? 'border-indigo-500 scale-[1.03] z-10 shadow-[0_0_20px_rgba(79,70,229,0.3)]' : 'border-white/5 opacity-50 hover:opacity-100'}`}\n          >\n            {beat.assetUrl ? (\n              <img src={beat.assetUrl} className=\"w-full h-full object-cover\" />\n            ) : (\n              <div className={`w-full h-full bg-zinc-900 flex flex-col items-center justify-center text-[8px] text-zinc-700 font-black uppercase`}>\n                <span>{beat.id.startsWith('title') ? 'TITLE' : beat.id.startsWith('credits') ? 'CREDITS' : i+1}</span>\n                {beat.sourceLink && <span className=\"text-indigo-600 mt-1\">WEB LINK</span>}\n              </div>\n            )}\n            {loadingBeats[beat.id] && (\n              <div className=\"absolute inset-0 bg-black/60 flex items-center justify-center\">\n                <div className=\"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin\" />\n              </div>\n            )}\n            <button \n              onClick={(e) => { e.stopPropagation(); onOpenOrchestrator(i); }} \n              className=\"absolute bottom-2 right-2 p-1.5 bg-indigo-600 rounded-lg opacity-0 group-hover:opacity-100 transition-all shadow-lg hover:scale-110 active:scale-95\"\n            >\n              <svg className=\"w-3 h-3 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 4v16m8-8H4\" strokeWidth={3}/></svg>\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CinemaTimeline;\n"],"names":[],"mappings":";;;;;;AAYA,MAAM,iBAAgD,CAAC,EACrD,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,kBAAkB,EAAE,YAAY,EAC/D;IACC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,kBAChB,8OAAC;oBAEC,SAAS,IAAM,SAAS;oBACxB,WAAW,CAAC,+FAA+F,EAAE,gBAAgB,IAAI,8EAA8E,+CAA+C;;wBAE7P,KAAK,QAAQ,iBACZ,8OAAC;4BAAI,KAAK,KAAK,QAAQ;4BAAE,WAAU;;;;;qFAEnC,8OAAC;4BAAI,WAAW,CAAC,iHAAiH,CAAC;;8CACjI,8OAAC;8CAAM,KAAK,EAAE,CAAC,UAAU,CAAC,WAAW,UAAU,KAAK,EAAE,CAAC,UAAU,CAAC,aAAa,YAAY,IAAE;;;;;;gCAC5F,KAAK,UAAU,kBAAI,8OAAC;oCAAK,WAAU;8CAAuB;;;;;;;;;;;;wBAG9D,YAAY,CAAC,KAAK,EAAE,CAAC,kBACpB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;;;;;;;;;;sCAGnB,8OAAC;4BACC,SAAS,CAAC;gCAAQ,EAAE,eAAe;gCAAI,mBAAmB;4BAAI;4BAC9D,WAAU;sCAEV,cAAA,8OAAC;gCAAI,WAAU;gCAAqB,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,8OAAC;oCAAK,GAAE;oCAAiB,aAAa;;;;;;;;;;;;;;;;;mBArB7H,KAAK,EAAE;;;;;;;;;;;;;;;AA4BxB;uCAEe"}},
    {"offset": {"line": 7001, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/AgentFeed.tsx"],"sourcesContent":["\nimport React, { useEffect, useRef, useState } from 'react';\nimport { AgentStatus, DeliberationStep } from '../types';\n\ninterface AgentFeedProps {\n  logs: AgentStatus[];\n  isProcessing: boolean;\n  deliberation_flow?: DeliberationStep[];\n}\n\nconst AgentFeed: React.FC<AgentFeedProps> = ({ logs, isProcessing, deliberation_flow }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [viewMode, setViewMode] = useState<'terminal' | 'flow'>('terminal');\n\n  useEffect(() => {\n    if (containerRef.current) {\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\n    }\n  }, [logs, isProcessing]);\n\n  const getDeptColor = (dept?: string) => {\n    switch(dept) {\n      case 'Direction': return 'text-blue-400';\n      case 'Advanced': return 'text-indigo-400';\n      case 'Texture': return 'text-emerald-400';\n      case 'Casting': return 'text-pink-400';\n      default: return 'text-zinc-500';\n    }\n  };\n\n  const getLogStyle = (type: string) => {\n    if (type === 'Director') return 'bg-blue-500/5 border-blue-500/20';\n    if (type === 'Lighting Architect') return 'bg-amber-500/5 border-amber-500/20';\n    if (type === 'Texture Master') return 'bg-emerald-500/5 border-emerald-500/20';\n    if (type === 'Visual Archivist') return 'bg-indigo-600/10 border-indigo-500/30';\n    if (type === 'Meta-Prompt Translator') return 'bg-purple-500/10 border-purple-500/30';\n    return 'bg-zinc-900/40 border-white/5';\n  };\n\n  return (\n    <div className=\"bg-black border border-white/10 rounded-2xl overflow-hidden shadow-2xl relative flex flex-col h-full min-h-[400px]\">\n      {/* Terminal Header */}\n      <div className=\"bg-zinc-900/80 px-4 py-2 border-b border-white/5 flex items-center justify-between sticky top-0 z-20\">\n         <div className=\"flex gap-1.5\">\n            <div className=\"w-2.5 h-2.5 rounded-full bg-red-500/30 border border-red-500/50\" />\n            <div className=\"w-2.5 h-2.5 rounded-full bg-amber-500/30 border border-amber-500/50\" />\n            <div className=\"w-2.5 h-2.5 rounded-full bg-emerald-500/30 border border-emerald-500/50\" />\n         </div>\n         <div className=\"flex bg-black/40 p-0.5 rounded-lg border border-white/5\">\n            <button onClick={() => setViewMode('terminal')} className={`px-3 py-1 text-[8px] font-black uppercase tracking-widest rounded-md transition-all ${viewMode === 'terminal' ? 'bg-zinc-700 text-white' : 'text-zinc-600'}`}>Log</button>\n            <button onClick={() => setViewMode('flow')} className={`px-3 py-1 text-[8px] font-black uppercase tracking-widest rounded-md transition-all ${viewMode === 'flow' ? 'bg-zinc-700 text-white' : 'text-zinc-600'}`}>Flow</button>\n         </div>\n         <span className=\"hidden md:inline text-[7px] mono text-zinc-600 font-bold uppercase tracking-widest\">MAD_KERNEL_v12.2_RECOVERY</span>\n      </div>\n\n      <div \n        ref={containerRef}\n        className=\"flex-1 overflow-y-auto p-5 space-y-3 mono text-[10px] scroll-smooth custom-scrollbar relative bg-[#020202]\"\n      >\n        {/* Terminal Effects Overlay */}\n        <div className=\"absolute inset-0 pointer-events-none z-10 opacity-10 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_2px,3px_100%]\" />\n\n        {viewMode === 'terminal' ? (\n          <>\n            {logs.length === 0 && !isProcessing ? (\n              <div className=\"h-full flex flex-col items-center justify-center text-zinc-900\">\n                <p className=\"text-[9px] uppercase tracking-[0.8em] font-black animate-pulse\">KERNEL_STANDBY_</p>\n              </div>\n            ) : (\n              logs.map((log, i) => (\n                <div key={i} className={`animate-in fade-in slide-in-from-left-2 duration-300 p-3 rounded-xl border ${getLogStyle(log.type)}`}>\n                  <div className=\"flex items-start gap-3\">\n                    <span className=\"text-zinc-800 shrink-0 font-bold\">[{new Date(log.timestamp).toLocaleTimeString([], { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' })}]</span>\n                    <div className=\"flex flex-col gap-1 w-full\">\n                      <div className=\"flex justify-between items-center w-full\">\n                          <span className={`font-black shrink-0 ${getDeptColor(log.department)} uppercase tracking-tighter`}>{log.type.replace(/\\s/g, '_')}</span>\n                          {log.status === 'processing' && (\n                            <span className=\"text-[6px] px-1 bg-white/5 rounded text-zinc-600 animate-pulse\">ANALYZING</span>\n                          )}\n                          {log.flow_to && (\n                            <div className=\"flex items-center gap-1\">\n                               <span className=\"text-[6px] text-zinc-700\">→</span>\n                               <span className=\"text-[6px] text-zinc-600 font-bold uppercase\">{log.flow_to}</span>\n                            </div>\n                          )}\n                      </div>\n                      <p className=\"text-zinc-400 leading-relaxed break-words border-l border-white/5 pl-3 py-1 mt-1\">\n                        {log.message}\n                        {i === logs.length - 1 && isProcessing && <span className=\"inline-block w-2 h-4 bg-indigo-500 ml-1 animate-pulse\" />}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </>\n        ) : (\n          <div className=\"space-y-6 py-4 animate-in fade-in duration-500\">\n             {deliberation_flow && deliberation_flow.length > 0 ? deliberation_flow.map((step, i) => (\n                <div key={i} className=\"relative pl-8 before:absolute before:left-3 before:top-2 before:bottom-[-20px] before:w-0.5 before:bg-gradient-to-b before:from-indigo-500 before:to-transparent\">\n                   <div className=\"absolute left-1.5 top-1.5 w-3.5 h-3.5 bg-indigo-600 rounded-full border-2 border-black z-10 flex items-center justify-center\">\n                      <div className=\"w-1 h-1 bg-white rounded-full\" />\n                   </div>\n                   <div className=\"bg-zinc-900/60 p-4 rounded-2xl border border-white/5 space-y-2\">\n                      <div className=\"flex justify-between items-center\">\n                         <span className=\"text-[8px] font-black text-indigo-400 uppercase tracking-widest\">{step.from} → {step.to}</span>\n                         <span className=\"text-[7px] text-zinc-600 mono\">{new Date(step.timestamp).toLocaleTimeString()}</span>\n                      </div>\n                      <p className=\"text-[10px] font-black text-white uppercase\">{step.action}</p>\n                      <div className=\"flex items-center gap-2 bg-black/40 p-2 rounded-lg\">\n                         <div className=\"w-1 h-1 bg-emerald-500 rounded-full shadow-[0_0_5px_rgba(16,185,129,0.5)]\" />\n                         <span className=\"text-[8px] text-zinc-400 mono italic\">{step.impact}</span>\n                      </div>\n                   </div>\n                </div>\n             )) : (\n              <div className=\"h-full flex flex-col items-center justify-center text-zinc-900 opacity-20\">\n                <svg className=\"w-12 h-12 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13 10V3L4 14h7v7l9-11h-7z\" strokeWidth={1}/></svg>\n                <p className=\"text-[9px] uppercase tracking-widest font-black\">Awaiting Decision Trace</p>\n              </div>\n             )}\n          </div>\n        )}\n      </div>\n\n      <div className=\"bg-zinc-900/40 px-5 py-3 border-t border-white/5 flex items-center justify-between z-20\">\n        <div className=\"flex items-center gap-2\">\n            <div className={`w-1.5 h-1.5 rounded-full ${isProcessing ? 'bg-indigo-500 animate-ping' : 'bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]'}`} />\n            <span className=\"text-[8px] mono text-zinc-600 uppercase font-black tracking-widest\">\n                {isProcessing ? 'DELIBERATION_ACTIVE' : 'MAD_CORE_READY'}\n            </span>\n        </div>\n        <div className=\"flex gap-4\">\n           <span className=\"text-[7px] mono text-zinc-700\">VAULT: {logs.length} EVT</span>\n           <span className=\"text-[7px] mono text-zinc-700\">KERNEL: V12.2_MAD</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AgentFeed;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7468, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/cinemaLab/CinemaControls.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { SubtitleSettings, AppSettings, AgentStatus } from '../../types';\nimport AgentFeed from '../AgentFeed';\n\ninterface CinemaControlsProps {\n  onReset: () => void;\n  title: string;\n  setTitle: (val: string) => void;\n  credits: string;\n  setCredits: (val: string) => void;\n  aspectRatio: string;\n  setAspectRatio: (val: any) => void;\n  exportRes: string;\n  setExportRes: (val: any) => void;\n  globalDuration: number;\n  setGlobalDuration: (val: number) => void;\n  subtitleSettings: SubtitleSettings;\n  onUpdateSubtitle: (key: keyof SubtitleSettings, val: any) => void;\n  script: string;\n  setScript: (val: string) => void;\n  fidelityMode: boolean;\n  setFidelityMode: (val: boolean) => void;\n  isGenerating: boolean;\n  isRendering: boolean;\n  onAnalyze: () => void;\n  onRender: () => void;\n  onBatch: (mode: 'SCOUT' | 'AI') => void;\n  logs: AgentStatus[];\n}\n\nconst CinemaControls: React.FC<CinemaControlsProps> = (props) => {\n  const { subtitleSettings: subs } = props;\n  \n  return (\n    <div className=\"w-full lg:w-[440px] bg-[#0e0e11] border-l border-white/5 flex flex-col p-8 space-y-8 overflow-y-auto pb-40 custom-scrollbar shadow-2xl\">\n      {/* Global Config */}\n      <div className=\"space-y-6 bg-zinc-950 p-6 rounded-[2.5rem] border border-white/5\">\n        <div className=\"flex justify-between items-center\">\n          <h3 className=\"text-[10px] font-black text-indigo-400 uppercase tracking-widest\">Global Protocol</h3>\n          <button onClick={props.onReset} className=\"px-3 py-1 bg-red-600/10 text-red-500 text-[8px] font-black uppercase rounded-lg border border-red-500/20 hover:bg-red-600/20 transition-all\">Full Reset</button>\n        </div>\n        \n        <div className=\"space-y-4\">\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Capa (Título HTML)</label>\n            <div \n              contentEditable onBlur={(e) => props.setTitle(e.currentTarget.innerHTML)}\n              dangerouslySetInnerHTML={{ __html: props.title }}\n              className=\"w-full bg-black/40 border border-white/5 rounded-xl px-4 py-2.5 text-xs text-white outline-none min-h-[60px] focus:border-indigo-500/30 overflow-y-auto custom-scrollbar\" \n            />\n          </div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-1.5\">\n              <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Aspect Ratio</label>\n              <select value={props.aspectRatio} onChange={(e) => props.setAspectRatio(e.target.value)} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] font-black text-white outline-none\">\n                <option value=\"16:9\">Widescreen 16:9</option>\n                <option value=\"9:16\">Portrait 9:16</option>\n                <option value=\"1:1\">Square 1:1</option>\n              </select>\n            </div>\n            <div className=\"space-y-1.5\">\n              <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Export Res</label>\n              <select value={props.exportRes} onChange={(e) => props.setExportRes(e.target.value)} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] font-black text-white outline-none\">\n                <option value=\"1080p\">HD 1080p</option>\n                <option value=\"2K\">2K Cinema</option>\n                <option value=\"4K\">UHD 4K</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Créditos (HTML)</label>\n            <div \n              contentEditable onBlur={(e) => props.setCredits(e.currentTarget.innerHTML)}\n              dangerouslySetInnerHTML={{ __html: props.credits }}\n              className=\"w-full bg-black/40 border border-white/5 rounded-xl px-4 py-2.5 text-xs text-white outline-none min-h-[80px] focus:border-indigo-500/30 overflow-y-auto custom-scrollbar\" \n            />\n          </div>\n        </div>\n        <div className=\"space-y-4 pt-4 border-t border-white/5\">\n          <div className=\"flex justify-between text-[9px] font-black text-zinc-500 uppercase tracking-widest px-1\"><span>Duração Global</span><span className=\"text-white mono\">{props.globalDuration}s</span></div>\n          <input type=\"range\" min=\"1\" max=\"20\" value={props.globalDuration} onChange={(e) => props.setGlobalDuration(parseInt(e.target.value))} className=\"w-full h-1 bg-zinc-900 rounded-full appearance-none accent-indigo-500\" />\n        </div>\n      </div>\n\n      {/* Subtitle Protocol */}\n      <div className=\"space-y-6 bg-zinc-950 p-6 rounded-[2.5rem] border border-white/5\">\n        <h3 className=\"text-[10px] font-black text-emerald-400 uppercase tracking-widest\">Subtitle Protocol</h3>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Font Size</label>\n            <input type=\"number\" value={subs.fontSize} onChange={(e) => props.onUpdateSubtitle('fontSize', parseInt(e.target.value))} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] text-white outline-none\" />\n          </div>\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Text Color</label>\n            <input type=\"color\" value={subs.fontColor} onChange={(e) => props.onUpdateSubtitle('fontColor', e.target.value)} className=\"w-full h-8 bg-black/40 border border-white/5 rounded-xl px-1 py-1 cursor-pointer\" />\n          </div>\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Box Color</label>\n            <input type=\"color\" value={subs.backgroundColor} onChange={(e) => props.onUpdateSubtitle('backgroundColor', e.target.value)} className=\"w-full h-8 bg-black/40 border border-white/5 rounded-xl px-1 py-1 cursor-pointer\" />\n          </div>\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Opacity</label>\n            <input type=\"number\" step=\"0.1\" min=\"0\" max=\"1\" value={subs.bgOpacity} onChange={(e) => props.onUpdateSubtitle('bgOpacity', parseFloat(e.target.value))} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] text-white outline-none\" />\n          </div>\n        </div>\n        <div className=\"space-y-1.5\">\n          <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Font Family</label>\n          <select value={subs.fontFamily} onChange={(e) => props.onUpdateSubtitle('fontFamily', e.target.value)} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] text-white outline-none\">\n            <option value=\"Inter\">Inter UI</option>\n            <option value=\"JetBrains Mono\">JetBrains Mono</option>\n            <option value=\"serif\">Classic Serif</option>\n            <option value=\"sans-serif\">System Sans</option>\n          </select>\n        </div>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Radius Mult</label>\n            <input type=\"number\" step=\"0.1\" value={subs.radiusMult} onChange={(e) => props.onUpdateSubtitle('radiusMult', parseFloat(e.target.value))} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] text-white outline-none\" />\n          </div>\n          <div className=\"space-y-1.5\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest px-1\">Margin Mult</label>\n            <input type=\"number\" step=\"0.1\" value={subs.marginMult} onChange={(e) => props.onUpdateSubtitle('marginMult', parseFloat(e.target.value))} className=\"w-full bg-black/40 border border-white/5 rounded-xl px-3 py-2 text-[10px] text-white outline-none\" />\n          </div>\n        </div>\n      </div>\n\n      {/* Script & Execution */}\n      <div className=\"space-y-4\">\n        <div className=\"bg-zinc-950 p-6 rounded-[3rem] border border-white/5 space-y-4 shadow-2xl\">\n          <div className=\"flex justify-between items-center px-1 mb-2\">\n            <label className=\"text-[8px] font-black text-zinc-600 uppercase tracking-widest\">Roteiro / Script (HTML)</label>\n            <div className=\"flex items-center gap-2 bg-black/40 px-2 py-1 rounded-full border border-white/5\">\n              <span className={`text-[7px] font-black uppercase ${props.fidelityMode ? 'text-indigo-400' : 'text-zinc-600'}`}>Fidelidade</span>\n              <button onClick={() => props.setFidelityMode(!props.fidelityMode)} className={`relative w-8 h-4 rounded-full transition-all duration-300 ${props.fidelityMode ? 'bg-indigo-600' : 'bg-zinc-800'}`}>\n                <div className={`absolute top-0.5 w-3 h-3 rounded-full bg-white transition-all duration-300 ${props.fidelityMode ? 'left-4.5' : 'left-0.5'}`} />\n              </button>\n            </div>\n          </div>\n          <div \n            contentEditable onBlur={(e) => props.setScript(e.currentTarget.innerHTML)}\n            dangerouslySetInnerHTML={{ __html: props.script }}\n            className=\"w-full h-40 bg-black/50 border border-white/5 rounded-2xl p-5 text-sm text-zinc-300 focus:outline-none resize-none transition-all overflow-y-auto custom-scrollbar\" \n          />\n          <button onClick={props.onAnalyze} disabled={props.isGenerating || !props.script.trim()} className=\"w-full py-6 bg-indigo-600 hover:bg-indigo-500 text-white rounded-[1.8rem] font-black uppercase text-[10px] tracking-[0.5em] transition-all active:scale-95 shadow-xl\">Analisar & Orquestrar</button>\n        </div>\n        <button onClick={props.onRender} disabled={props.isRendering} className=\"w-full py-8 bg-emerald-600 hover:bg-emerald-500 text-white text-[12px] font-black uppercase tracking-[0.6em] rounded-[3rem] shadow-xl transition-all relative overflow-hidden group\">\n          <span className=\"relative z-10\">{props.isRendering ? 'MASTERIZANDO...' : 'MASTERIZAR UHD'}</span>\n        </button>\n      </div>\n      \n      <div className=\"bg-zinc-950 p-6 rounded-[2.5rem] border border-white/5 space-y-4\">\n        <span className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest block text-center\">Batch Processing</span>\n        <div className=\"grid grid-cols-2 gap-2\">\n          <button onClick={() => props.onBatch('SCOUT')} className=\"py-3 bg-zinc-900 text-[8px] font-black uppercase rounded-xl border border-white/5 hover:border-indigo-500 transition-all\">All Scout (Web)</button>\n          <button onClick={() => props.onBatch('AI')} className=\"py-3 bg-zinc-900 text-[8px] font-black uppercase rounded-xl border border-white/5 hover:border-pink-500 transition-all\">All Synth (IA)</button>\n        </div>\n      </div>\n\n      <AgentFeed logs={props.logs} isProcessing={props.isGenerating || props.isRendering} />\n    </div>\n  );\n};\n\nexport default CinemaControls;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8176, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/cinemaLab/CinemaAssetModal.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { TimelineBeat, VaultItem } from '../../types';\n\ninterface CinemaAssetModalProps {\n  beat: TimelineBeat;\n  index: number;\n  onClose: () => void;\n  onUpdateCaption: (val: string) => void;\n  onUpdateYOffset: (val: number) => void;\n  onAction: (mode: any, provider?: any) => void;\n  onOpenVault: () => void;\n}\n\nconst CinemaAssetModal: React.FC<CinemaAssetModalProps> = ({ \n  beat, index, onClose, onUpdateCaption, onUpdateYOffset, onAction, onOpenVault \n}) => {\n  return (\n    <div className=\"fixed inset-0 z-[500] bg-black/95 backdrop-blur-3xl flex items-center justify-center p-6 animate-in fade-in duration-300\">\n      <div className=\"w-full max-w-3xl bg-zinc-900 border border-white/10 rounded-[4rem] p-10 md:p-16 space-y-10 shadow-2xl animate-in zoom-in-95 duration-500 overflow-y-auto max-h-[90vh] custom-scrollbar\">\n        <div className=\"text-center space-y-3\">\n          <h3 className=\"text-3xl font-black text-white uppercase tracking-tighter\">Direção de Cena {index + 1}</h3>\n          <p className=\"text-[10px] text-zinc-500 uppercase tracking-[0.2em] font-bold\">Configure o visual e ajuste o enquadramento.</p>\n        </div>\n\n        <div className=\"space-y-3\">\n          <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest px-1\">Editar Legenda da Cena</label>\n          <div \n            contentEditable onBlur={(e) => onUpdateCaption(e.currentTarget.innerHTML)}\n            dangerouslySetInnerHTML={{ __html: beat.caption }}\n            className=\"w-full bg-black/60 border border-white/10 rounded-[2rem] px-8 py-6 text-sm text-white outline-none min-h-[120px] focus:border-indigo-500/30 overflow-y-auto\"\n          />\n        </div>\n\n        <div className=\"bg-zinc-950 p-8 rounded-[3rem] border border-white/5 space-y-6\">\n          <div className=\"flex justify-between items-center px-1\">\n            <label className=\"text-[9px] font-black text-emerald-400 uppercase tracking-widest\">Ajuste de Enquadramento (Y-Offset)</label>\n            <span className=\"text-[10px] mono text-white font-bold\">{beat.yOffset || 0}%</span>\n          </div>\n          <input \n            type=\"range\" min=\"-50\" max=\"50\" step=\"1\" \n            value={beat.yOffset || 0} \n            onChange={(e) => onUpdateYOffset(parseInt(e.target.value))} \n            className=\"w-full h-2 bg-zinc-800 rounded-full appearance-none accent-emerald-500 cursor-pointer\" \n          />\n          <div className=\"flex justify-between text-[7px] text-zinc-600 font-black uppercase\">\n            <span>Subir Imagem (-Y)</span>\n            <span>Descer Imagem (+Y)</span>\n          </div>\n        </div>\n\n        <div className=\"space-y-4\">\n          <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest px-1\">Web Reference Scout (Escolha o Provedor)</label>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n            {['PEXELS', 'UNSPLASH', 'PIXABAY', 'GEMINI'].map((provider: any) => (\n              <button \n                key={provider} \n                onClick={() => onAction('SCOUT', provider)} \n                className={`py-6 bg-zinc-800 text-white rounded-3xl border border-white/5 transition-all flex flex-col items-center gap-2 group hover:bg-indigo-600`}\n              >\n                <span className=\"text-[10px] font-black uppercase tracking-widest\">{provider}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4 pt-4 border-t border-white/5\">\n          <button onClick={() => onAction('AI')} className=\"py-8 bg-zinc-800 hover:bg-indigo-500 text-white rounded-[2rem] border border-white/5 transition-all flex flex-col items-center gap-4 group text-center\">\n            <svg className=\"w-5 h-5 opacity-60 group-hover:opacity-100\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13.5 3L11 8.5L5.5 11L11 13.5L13.5 19L16 13.5L21.5 11L16 8.5L13.5 3Z\" strokeWidth={2.5}/></svg>\n            <span className=\"text-[9px] font-black uppercase tracking-widest\">AI Synth</span>\n          </button>\n          <button onClick={onOpenVault} className=\"py-8 bg-zinc-800 hover:bg-emerald-600 text-white rounded-[2rem] border border-white/5 transition-all flex flex-col items-center gap-4 group text-center\">\n            <svg className=\"w-5 h-5 opacity-60 group-hover:opacity-100\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" strokeWidth={2.5}/></svg>\n            <span className=\"text-[9px] font-black uppercase tracking-widest\">Vault Node</span>\n          </button>\n          <button onClick={() => onAction('UPLOAD')} className=\"py-8 bg-zinc-800 hover:bg-amber-600 text-white rounded-[2rem] border border-white/5 transition-all flex flex-col items-center gap-4 group text-center\">\n            <svg className=\"w-5 h-5 opacity-60 group-hover:opacity-100\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" strokeWidth={2.5}/></svg>\n            <span className=\"text-[9px] font-black uppercase tracking-widest\">Upload</span>\n          </button>\n        </div>\n        <button onClick={onClose} className=\"w-full py-5 bg-white text-black rounded-3xl text-[11px] font-black uppercase tracking-[0.4em] active:scale-95 transition-all\">Fechar Edição</button>\n      </div>\n    </div>\n  );\n};\n\nexport default CinemaAssetModal;\n"],"names":[],"mappings":";;;;;;AAcA,MAAM,mBAAoD,CAAC,EACzD,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,eAAe,EAAE,eAAe,EAAE,QAAQ,EAAE,WAAW,EAC9E;IACC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;;gCAA4D;gCAAiB,QAAQ;;;;;;;sCACnG,8OAAC;4BAAE,WAAU;sCAAiE;;;;;;;;;;;;8BAGhF,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAM,WAAU;sCAAqE;;;;;;sCACtF,8OAAC;4BACC,eAAe;4BAAC,QAAQ,CAAC,IAAM,gBAAgB,EAAE,aAAa,CAAC,SAAS;4BACxE,yBAAyB;gCAAE,QAAQ,KAAK,OAAO;4BAAC;4BAChD,WAAU;;;;;;;;;;;;8BAId,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;8CAAmE;;;;;;8CACpF,8OAAC;oCAAK,WAAU;;wCAAyC,KAAK,OAAO,IAAI;wCAAE;;;;;;;;;;;;;sCAE7E,8OAAC;4BACC,MAAK;4BAAQ,KAAI;4BAAM,KAAI;4BAAK,MAAK;4BACrC,OAAO,KAAK,OAAO,IAAI;4BACvB,UAAU,CAAC,IAAM,gBAAgB,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxD,WAAU;;;;;;sCAEZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAK;;;;;;8CACN,8OAAC;8CAAK;;;;;;;;;;;;;;;;;;8BAIV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAM,WAAU;sCAAqE;;;;;;sCACtF,8OAAC;4BAAI,WAAU;sCACZ;gCAAC;gCAAU;gCAAY;gCAAW;6BAAS,CAAC,GAAG,CAAC,CAAC,yBAChD,8OAAC;oCAEC,SAAS,IAAM,SAAS,SAAS;oCACjC,WAAW,CAAC,uIAAuI,CAAC;8CAEpJ,cAAA,8OAAC;wCAAK,WAAU;kDAAoD;;;;;;mCAJ/D;;;;;;;;;;;;;;;;8BAUb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAO,SAAS,IAAM,SAAS;4BAAO,WAAU;;8CAC/C,8OAAC;oCAAI,WAAU;oCAA6C,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAAuE,aAAa;;;;;;;;;;;8CAC9M,8OAAC;oCAAK,WAAU;8CAAkD;;;;;;;;;;;;sCAEpE,8OAAC;4BAAO,SAAS;4BAAa,WAAU;;8CACtC,8OAAC;oCAAI,WAAU;oCAA6C,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAAoF,aAAa;;;;;;;;;;;8CAC3N,8OAAC;oCAAK,WAAU;8CAAkD;;;;;;;;;;;;sCAEpE,8OAAC;4BAAO,SAAS,IAAM,SAAS;4BAAW,WAAU;;8CACnD,8OAAC;oCAAI,WAAU;oCAA6C,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAAgF,aAAa;;;;;;;;;;;8CACvN,8OAAC;oCAAK,WAAU;8CAAkD;;;;;;;;;;;;;;;;;;8BAGtE,8OAAC;oBAAO,SAAS;oBAAS,WAAU;8BAA+H;;;;;;;;;;;;;;;;;AAI3K;uCAEe"}},
    {"offset": {"line": 8506, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/cinema/CinemaLab.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { TimelineBeat, CinemaProject, AgentStatus, VaultItem, SubtitleSettings, AppSettings } from '../../types';\nimport { scriptToTimeline, scoutMediaForBeat, generateImageForBeat, matchVaultForBeat, getGlobalVisualPrompt } from '../../geminiService';\nimport CinemaPreview from '../cinemaLab/CinemaPreview';\nimport CinemaTimeline from '../cinemaLab/CinemaTimeline';\nimport CinemaControls from '../cinemaLab/CinemaControls';\nimport CinemaAssetModal from '../cinemaLab/CinemaAssetModal';\nimport CinemaVaultModal from '../cinemaLab/CinemaVaultModal';\n\ninterface CinemaLabProps {\n  vault: VaultItem[];\n  onSave: (item: VaultItem) => Promise<void>;\n  currentSourceImage?: string | null;\n  project: CinemaProject;\n  setProject: React.Dispatch<React.SetStateAction<CinemaProject>>;\n  script: string;\n  setScript: (val: string) => void;\n  title: string;\n  setTitle: (val: string) => void;\n  credits: string;\n  setCredits: (val: string) => void;\n  logs: AgentStatus[];\n  setLogs: React.Dispatch<React.SetStateAction<AgentStatus[]>>;\n  activeBeatIndex: number;\n  setActiveBeatIndex: (idx: number) => void;\n  onReset: () => void;\n  settings?: AppSettings;\n}\n\nconst proHtmlToText = (html: string): string => {\n  if (!html) return \"\";\n  let text = html\n    .replace(/<br\\s*\\/?>/gi, '\\n')\n    .replace(/<\\/div>/gi, '\\n')\n    .replace(/<div[^>]*>/gi, '')\n    .replace(/<p[^>]*>/gi, '')\n    .replace(/<\\/p>/gi, '\\n')\n    .replace(/&nbsp;/g, ' ')\n    .replace(/<[^>]*>/g, '');\n  return text.trim();\n};\n\nconst wrapText = (ctx: CanvasRenderingContext2D, text: string, maxWidth: number): string[] => {\n  const sections = text.split('\\n');\n  const lines: string[] = [];\n  sections.forEach(section => {\n    const words = section.split(' ');\n    let currentLine = '';\n    words.forEach(word => {\n      const testLine = currentLine + (currentLine ? ' ' : '') + word;\n      const metrics = ctx.measureText(testLine);\n      if (metrics.width > maxWidth && currentLine) {\n        lines.push(currentLine);\n        currentLine = word;\n      } else {\n        currentLine = testLine;\n      }\n    });\n    if (currentLine) lines.push(currentLine);\n  });\n  return lines;\n};\n\nconst CinemaLab: React.FC<CinemaLabProps> = (props) => {\n  const [globalDuration, setGlobalDuration] = useState(5);\n  const [fidelityMode, setFidelityMode] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isRendering, setIsRendering] = useState(false);\n  const [renderProgress, setRenderProgress] = useState(0);\n  const [renderStatus, setRenderStatus] = useState('');\n  const [showAssetOrchestrator, setShowAssetOrchestrator] = useState<number | null>(null);\n  const [showVaultGallery, setShowVaultGallery] = useState(false);\n  const [exportRes, setExportRes] = useState('1080p');\n  const [loadingBeats, setLoadingBeats] = useState<Record<string, boolean>>({});\n  \n  const currentBeat = props.project.beats[props.activeBeatIndex];\n  const renderCanvasRef = useRef<HTMLCanvasElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (props.project.beats.length > 0) {\n      props.setProject(prev => ({\n        ...prev,\n        beats: prev.beats.map(beat => ({ ...beat, duration: globalDuration }))\n      }));\n    }\n  }, [globalDuration]);\n\n  const handleUpdateSubtitle = (key: keyof SubtitleSettings, val: any) => {\n    props.setProject(prev => ({\n      ...prev,\n      subtitleSettings: { ...prev.subtitleSettings!, [key]: val }\n    }));\n  };\n\n  const handleAnalyzeScript = async () => {\n    const plainScript = proHtmlToText(props.script);\n    if (!plainScript.trim()) return;\n    setIsGenerating(true);\n    props.setLogs([{ type: 'Script Analyzer', status: 'processing', message: `Iniciando orquestração narrativa...`, timestamp: Date.now() }]);\n    try {\n      let beats = await scriptToTimeline(plainScript, 30, fidelityMode, props.settings);\n      if (proHtmlToText(props.title).trim()) {\n        const globalScout = await getGlobalVisualPrompt(plainScript, props.settings);\n        beats = [{ id: 'title-' + crypto.randomUUID(), timestamp: Date.now(), duration: globalDuration, assetUrl: null, caption: props.title, assetType: 'IMAGE', scoutQuery: globalScout, yOffset: 0 }, ...beats];\n      }\n      beats.push({ id: 'credits-' + crypto.randomUUID(), timestamp: Date.now(), duration: globalDuration, assetUrl: null, caption: props.credits, assetType: 'IMAGE', scoutQuery: 'Cinema credits background', yOffset: 0 });\n      props.setProject(prev => ({ ...prev, beats: beats.map(b => ({ ...b, duration: globalDuration, yOffset: 0 })) }));\n      props.setLogs(prev => [...prev, { type: 'Director', status: 'completed', message: 'Timeline gerada.', timestamp: Date.now() }]);\n    } catch (e) { props.setLogs(prev => [...prev, { type: 'Director', status: 'error', message: 'Falha na orquestração.', timestamp: Date.now() }]); }\n    finally { setIsGenerating(false); }\n  };\n\n  const handleAssetAction = async (index: number, mode: string, provider?: any, forcedVaultItem?: VaultItem) => {\n    const beat = props.project.beats[index];\n    if (!beat) return;\n    setLoadingBeats(prev => ({ ...prev, [beat.id]: true }));\n    try {\n      let assetUrl: string | null = null;\n      let sourceLink = \"\";\n      if (mode === 'SCOUT') {\n        const res = await scoutMediaForBeat(beat.scoutQuery || '', proHtmlToText(beat.caption), props.settings, provider);\n        assetUrl = res.assetUrl; sourceLink = res.source;\n      } else if (mode === 'AI') {\n        assetUrl = await generateImageForBeat(proHtmlToText(beat.caption), beat.scoutQuery || '', props.settings);\n      } else if (mode === 'VAULT_AUTO') {\n        const match = await matchVaultForBeat(proHtmlToText(beat.caption), props.vault, props.settings);\n        if (match) assetUrl = match.imageUrl;\n      } else if (mode === 'VAULT_MANUAL' && forcedVaultItem) {\n        assetUrl = forcedVaultItem.imageUrl;\n      } else if (mode === 'UPLOAD') {\n        fileInputRef.current?.click();\n        return;\n      }\n      props.setProject(prev => {\n        const updated = [...prev.beats];\n        updated[index] = { ...updated[index], assetUrl, assetType: 'IMAGE', sourceLink };\n        return { ...prev, beats: updated };\n      });\n    } catch (e) { console.error(e); }\n    finally { setLoadingBeats(prev => ({ ...prev, [beat.id]: false })); }\n  };\n\n  const handleBatchGenerate = async (mode: 'SCOUT' | 'AI') => {\n    setIsGenerating(true);\n    for (let i = 0; i < props.project.beats.length; i++) {\n      if (props.project.beats[i].id.startsWith('credits') || props.project.beats[i].id.startsWith('title')) continue;\n      await handleAssetAction(i, mode);\n    }\n    setIsGenerating(false);\n  };\n\n  const handleLocalRender = async () => {\n    if (props.project.beats.length === 0) return;\n    const canvas = renderCanvasRef.current;\n    if (!canvas) return;\n    setIsRendering(true); setRenderProgress(0); setRenderStatus('Motor de Renderização Iniciado...');\n    try {\n      const subs = props.project.subtitleSettings!;\n      let width = 1920, height = 1080;\n      if (exportRes === '4K') { width = 3840; height = 2160; }\n      else if (exportRes === '2K') { width = 2560; height = 1440; }\n      if (props.project.aspectRatio === '9:16') { [width, height] = [height, width]; }\n      else if (props.project.aspectRatio === '1:1') { width = height; }\n      canvas.width = width; canvas.height = height;\n      const stream = canvas.captureStream(30);\n      const recorder = new MediaRecorder(stream, { mimeType: 'video/webm', videoBitsPerSecond: 40000000 });\n      const chunks: Blob[] = [];\n      recorder.ondataavailable = (e) => chunks.push(e.data);\n      const finishPromise = new Promise<void>((res) => {\n        recorder.onstop = () => {\n          const blob = new Blob(chunks, { type: 'video/webm' });\n          const url = URL.createObjectURL(blob);\n          const a = document.createElement('a'); a.href = url; a.download = `Cinema_Master.webm`; a.click(); res();\n        };\n      });\n      recorder.start();\n      const ctx = canvas.getContext('2d', { alpha: false });\n      if (!ctx) return;\n      for (let i = 0; i < props.project.beats.length; i++) {\n        const beat = props.project.beats[i];\n        const image = new Image(); image.crossOrigin = \"anonymous\";\n        if (beat.assetUrl) {\n          await new Promise(r => { image.src = beat.assetUrl!; image.onload = r; image.onerror = r; });\n        }\n        const frames = (beat.duration || globalDuration) * 30;\n        for (let f = 0; f < frames; f++) {\n          const fp = f / frames;\n          setRenderProgress(Math.round(((i / props.project.beats.length) + (fp / props.project.beats.length)) * 100));\n          ctx.fillStyle = \"black\"; ctx.fillRect(0, 0, width, height);\n          if (image.src) {\n            const scale = 1 + (fp * 0.12);\n            const baseScale = Math.max(width / image.width, height / image.height);\n            const finalScale = baseScale * scale;\n            const dW = image.width * finalScale; const dH = image.height * finalScale;\n            ctx.drawImage(image, (width - dW) / 2, (beat.yOffset || 0) * (height / 100), dW, dH);\n          }\n          const scaleFactor = width / 800;\n          const adjFS = Math.max(Math.round(subs.fontSize * scaleFactor), 40);\n          ctx.font = `600 ${adjFS}px ${subs.fontFamily}`; ctx.textAlign = 'center'; ctx.textBaseline = \"middle\";\n          const wrapped = wrapText(ctx, proHtmlToText(beat.caption), width - (adjFS * subs.marginMult * 2));\n          const lineH = adjFS * 1.4; const bH = (wrapped.length * lineH) + (adjFS * subs.paddingVMult * 2);\n          const bY = height - (height * 0.15) - bH;\n          let maxW = 0; wrapped.forEach(l => { const w = ctx.measureText(l).width; if (w > maxW) maxW = w; });\n          const bW = maxW + (adjFS * subs.paddingHMult * 2); const bX = (width - bW) / 2;\n          ctx.fillStyle = subs.backgroundColor; ctx.globalAlpha = subs.bgOpacity;\n          ctx.beginPath(); ctx.roundRect(bX, bY, bW, bH, Math.round(adjFS * subs.radiusMult)); ctx.fill();\n          ctx.globalAlpha = 1.0; ctx.fillStyle = subs.fontColor;\n          wrapped.forEach((l, idx) => ctx.fillText(l, width/2, bY + (adjFS * subs.paddingVMult) + (idx * lineH) + (adjFS * 0.5)));\n          await new Promise(requestAnimationFrame);\n        }\n      }\n      recorder.stop(); await finishPromise;\n    } catch (e) { console.error(e); }\n    finally { setIsRendering(false); }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-[#050505] overflow-hidden min-h-full\">\n      <canvas ref={renderCanvasRef} className=\"fixed -left-[10000px] pointer-events-none\" />\n      <div className=\"flex-1 flex flex-col lg:flex-row relative\">\n        <div className=\"flex-1 bg-black flex flex-col relative border-r border-white/5 overflow-hidden\">\n          <CinemaPreview \n            currentBeat={currentBeat} \n            aspectRatio={props.project.aspectRatio} \n            subtitleSettings={props.project.subtitleSettings!} \n            title={props.title} \n            credits={props.credits} \n            isRendering={isRendering} \n            renderProgress={renderProgress} \n            renderStatus={renderStatus} \n          />\n          <CinemaTimeline \n            beats={props.project.beats} \n            activeIndex={props.activeBeatIndex} \n            onSelect={props.setActiveBeatIndex} \n            onOpenOrchestrator={setShowAssetOrchestrator} \n            loadingBeats={loadingBeats} \n          />\n        </div>\n        <CinemaControls \n          {...props} \n          aspectRatio={props.project.aspectRatio}\n          setAspectRatio={(val) => props.setProject(prev => ({ ...prev, aspectRatio: val }))}\n          exportRes={exportRes} setExportRes={setExportRes} \n          globalDuration={globalDuration} setGlobalDuration={setGlobalDuration} \n          subtitleSettings={props.project.subtitleSettings!} \n          onUpdateSubtitle={handleUpdateSubtitle} \n          fidelityMode={fidelityMode} setFidelityMode={setFidelityMode} \n          isGenerating={isGenerating} isRendering={isRendering} \n          onAnalyze={handleAnalyzeScript} onRender={handleLocalRender} \n          onBatch={handleBatchGenerate} \n        />\n      </div>\n\n      {showAssetOrchestrator !== null && (\n        <CinemaAssetModal \n          beat={props.project.beats[showAssetOrchestrator]} \n          index={showAssetOrchestrator} \n          onClose={() => setShowAssetOrchestrator(null)} \n          onUpdateCaption={(val) => {\n            const updated = [...props.project.beats];\n            updated[showAssetOrchestrator] = { ...updated[showAssetOrchestrator], caption: val };\n            props.setProject(prev => ({ ...prev, beats: updated }));\n          }}\n          onUpdateYOffset={(val) => {\n            const updated = [...props.project.beats];\n            updated[showAssetOrchestrator] = { ...updated[showAssetOrchestrator], yOffset: val };\n            props.setProject(prev => ({ ...prev, beats: updated }));\n          }}\n          onAction={(mode, provider) => handleAssetAction(showAssetOrchestrator, mode, provider)}\n          onOpenVault={() => setShowVaultGallery(true)}\n        />\n      )}\n\n      {showVaultGallery && (\n        <CinemaVaultModal \n          items={props.vault} \n          onClose={() => setShowVaultGallery(false)} \n          onSelect={(item) => {\n            handleAssetAction(showAssetOrchestrator || 0, 'VAULT_MANUAL', undefined, item);\n            setShowVaultGallery(false); setShowAssetOrchestrator(null);\n          }} \n        />\n      )}\n\n      <input ref={fileInputRef} type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={(e) => {\n        const file = e.target.files?.[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = (ev) => {\n            const res = ev.target?.result as string;\n            const idx = showAssetOrchestrator ?? props.activeBeatIndex;\n            const updated = [...props.project.beats];\n            updated[idx] = { ...updated[idx], assetUrl: res, assetType: 'UPLOAD' };\n            props.setProject(prev => ({ ...prev, beats: updated }));\n            setShowAssetOrchestrator(null);\n          };\n          reader.readAsDataURL(file);\n        }\n      }} />\n\n      <style>{`\n        @keyframes ken-burns { from { transform: scale(1) translateY(var(--tw-translate-y, 0)); } to { transform: scale(1.15) translate(1%, 1%) translateY(var(--tw-translate-y, 0)); } }\n        .animate-ken-burns { animation: ken-burns 15s ease-in-out infinite alternate; }\n        .custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n        [contenteditable]:empty:before { content: attr(placeholder); color: #444; }\n      `}</style>\n    </div>\n  );\n};\n\nexport default CinemaLab;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9017, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creationLab/CreationHeader.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface CreationHeaderProps {\n  onReset: () => void;\n}\n\nconst CreationHeader: React.FC<CreationHeaderProps> = ({ onReset }) => {\n  return (\n    <div className=\"flex justify-between items-start\">\n      <div className=\"flex flex-col gap-2\">\n        <h2 className=\"text-4xl font-black text-white uppercase tracking-tighter\">Nexus Creation Hub</h2>\n        <p className=\"text-[10px] mono text-zinc-500 uppercase tracking-[0.5em]\">LCP-v12.5 MAD_INDUSTRIAL CORE</p>\n      </div>\n      <button \n        onClick={onReset}\n        className=\"p-3 bg-red-600/10 border border-red-500/20 text-red-500 rounded-2xl hover:bg-red-600/20 transition-all flex items-center gap-2\"\n        title=\"Reset Protocol\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" strokeWidth={2}/></svg>\n      </button>\n    </div>\n  );\n};\n\nexport default CreationHeader;\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,iBAAgD,CAAC,EAAE,OAAO,EAAE;IAChE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA4D;;;;;;kCAC1E,8OAAC;wBAAE,WAAU;kCAA4D;;;;;;;;;;;;0BAE3E,8OAAC;gBACC,SAAS;gBACT,WAAU;gBACV,OAAM;0BAEN,cAAA,8OAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,GAAE;wBAA+H,aAAa;;;;;;;;;;;;;;;;;;;;;;AAI3O;uCAEe"}},
    {"offset": {"line": 9091, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creationLab/CreationInputs.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface CreationInputsProps {\n  prompt: string;\n  setPrompt: (val: string) => void;\n  refinedPrompt: string;\n  isOptimizing: boolean;\n  onMagicWand: () => void;\n}\n\nconst CreationInputs: React.FC<CreationInputsProps> = ({ prompt, setPrompt, refinedPrompt, isOptimizing, onMagicWand }) => {\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"bg-zinc-950 border border-white/5 p-8 rounded-[3rem] space-y-5 shadow-2xl transition-all relative group\">\n        <div className=\"flex justify-between items-center px-1\">\n          <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest block\">User Intent</label>\n          <button \n            onClick={onMagicWand}\n            disabled={isOptimizing || !prompt.trim()}\n            className={`p-2 rounded-xl border border-indigo-500/20 bg-indigo-500/5 text-indigo-400 hover:bg-indigo-500/10 transition-all ${isOptimizing ? 'animate-pulse' : ''}`}\n            title=\"Meta-Prompt Optimize\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13.5 3L11 8.5L5.5 11L11 13.5L13.5 19L16 13.5L21.5 11L16 8.5L13.5 3Z\" strokeWidth={2}/></svg>\n          </button>\n        </div>\n        <textarea \n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          placeholder=\"Specify your visual intent (Portuguese or English)...\"\n          className=\"w-full h-32 bg-black/50 border border-white/5 rounded-3xl p-6 text-[13px] text-white focus:outline-none focus:border-indigo-500/30 resize-none transition-all placeholder:text-zinc-800\"\n        />\n      </div>\n\n      {refinedPrompt && (\n        <div className=\"bg-indigo-600/5 border border-indigo-500/20 p-8 rounded-[3rem] space-y-4 animate-in fade-in slide-in-from-top-4\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-[9px] font-black text-indigo-400 uppercase tracking-widest\">Meta-Prompt (Industrial English)</span>\n            <div className=\"w-1.5 h-1.5 bg-indigo-500 rounded-full shadow-[0_0_10px_rgba(99,102,241,0.5)]\" />\n          </div>\n          <p className=\"text-[11px] text-zinc-400 mono italic leading-relaxed\">\"{refinedPrompt}\"</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CreationInputs;\n"],"names":[],"mappings":";;;;;;AAWA,MAAM,iBAAgD,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,YAAY,EAAE,WAAW,EAAE;IACpH,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,WAAU;0CAAsE;;;;;;0CACvF,8OAAC;gCACC,SAAS;gCACT,UAAU,gBAAgB,CAAC,OAAO,IAAI;gCACtC,WAAW,CAAC,iHAAiH,EAAE,eAAe,kBAAkB,IAAI;gCACpK,OAAM;0CAEN,cAAA,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAAuE,aAAa;;;;;;;;;;;;;;;;;;;;;;kCAG/K,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;;;;;;;YAIb,+BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAkE;;;;;;0CAClF,8OAAC;gCAAI,WAAU;;;;;;;;;;;;kCAEjB,8OAAC;wBAAE,WAAU;;4BAAwD;4BAAE;4BAAc;;;;;;;;;;;;;;;;;;;AAK/F;uCAEe"}},
    {"offset": {"line": 9222, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creationLab/CreationAuthority.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { AgentAuthority } from '../../types';\n\ninterface CreationAuthorityProps {\n  authority: AgentAuthority;\n  onChange: (key: keyof AgentAuthority, val: number) => void;\n}\n\nconst CreationAuthority: React.FC<CreationAuthorityProps> = ({ authority, onChange }) => {\n  return (\n    <div className=\"bg-zinc-950 border border-white/5 p-8 rounded-[3rem] space-y-6 shadow-2xl relative\">\n      <div className=\"flex justify-between items-center px-1\">\n        <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest\">Agent Authority Sliders</label>\n        <span className=\"text-[8px] font-black text-zinc-600 uppercase\">Priority Control</span>\n      </div>\n      \n      <div className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-amber-400\"><span>Lighting Architect</span> <span>{authority.lighting}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"100\" value={authority.lighting} onChange={(e) => onChange('lighting', parseInt(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-amber-500\" />\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-emerald-400\"><span>Texture Master</span> <span>{authority.texture}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"100\" value={authority.texture} onChange={(e) => onChange('texture', parseInt(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-emerald-500\" />\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-pink-400\"><span>Anatomy Specialist</span> <span>{authority.anatomy}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"100\" value={authority.anatomy} onChange={(e) => onChange('anatomy', parseInt(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-pink-500\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreationAuthority;\n"],"names":[],"mappings":";;;;;;AASA,MAAM,oBAAsD,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE;IAClF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAAgE;;;;;;kCACjF,8OAAC;wBAAK,WAAU;kCAAgD;;;;;;;;;;;;0BAGlE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAiE,8OAAC;kDAAK;;;;;;oCAAyB;kDAAC,8OAAC;;4CAAM,UAAU,QAAQ;4CAAC;;;;;;;;;;;;;0CAC1I,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAM,OAAO,UAAU,QAAQ;gCAAE,UAAU,CAAC,IAAM,SAAS,YAAY,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;kCAE9I,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAmE,8OAAC;kDAAK;;;;;;oCAAqB;kDAAC,8OAAC;;4CAAM,UAAU,OAAO;4CAAC;;;;;;;;;;;;;0CACvI,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAM,OAAO,UAAU,OAAO;gCAAE,UAAU,CAAC,IAAM,SAAS,WAAW,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;kCAE5I,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAgE,8OAAC;kDAAK;;;;;;oCAAyB;kDAAC,8OAAC;;4CAAM,UAAU,OAAO;4CAAC;;;;;;;;;;;;;0CACxI,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAM,OAAO,UAAU,OAAO;gCAAE,UAAU,CAAC,IAAM,SAAS,WAAW,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpJ;uCAEe"}},
    {"offset": {"line": 9422, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creationLab/CreationZMatrix.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface CreationZMatrixProps {\n  zAnatomy: number;\n  setZAnatomy: (v: number) => void;\n  zStructure: number;\n  setZStructure: (v: number) => void;\n  zLighting: number;\n  setZLighting: (v: number) => void;\n  zTexture: number;\n  setZTexture: (v: number) => void;\n}\n\nconst CreationZMatrix: React.FC<CreationZMatrixProps> = ({ \n  zAnatomy, setZAnatomy, zStructure, setZStructure, zLighting, setZLighting, zTexture, setZTexture \n}) => {\n  return (\n    <div className=\"bg-zinc-950 border border-white/5 p-8 rounded-[3rem] space-y-6 shadow-2xl relative\">\n      <div className=\"flex justify-between items-center px-1\">\n        <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest\">Latent Z-Matrix Regulation</label>\n        <div className=\"flex items-center gap-1.5\">\n          <div className=\"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse\" />\n          <span className=\"text-[8px] font-black text-zinc-600 uppercase\">Immutability Lock</span>\n        </div>\n      </div>\n      \n      <div className=\"space-y-6\">\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-pink-400\"><span>Z_ANATOMY (DNA)</span> <span>{Math.round(zAnatomy * 100)}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"1.5\" step=\"0.01\" value={zAnatomy} onChange={(e) => setZAnatomy(parseFloat(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-pink-500\" />\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-indigo-400\"><span>Z_STRUCTURE (Geom)</span> <span>{Math.round(zStructure * 100)}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"1.5\" step=\"0.01\" value={zStructure} onChange={(e) => setZStructure(parseFloat(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-indigo-500\" />\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-amber-400\"><span>Z_LIGHTING (Rad)</span> <span>{Math.round(zLighting * 100)}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={zLighting} onChange={(e) => setZLighting(parseFloat(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-amber-500\" />\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-[10px] mono font-bold text-emerald-400\"><span>Z_TEXTURE (Pores)</span> <span>{Math.round(zTexture * 100)}%</span></div>\n          <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={zTexture} onChange={(e) => setZTexture(parseFloat(e.target.value))} className=\"w-full h-1 bg-zinc-800 rounded-full appearance-none accent-emerald-500\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreationZMatrix;\n"],"names":[],"mappings":";;;;;;AAcA,MAAM,kBAAkD,CAAC,EACvD,QAAQ,EAAE,WAAW,EAAE,UAAU,EAAE,aAAa,EAAE,SAAS,EAAE,YAAY,EAAE,QAAQ,EAAE,WAAW,EACjG;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAAgE;;;;;;kCACjF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAK,WAAU;0CAAgD;;;;;;;;;;;;;;;;;;0BAIpE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAgE,8OAAC;kDAAK;;;;;;oCAAsB;kDAAC,8OAAC;;4CAAM,KAAK,KAAK,CAAC,WAAW;4CAAK;;;;;;;;;;;;;0CAC9I,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAM,MAAK;gCAAO,OAAO;gCAAU,UAAU,CAAC,IAAM,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;kCAEzI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAkE,8OAAC;kDAAK;;;;;;oCAAyB;kDAAC,8OAAC;;4CAAM,KAAK,KAAK,CAAC,aAAa;4CAAK;;;;;;;;;;;;;0CACrJ,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAM,MAAK;gCAAO,OAAO;gCAAY,UAAU,CAAC,IAAM,cAAc,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;kCAE7I,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAiE,8OAAC;kDAAK;;;;;;oCAAuB;kDAAC,8OAAC;;4CAAM,KAAK,KAAK,CAAC,YAAY;4CAAK;;;;;;;;;;;;;0CACjJ,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAI,MAAK;gCAAO,OAAO;gCAAW,UAAU,CAAC,IAAM,aAAa,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;kCAEzI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDAAmE,8OAAC;kDAAK;;;;;;oCAAwB;kDAAC,8OAAC;;4CAAM,KAAK,KAAK,CAAC,WAAW;4CAAK;;;;;;;;;;;;;0CACnJ,8OAAC;gCAAM,MAAK;gCAAQ,KAAI;gCAAI,KAAI;gCAAI,MAAK;gCAAO,OAAO;gCAAU,UAAU,CAAC,IAAM,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAK/I;uCAEe"}},
    {"offset": {"line": 9690, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creationLab/CreationAction.tsx"],"sourcesContent":["\nimport React, { useRef } from 'react';\n\ninterface CreationActionProps {\n  isProcessing: boolean;\n  onProcess: () => void;\n  prompt: string;\n  injectedImage: string | null;\n  onImageUpload: (image: string | null) => void;\n  onOpenVault: () => void;\n}\n\nconst CreationAction: React.FC<CreationActionProps> = ({ \n  isProcessing, onProcess, prompt, injectedImage, onImageUpload, onOpenVault \n}) => {\n  const fileRef = useRef<HTMLInputElement>(null);\n  \n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (ev) => {\n        onImageUpload(ev.target?.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div className=\"bg-zinc-950 border border-white/5 p-8 rounded-[3rem] space-y-5 shadow-2xl flex-1 flex flex-col transition-all hover:border-indigo-500/20 overflow-hidden relative\">\n      <div className=\"flex justify-between items-center\">\n        <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest\">Synthesis Anchor</label>\n        {injectedImage && (\n          <button \n            onClick={() => onImageUpload(null)}\n            className=\"text-[8px] font-black text-red-500 uppercase tracking-widest hover:text-red-400\"\n          >\n            Clear DNA\n          </button>\n        )}\n      </div>\n      \n      <div \n        className={`flex-1 min-h-[140px] bg-black/40 border-2 border-dashed border-white/5 rounded-[2.5rem] flex flex-col items-center justify-center transition-all relative overflow-hidden group ${injectedImage ? 'border-indigo-500/50' : ''}`}\n      >\n        {injectedImage ? (\n          <>\n            <img src={injectedImage} className=\"absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-700\" alt=\"Injected DNA\" />\n            <div className=\"absolute inset-0 bg-indigo-900/20 mix-blend-overlay\" />\n            <div className=\"relative z-10 flex gap-2\">\n               <div className=\"bg-black/60 backdrop-blur-md px-4 py-2 rounded-xl border border-white/10\">\n                  <span className=\"text-[8px] font-black text-indigo-400 uppercase tracking-widest\">DNA_ACTIVE</span>\n               </div>\n               <button onClick={() => onOpenVault()} className=\"bg-white/10 hover:bg-white/20 backdrop-blur-md px-4 py-2 rounded-xl border border-white/10 text-[8px] font-black text-white uppercase tracking-widest transition-all\">Swap</button>\n            </div>\n          </>\n        ) : (\n          <div className=\"flex flex-col items-center gap-4 py-6\">\n            <div className=\"flex gap-3\">\n              <button \n                onClick={() => !isProcessing && fileRef.current?.click()}\n                className=\"px-6 py-3 bg-zinc-900 border border-white/5 rounded-2xl text-[9px] font-black uppercase text-zinc-400 hover:text-white hover:border-indigo-500/40 transition-all flex items-center gap-2\"\n              >\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" strokeWidth={2}/></svg>\n                Local\n              </button>\n              <button \n                onClick={() => onOpenVault()}\n                className=\"px-6 py-3 bg-indigo-600/10 border border-indigo-500/20 rounded-2xl text-[9px] font-black uppercase text-indigo-400 hover:bg-indigo-600/20 transition-all flex items-center gap-2\"\n              >\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\" strokeWidth={2}/></svg>\n                Vault\n              </button>\n            </div>\n            <p className=\"text-[8px] font-black uppercase tracking-[0.2em] text-zinc-700\">Inject DNA Anchor</p>\n          </div>\n        )}\n        <input \n          type=\"file\" \n          ref={fileRef} \n          className=\"hidden\" \n          accept=\"image/*\" \n          onChange={handleFileChange} \n        />\n      </div>\n\n      <button \n        onClick={onProcess}\n        disabled={isProcessing || !prompt.trim()}\n        className=\"w-full py-10 bg-indigo-600 hover:bg-indigo-500 text-white rounded-[2rem] font-black uppercase tracking-[0.8em] text-[11px] shadow-2xl active:scale-95 transition-all\"\n      >\n        {isProcessing ? 'SYNAPSING...' : 'EXECUTE MAD SYNTH V12.5'}\n      </button>\n    </div>\n  );\n};\n\nexport default CreationAction;\n"],"names":[],"mappings":";;;;;AACA;;;AAWA,MAAM,iBAAgD,CAAC,EACrD,YAAY,EAAE,SAAS,EAAE,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,WAAW,EAC3E;IACC,MAAM,UAAU,IAAA,+MAAM,EAAmB;IAEzC,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,CAAC;gBACf,cAAc,GAAG,MAAM,EAAE;YAC3B;YACA,OAAO,aAAa,CAAC;QACvB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAAgE;;;;;;oBAChF,+BACC,8OAAC;wBACC,SAAS,IAAM,cAAc;wBAC7B,WAAU;kCACX;;;;;;;;;;;;0BAML,8OAAC;gBACC,WAAW,CAAC,gLAAgL,EAAE,gBAAgB,yBAAyB,IAAI;;oBAE1O,8BACC;;0CACE,8OAAC;gCAAI,KAAK;gCAAe,WAAU;gCAAiH,KAAI;;;;;;0CACxJ,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;kDACZ,8OAAC;wCAAI,WAAU;kDACZ,cAAA,8OAAC;4CAAK,WAAU;sDAAkE;;;;;;;;;;;kDAErF,8OAAC;wCAAO,SAAS,IAAM;wCAAe,WAAU;kDAAuK;;;;;;;;;;;;;qDAI5N,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS,IAAM,CAAC,gBAAgB,QAAQ,OAAO,EAAE;wCACjD,WAAU;;0DAEV,8OAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DAAY,cAAA,8OAAC;oDAAK,GAAE;oDAAgF,aAAa;;;;;;;;;;;4CAAU;;;;;;;kDAGhM,8OAAC;wCACC,SAAS,IAAM;wCACf,WAAU;;0DAEV,8OAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DAAY,cAAA,8OAAC;oDAAK,GAAE;oDAAoF,aAAa;;;;;;;;;;;4CAAU;;;;;;;;;;;;;0CAItM,8OAAC;gCAAE,WAAU;0CAAiE;;;;;;;;;;;;kCAGlF,8OAAC;wBACC,MAAK;wBACL,KAAK;wBACL,WAAU;wBACV,QAAO;wBACP,UAAU;;;;;;;;;;;;0BAId,8OAAC;gBACC,SAAS;gBACT,UAAU,gBAAgB,CAAC,OAAO,IAAI;gBACtC,WAAU;0BAET,eAAe,iBAAiB;;;;;;;;;;;;AAIzC;uCAEe"}},
    {"offset": {"line": 9917, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/ScoutDashboard.tsx"],"sourcesContent":["\nimport React from 'react';\n// Updated imports to include ScoutData from types.ts\nimport { ScoutCandidate, ScoutData } from '../types';\n\ninterface ScoutDashboardProps {\n  // Switched to using ScoutData type for better structure and fixing member error\n  scoutData: ScoutData;\n}\n\nconst ScoutDashboard: React.FC<ScoutDashboardProps> = ({ scoutData }) => {\n  if (!scoutData || !scoutData.candidates) return null;\n\n  return (\n    <div className=\"bg-zinc-950/80 border border-white/10 rounded-[2.5rem] p-8 space-y-8 backdrop-blur-3xl animate-in fade-in zoom-in duration-700 shadow-[0_0_100px_rgba(79,70,229,0.1)]\">\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-end gap-6\">\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-indigo-500 rounded-full animate-ping\" />\n            <h3 className=\"text-[10px] font-black uppercase text-indigo-400 tracking-[0.4em]\">LCP v2.9.5 Visual Scout Engine</h3>\n          </div>\n          <p className=\"text-zinc-500 text-[11px] uppercase tracking-widest max-w-lg leading-relaxed\">{scoutData.consensus_report}</p>\n        </div>\n        \n        <div className=\"flex gap-4\">\n           <div className=\"flex flex-col items-end\">\n              <span className=\"text-[7px] mono text-zinc-600 font-bold uppercase tracking-widest\">Premium Hits</span>\n              <span className=\"text-lg font-black text-white mono\">{scoutData.search_stats.premium_hits}</span>\n           </div>\n           <div className=\"flex flex-col items-end border-l border-white/10 pl-4\">\n              <span className=\"text-[7px] mono text-zinc-600 font-bold uppercase tracking-widest\">Internal Sync</span>\n              <span className=\"text-lg font-black text-white mono\">{scoutData.search_stats.internal_hits}</span>\n           </div>\n           <div className=\"flex flex-col items-end border-l border-white/10 pl-4\">\n              <span className=\"text-[7px] mono text-indigo-500 font-bold uppercase tracking-widest\">Winner ID</span>\n              <span className=\"text-lg font-black text-indigo-400 mono\">{scoutData.winner_id}</span>\n           </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {scoutData.candidates.map((c) => (\n          <div \n            key={c.id} \n            className={`p-6 rounded-[2rem] border transition-all duration-500 flex flex-col gap-5 relative overflow-hidden group ${c.id === scoutData.winner_id ? 'bg-indigo-500/10 border-indigo-500/60 shadow-[0_0_40px_rgba(79,70,229,0.1)] scale-[1.02]' : 'bg-black/40 border-white/5 hover:border-white/10 hover:bg-zinc-900/20'}`}\n          >\n            {c.id === scoutData.winner_id && (\n              <div className=\"absolute top-0 right-0 p-3 bg-indigo-500 text-black text-[8px] font-black uppercase tracking-[0.2em] rounded-bl-2xl z-10\">LCP_WINNER</div>\n            )}\n            \n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between items-start\">\n                <span className=\"text-[11px] font-black text-white uppercase truncate pr-4\">{c.title}</span>\n                <span className=\"text-[8px] px-2 py-0.5 rounded-full bg-white/5 text-zinc-400 mono font-bold uppercase\">{c.source_layer}</span>\n              </div>\n              <div className=\"flex gap-2\">\n                 <div className=\"h-0.5 flex-1 bg-white/5 rounded-full overflow-hidden\">\n                    <div className=\"h-full bg-emerald-500/60\" style={{ width: `${c.quality_metrics.technical * 100}%` }} />\n                 </div>\n                 <div className=\"h-0.5 flex-1 bg-white/5 rounded-full overflow-hidden\">\n                    <div className=\"h-full bg-indigo-500/60\" style={{ width: `${c.quality_metrics.aesthetic * 100}%` }} />\n                 </div>\n              </div>\n            </div>\n\n            <div className=\"flex-1 space-y-4\">\n               <div className=\"flex justify-between items-baseline\">\n                  <p className=\"text-[8px] font-black text-zinc-500 uppercase tracking-widest\">Specialist Consenus</p>\n                  <span className=\"text-[10px] mono font-bold text-indigo-400\">{(c.composite_score * 100).toFixed(1)}%</span>\n               </div>\n               <div className=\"space-y-2.5\">\n                 {c.votes.map((v, i) => (\n                   <div key={i} className=\"flex flex-col gap-1.5 border-l-2 border-white/5 pl-3 group-hover:border-indigo-500/20 transition-colors\">\n                     <div className=\"flex justify-between items-center\">\n                        <span className=\"text-[7px] font-black text-zinc-300 uppercase tracking-tighter\">{v.agent}</span>\n                        <div className=\"flex items-center gap-1.5\">\n                           <div className=\"w-12 h-1 bg-white/5 rounded-full overflow-hidden\">\n                              <div className=\"h-full bg-indigo-500\" style={{ width: `${v.score * 100}%` }} />\n                           </div>\n                           <span className=\"text-[7px] mono text-white\">{(v.score * 10).toFixed(1)}</span>\n                        </div>\n                     </div>\n                     <p className=\"text-[9px] text-zinc-500 line-clamp-2 italic leading-tight\">\"{v.critique}\"</p>\n                   </div>\n                 ))}\n               </div>\n            </div>\n\n            <div className=\"pt-5 border-t border-white/10 grid grid-cols-4 gap-1.5 h-10 items-end\">\n               <div className=\"bg-pink-500/40 rounded-sm hover:bg-pink-400 transition-colors\" style={{ height: `${(c.dna_preview.z_anatomy || 0.5) * 80}%` }} title=\"Anatomy DNA\" />\n               <div className=\"bg-indigo-500/40 rounded-sm hover:bg-indigo-400 transition-colors\" style={{ height: `${(c.dna_preview.z_structure || 0.5) * 80}%` }} title=\"Structure DNA\" />\n               <div className=\"bg-amber-500/40 rounded-sm hover:bg-amber-400 transition-colors\" style={{ height: `${(c.dna_preview.z_lighting || 0.5) * 80}%` }} title=\"Lighting DNA\" />\n               <div className=\"bg-emerald-500/40 rounded-sm hover:bg-emerald-400 transition-colors\" style={{ height: `${(c.dna_preview.z_texture || 0.5) * 80}%` }} title=\"Texture DNA\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ScoutDashboard;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10344, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creationLab/CreationScoutView.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { ScoutData } from '../../types';\nimport ScoutDashboard from '../ScoutDashboard';\n\ninterface CreationScoutViewProps {\n  scoutData: ScoutData | null;\n  groundingLinks: any[];\n}\n\nconst CreationScoutView: React.FC<CreationScoutViewProps> = ({ scoutData, groundingLinks }) => {\n  if (!scoutData) return null;\n\n  return (\n    <div className=\"col-span-1 md:col-span-2 space-y-4\">\n      <h3 className=\"text-[10px] font-black uppercase text-zinc-600 tracking-widest px-4\">Visual Scout Intelligence</h3>\n      <ScoutDashboard scoutData={scoutData} />\n      \n      {groundingLinks.length > 0 && (\n        <div className=\"bg-zinc-950/50 border border-white/10 p-6 rounded-[2rem] flex flex-wrap gap-4 items-center\">\n          <span className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest\">Grounding Sources:</span>\n          {groundingLinks.map((link, idx) => (\n            <a key={idx} href={link.uri} target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-3 py-1.5 bg-white/5 border border-white/10 rounded-full text-[9px] font-bold text-indigo-400 hover:bg-white/10 transition-all flex items-center gap-2\">\n              <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" strokeWidth={2}/></svg>\n              {link.title}\n            </a>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CreationScoutView;\n"],"names":[],"mappings":";;;;;AAGA;;;AAOA,MAAM,oBAAsD,CAAC,EAAE,SAAS,EAAE,cAAc,EAAE;IACxF,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAsE;;;;;;0BACpF,8OAAC,wIAAc;gBAAC,WAAW;;;;;;YAE1B,eAAe,MAAM,GAAG,mBACvB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAgE;;;;;;oBAC/E,eAAe,GAAG,CAAC,CAAC,MAAM,oBACzB,8OAAC;4BAAY,MAAM,KAAK,GAAG;4BAAE,QAAO;4BAAS,KAAI;4BAAsB,WAAU;;8CAC/E,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAAY,cAAA,8OAAC;wCAAK,GAAE;wCAA+E,aAAa;;;;;;;;;;;gCAClL,KAAK,KAAK;;2BAFL;;;;;;;;;;;;;;;;;AASpB;uCAEe"}},
    {"offset": {"line": 10432, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/creation/CreationLab.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { executeGroundedSynth, optimizeVisualPrompt } from '../../geminiService';\nimport { LatentParams, AgentStatus, VaultItem, ScoutData, LatentGrading, VisualAnchor, AgentAuthority, DeliberationStep, AppSettings } from '../../types';\nimport AgentFeed from '../shared/AgentFeed';\nimport CinemaVaultModal from '../cinemaLab/CinemaVaultModal';\n\n// Subcomponents\nimport CreationHeader from '../creationLab/CreationHeader';\nimport CreationInputs from '../creationLab/CreationInputs';\nimport CreationAuthority from '../creationLab/CreationAuthority';\nimport CreationZMatrix from '../creationLab/CreationZMatrix';\nimport CreationAction from '../creationLab/CreationAction';\nimport CreationScoutView from '../creationLab/CreationScoutView';\n\ninterface CreationLabProps {\n  onResult: (imageUrl: string, params: LatentParams, prompt: string, links: any[], grading?: LatentGrading, visualAnchor?: VisualAnchor) => void;\n  params: LatentParams;\n  setParams: (p: LatentParams) => void;\n  onReset: () => void;\n  vault?: VaultItem[];\n  settings?: AppSettings;\n}\n\nconst CreationLab: React.FC<CreationLabProps> = ({ onResult, params, setParams, onReset, vault = [], settings }) => {\n  const [prompt, setPrompt] = useState('');\n  const [refinedPrompt, setRefinedPrompt] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isOptimizing, setIsOptimizing] = useState(false);\n  const [logs, setLogs] = useState<AgentStatus[]>([]);\n  const [deliberationFlow, setDeliberationFlow] = useState<DeliberationStep[]>([]);\n  const [scoutData, setScoutData] = useState<ScoutData | null>(null);\n  const [groundingLinks, setGroundingLinks] = useState<any[]>([]);\n  const [agentAuthority, setAgentAuthority] = useState<AgentAuthority>({ lighting: 50, texture: 50, structure: 50, anatomy: 50 });\n  const [injectedImage, setInjectedImage] = useState<string | null>(null);\n  const [showVaultPicker, setShowVaultPicker] = useState(false);\n  \n  const [zAnatomy, setZAnatomy] = useState(1.0);\n  const [zStructure, setZStructure] = useState(1.0);\n  const [zLighting, setZLighting] = useState(0.5);\n  const [zTexture, setZTexture] = useState(0.5);\n\n  const handleMagicWand = async () => {\n    if (!prompt.trim() || isOptimizing) return;\n    setIsOptimizing(true);\n    setLogs(prev => [...prev, { type: 'Meta-Prompt Translator', status: 'processing', message: 'Upleveling user intent to Industrial Meta-Prompt...', timestamp: Date.now(), department: 'Advanced' }]);\n    try {\n      const optimized = await optimizeVisualPrompt(prompt, settings);\n      setRefinedPrompt(optimized);\n      setLogs(prev => [...prev, { type: 'Meta-Prompt Translator', status: 'completed', message: 'Visual refinement successfully mapped to technical directives.', timestamp: Date.now(), department: 'Advanced' }]);\n    } catch (e) { console.error(e); } finally { setIsOptimizing(false); }\n  };\n\n  const handleHardReset = () => {\n    setPrompt('');\n    setRefinedPrompt('');\n    setZAnatomy(1.0);\n    setZStructure(1.0);\n    setZLighting(0.5);\n    setZTexture(0.5);\n    setAgentAuthority({ lighting: 50, texture: 50, structure: 50, anatomy: 50 });\n    setScoutData(null);\n    setGroundingLinks([]);\n    setLogs([]);\n    setDeliberationFlow([]);\n    setInjectedImage(null);\n    onReset();\n  };\n\n  const handleProcess = async () => {\n    if (!prompt.trim()) return;\n    setIsProcessing(true);\n    setScoutData(null);\n    setDeliberationFlow([]);\n    setLogs([{ type: 'Director', status: 'processing', message: `Kernel Job Initialized. Executing MAD Consensus V12.5...`, timestamp: Date.now() }]);\n    \n    try {\n      const weights = { X: 50, Y: 50, Z: 50 };\n      const result = await executeGroundedSynth(prompt, weights, vault, agentAuthority, settings, injectedImage || undefined);\n      \n      if (result.imageUrl) {\n        setScoutData(result.scoutData || null);\n        setGroundingLinks(result.groundingLinks || []);\n        setDeliberationFlow(result.deliberation_flow || []);\n        setLogs(result.logs);\n        setRefinedPrompt(result.enhancedPrompt);\n\n        const finalParams: LatentParams = {\n            ...params,\n            z_anatomy: zAnatomy,\n            z_structure: zStructure,\n            z_lighting: zLighting,\n            z_texture: zTexture,\n            agent_authority: agentAuthority,\n            neural_metrics: result.params.neural_metrics\n        };\n\n        onResult(result.imageUrl, finalParams, prompt, result.groundingLinks || [], result.grading, result.visual_anchor);\n      }\n    } catch (e) { \n        console.error(e);\n        setLogs(prev => [...prev, { type: 'Director', status: 'error', message: 'Critical Kernel Failure during synthesis.', timestamp: Date.now() }]);\n    } finally { \n        setIsProcessing(false); \n    }\n  };\n\n  const handleAuthorityChange = (key: keyof AgentAuthority, val: number) => {\n    setAgentAuthority(prev => ({ ...prev, [key]: val }));\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-[#050505] overflow-hidden min-h-full\">\n      <div className=\"flex-1 flex flex-col lg:flex-row gap-8 p-6 lg:p-12 overflow-y-auto pb-32 custom-scrollbar\">\n        <div className=\"flex-1 space-y-10 max-w-5xl\">\n          <CreationHeader onReset={handleHardReset} />\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n             <div className=\"space-y-8\">\n                <CreationInputs \n                  prompt={prompt} \n                  setPrompt={setPrompt} \n                  refinedPrompt={refinedPrompt} \n                  isOptimizing={isOptimizing} \n                  onMagicWand={handleMagicWand} \n                />\n                <CreationAuthority \n                  authority={agentAuthority} \n                  onChange={handleAuthorityChange} \n                />\n             </div>\n\n             <div className=\"space-y-8 flex flex-col\">\n                <CreationZMatrix \n                  zAnatomy={zAnatomy} setZAnatomy={setZAnatomy}\n                  zStructure={zStructure} setZStructure={setZStructure}\n                  zLighting={zLighting} setZLighting={setZLighting}\n                  zTexture={zTexture} setZTexture={setZTexture}\n                />\n                <CreationAction \n                  isProcessing={isProcessing} \n                  onProcess={handleProcess} \n                  prompt={prompt} \n                  injectedImage={injectedImage}\n                  onImageUpload={setInjectedImage}\n                  onOpenVault={() => setShowVaultPicker(true)}\n                />\n             </div>\n          </div>\n\n          <CreationScoutView \n            scoutData={scoutData} \n            groundingLinks={groundingLinks} \n          />\n        </div>\n        \n        <div className=\"w-full lg:w-[400px] flex flex-col gap-6 lg:sticky lg:top-12 h-[calc(100vh-160px)]\">\n           <AgentFeed logs={logs} isProcessing={isProcessing} deliberation_flow={deliberationFlow} />\n        </div>\n      </div>\n\n      {showVaultPicker && (\n        <CinemaVaultModal \n          items={vault} \n          onClose={() => setShowVaultPicker(false)} \n          onSelect={(item) => {\n            setInjectedImage(item.imageUrl);\n            setShowVaultPicker(false);\n          }} \n        />\n      )}\n    </div>\n  );\n};\n\nexport default CreationLab;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10738, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/gradingLab/GradingPreview.tsx"],"sourcesContent":["\nimport React, { useRef, useEffect } from 'react';\nimport { VaultItem, LatentGrading } from '../../types';\nimport { applyGrading } from '../../gradingProcessor';\n\ninterface GradingPreviewProps {\n  selectedNode: VaultItem | null;\n  grading: LatentGrading;\n  sliderPosition: number;\n  onSliderMove: (e: React.MouseEvent | React.TouchEvent) => void;\n  containerRef: React.RefObject<HTMLDivElement | null>;\n  onUploadClick?: () => void;\n  onOpenVault?: () => void;\n}\n\nconst GradingPreview: React.FC<GradingPreviewProps> = ({\n  selectedNode, grading, sliderPosition, onSliderMove, containerRef, onUploadClick, onOpenVault\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (!selectedNode || !canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n    \n    // We use a temporary image to ensure we always have the raw source\n    const img = new Image();\n    img.crossOrigin = \"anonymous\";\n    img.src = selectedNode.originalImageUrl || selectedNode.imageUrl;\n\n    img.onload = () => {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      \n      // Execute the shared grading kernel\n      applyGrading(canvas, img, grading);\n      \n      // Apply Final CSS Polish (fast post-process filters) if any remain outside the kernel\n      canvas.style.filter = `\n        sepia(${grading.sepia || 0})\n        grayscale(${grading.grayscale || 0})\n        hue-rotate(${grading.hueRotate || 0}deg)\n        invert(${grading.invert || 0})\n        blur(${grading.blur || 0}px)\n      `;\n    };\n  }, [grading, selectedNode]);\n\n  if (!selectedNode) {\n    return (\n      <div className=\"flex-1 h-full bg-[#020202] flex flex-col items-center justify-center border-b border-white/5 space-y-12 p-12 relative overflow-hidden\">\n        <div className=\"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-500 via-transparent to-transparent\" />\n        <div className=\"w-40 h-40 rounded-[4rem] bg-zinc-900 flex items-center justify-center border border-white/5 shadow-[0_0_100px_rgba(0,0,0,1)] relative group overflow-hidden\">\n            <div className=\"absolute inset-0 bg-indigo-600/10 animate-pulse\" />\n            <svg className=\"w-16 h-16 text-zinc-700 relative z-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2v20M2 12h20\" strokeWidth={0.5}/></svg>\n        </div>\n        <div className=\"text-center space-y-6 max-w-xl relative z-10\">\n            <h3 className=\"text-3xl font-black uppercase tracking-[0.8em] text-white\">Signal Master</h3>\n            <p className=\"text-[11px] text-zinc-500 uppercase font-bold leading-relaxed tracking-widest px-10\">Industrial Color Engineering. Inject a node from the vault or raw buffer to begin modulation.</p>\n            <div className=\"flex gap-4 justify-center pt-8\">\n               <button onClick={onUploadClick} className=\"px-12 py-5 bg-indigo-600 text-white rounded-[2rem] text-[10px] font-black uppercase tracking-widest hover:bg-indigo-500 transition-all shadow-2xl\">Import RAW</button>\n               <button onClick={onOpenVault} className=\"px-12 py-5 bg-white/5 border border-white/10 text-white rounded-[2rem] text-[10px] font-black uppercase tracking-widest hover:bg-white/10 transition-all\">Vault Archive</button>\n            </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex-1 h-full bg-[#030303] flex flex-col items-center justify-center relative p-4 border-b border-white/5 overflow-hidden\">\n      <div className=\"relative w-full h-full flex flex-col items-center justify-center\">\n        <div \n          ref={containerRef}\n          className=\"relative group w-full h-full cursor-ew-resize select-none overflow-hidden rounded-[2rem] shadow-[0_0_100px_rgba(0,0,0,0.5)] border border-white/5 bg-black\"\n          onMouseMove={(e) => e.buttons === 1 && onSliderMove(e)}\n          onTouchMove={(e) => onSliderMove(e)}\n        >\n          {/* Base image loaded invisibly for layout sizing if needed, but here we enforce full fit */}\n          <img \n            src={selectedNode.imageUrl} \n            className=\"w-full h-full object-contain opacity-0 pointer-events-none absolute inset-0\" \n            alt=\"Ref\" \n          />\n          \n          <canvas \n            ref={canvasRef}\n            className=\"absolute inset-0 w-full h-full object-contain\"\n          />\n\n          <div className=\"absolute inset-0 pointer-events-none overflow-hidden\" style={{ clipPath: `inset(0 ${100 - sliderPosition}% 0 0)` }}>\n             <div className=\"absolute inset-0 bg-[#030303]\">\n                <img \n                    src={selectedNode.originalImageUrl || selectedNode.imageUrl} \n                    className=\"w-full h-full object-contain opacity-100\" \n                    alt=\"Original\"\n                />\n                <div className=\"absolute top-6 left-6 px-3 py-1.5 bg-black/60 rounded-lg border border-white/10 text-[9px] font-black text-white uppercase tracking-widest\">\n                    RAW SIGNAL\n                </div>\n             </div>\n          </div>\n\n          <div className=\"absolute inset-y-0 w-[1px] bg-white/50 backdrop-blur-3xl z-50 pointer-events-none shadow-[0_0_30px_rgba(255,255,255,0.8)]\" style={{ left: `${sliderPosition}%` }}>\n             <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-black/90 backdrop-blur-3xl border border-white/20 rounded-full flex items-center justify-center shadow-2xl\">\n                <div className=\"flex gap-1\"><div className=\"w-0.5 h-3 bg-white/20 rounded-full\"/><div className=\"w-0.5 h-5 bg-white/80 rounded-full\"/><div className=\"w-0.5 h-3 bg-white/20 rounded-full\"/></div>\n             </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GradingPreview;\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAYA,MAAM,iBAAgD,CAAC,EACrD,YAAY,EAAE,OAAO,EAAE,cAAc,EAAE,YAAY,EAAE,YAAY,EAAE,aAAa,EAAE,WAAW,EAC9F;IACC,MAAM,YAAY,IAAA,+MAAM,EAAoB;IAE5C,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,gBAAgB,CAAC,UAAU,OAAO,EAAE;QAEzC,MAAM,SAAS,UAAU,OAAO;QAEhC,mEAAmE;QACnE,MAAM,MAAM,IAAI;QAChB,IAAI,WAAW,GAAG;QAClB,IAAI,GAAG,GAAG,aAAa,gBAAgB,IAAI,aAAa,QAAQ;QAEhE,IAAI,MAAM,GAAG;YACX,OAAO,KAAK,GAAG,IAAI,KAAK;YACxB,OAAO,MAAM,GAAG,IAAI,MAAM;YAE1B,oCAAoC;YACpC,IAAA,gIAAY,EAAC,QAAQ,KAAK;YAE1B,sFAAsF;YACtF,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC;cACf,EAAE,QAAQ,KAAK,IAAI,EAAE;kBACjB,EAAE,QAAQ,SAAS,IAAI,EAAE;mBACxB,EAAE,QAAQ,SAAS,IAAI,EAAE;eAC7B,EAAE,QAAQ,MAAM,IAAI,EAAE;aACxB,EAAE,QAAQ,IAAI,IAAI,EAAE;MAC3B,CAAC;QACH;IACF,GAAG;QAAC;QAAS;KAAa;IAE1B,IAAI,CAAC,cAAc;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;4BAAwC,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAmB,aAAa;;;;;;;;;;;;;;;;;8BAEzJ,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAA4D;;;;;;sCAC1E,8OAAC;4BAAE,WAAU;sCAAsF;;;;;;sCACnG,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAO,SAAS;oCAAe,WAAU;8CAAoJ;;;;;;8CAC9L,8OAAC;oCAAO,SAAS;oCAAa,WAAU;8CAA2J;;;;;;;;;;;;;;;;;;;;;;;;IAKhN;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBACC,KAAK;gBACL,WAAU;gBACV,aAAa,CAAC,IAAM,EAAE,OAAO,KAAK,KAAK,aAAa;gBACpD,aAAa,CAAC,IAAM,aAAa;;kCAGjC,8OAAC;wBACC,KAAK,aAAa,QAAQ;wBAC1B,WAAU;wBACV,KAAI;;;;;;kCAGN,8OAAC;wBACC,KAAK;wBACL,WAAU;;;;;;kCAGZ,8OAAC;wBAAI,WAAU;wBAAuD,OAAO;4BAAE,UAAU,CAAC,QAAQ,EAAE,MAAM,eAAe,MAAM,CAAC;wBAAC;kCAC9H,cAAA,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCACG,KAAK,aAAa,gBAAgB,IAAI,aAAa,QAAQ;oCAC3D,WAAU;oCACV,KAAI;;;;;;8CAER,8OAAC;oCAAI,WAAU;8CAA6I;;;;;;;;;;;;;;;;;kCAMlK,8OAAC;wBAAI,WAAU;wBAA4H,OAAO;4BAAE,MAAM,GAAG,eAAe,CAAC,CAAC;wBAAC;kCAC5K,cAAA,8OAAC;4BAAI,WAAU;sCACZ,cAAA,8OAAC;gCAAI,WAAU;;kDAAa,8OAAC;wCAAI,WAAU;;;;;;kDAAsC,8OAAC;wCAAI,WAAU;;;;;;kDAAsC,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrK;uCAEe"}},
    {"offset": {"line": 11011, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/gradingLab/GradingToolbar.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface GradingToolbarProps {\n  onCommit: () => void;\n  onDownload: () => void;\n  onReset: () => void;\n  isSaving: boolean;\n  disabled: boolean;\n}\n\nconst GradingToolbar: React.FC<GradingToolbarProps> = ({ onCommit, onDownload, onReset, isSaving, disabled }) => {\n  return (\n    <div className=\"flex gap-2 justify-center py-3 bg-[#0b0b0d] border-b border-white/5 z-50\">\n       <button \n        onClick={onCommit} \n        disabled={disabled || isSaving} \n        className=\"px-3 py-2 bg-indigo-600 text-white rounded-lg text-[8px] font-black uppercase tracking-widest shadow-xl flex items-center gap-2 active:scale-95 transition-all disabled:opacity-30\"\n       >\n         <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M5 13l4 4L19 7\" strokeWidth={3}/></svg>\n         {isSaving ? 'Baking...' : 'Commit Master'}\n       </button>\n       <button \n        onClick={onDownload} \n        disabled={disabled}\n        className=\"px-3 py-2 bg-zinc-100 text-black rounded-lg text-[8px] font-black uppercase tracking-widest shadow-xl flex items-center gap-2 active:scale-95 transition-all disabled:opacity-30\"\n       >\n         <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" strokeWidth={2}/></svg>\n         Export PNG\n       </button>\n       <button \n        onClick={onReset} \n        disabled={disabled}\n        className=\"px-2 py-2 bg-zinc-900 border border-white/5 text-zinc-600 rounded-lg text-[8px] font-black uppercase tracking-widest hover:text-white transition-all disabled:opacity-30\"\n       >\n         Reset\n       </button>\n    </div>\n  );\n};\n\nexport default GradingToolbar;\n"],"names":[],"mappings":";;;;;;AAWA,MAAM,iBAAgD,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE;IAC1G,qBACE,8OAAC;QAAI,WAAU;;0BACZ,8OAAC;gBACA,SAAS;gBACT,UAAU,YAAY;gBACtB,WAAU;;kCAET,8OAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCAAY,cAAA,8OAAC;4BAAK,GAAE;4BAAiB,aAAa;;;;;;;;;;;oBACpH,WAAW,cAAc;;;;;;;0BAE5B,8OAAC;gBACA,SAAS;gBACT,UAAU;gBACV,WAAU;;kCAET,8OAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCAAY,cAAA,8OAAC;4BAAK,GAAE;4BAAiE,aAAa;;;;;;;;;;;oBAAU;;;;;;;0BAGjL,8OAAC;gBACA,SAAS;gBACT,UAAU;gBACV,WAAU;0BACV;;;;;;;;;;;;AAKR;uCAEe"}},
    {"offset": {"line": 11103, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/gradingLab/GradingNavigation.tsx"],"sourcesContent":["\nimport React from 'react';\n\ninterface Category {\n  id: string;\n  icon: React.ReactNode;\n  label: string;\n}\n\ninterface GradingNavigationProps {\n  categories: Category[];\n  activeCategory: string;\n  setActiveCategory: (id: string) => void;\n}\n\nconst GradingNavigation: React.FC<GradingNavigationProps> = ({ categories, activeCategory, setActiveCategory }) => {\n  return (\n    <div className=\"w-full bg-[#08080a] border-b border-white/5 p-4\">\n       <div className=\"grid grid-cols-4 gap-2\">\n         {categories.map((cat) => {\n           const isActive = activeCategory === cat.id;\n           return (\n             <button \n              key={cat.id} \n              onClick={() => setActiveCategory(cat.id)} \n              className={`flex flex-col items-center justify-center gap-1 py-3 rounded-xl transition-all duration-200 group border ${isActive ? 'bg-zinc-800 border-indigo-500/50 shadow-lg' : 'bg-black/20 border-white/5 hover:bg-white/5 hover:border-white/10'}`}\n             >\n                <span className={`text-lg transition-transform ${isActive ? 'scale-110 text-white' : 'text-zinc-600 group-hover:text-zinc-400'}`}>\n                  {cat.icon}\n                </span>\n                <span className={`text-[8px] font-black uppercase tracking-widest ${isActive ? 'text-indigo-400' : 'text-zinc-500'}`}>{cat.label}</span>\n             </button>\n           );\n         })}\n       </div>\n    </div>\n  );\n};\n\nexport default GradingNavigation;\n"],"names":[],"mappings":";;;;;;AAeA,MAAM,oBAAsD,CAAC,EAAE,UAAU,EAAE,cAAc,EAAE,iBAAiB,EAAE;IAC5G,qBACE,8OAAC;QAAI,WAAU;kBACZ,cAAA,8OAAC;YAAI,WAAU;sBACZ,WAAW,GAAG,CAAC,CAAC;gBACf,MAAM,WAAW,mBAAmB,IAAI,EAAE;gBAC1C,qBACE,8OAAC;oBAEA,SAAS,IAAM,kBAAkB,IAAI,EAAE;oBACvC,WAAW,CAAC,yGAAyG,EAAE,WAAW,+CAA+C,qEAAqE;;sCAEpP,8OAAC;4BAAK,WAAW,CAAC,6BAA6B,EAAE,WAAW,yBAAyB,2CAA2C;sCAC7H,IAAI,IAAI;;;;;;sCAEX,8OAAC;4BAAK,WAAW,CAAC,gDAAgD,EAAE,WAAW,oBAAoB,iBAAiB;sCAAG,IAAI,KAAK;;;;;;;mBAP7H,IAAI,EAAE;;;;;YAUhB;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 11159, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/gradingLab/GradingControls.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { LatentGrading } from '../../types';\n\ninterface GradingControlsProps {\n  activeCategory: string;\n  grading: LatentGrading;\n  updateParam: (key: keyof LatentGrading, val: any) => void;\n  applyPreset: (preset: any) => void;\n  filmStocks: any[];\n  customLuts: any[];\n  handleSaveLut: () => void;\n  handleRemoveLut: (name: string) => void;\n  newLutName: string;\n  setNewLutName: (val: string) => void;\n  controls?: any[];\n}\n\nconst GradingControls: React.FC<GradingControlsProps> = ({\n  activeCategory, grading, updateParam, applyPreset, filmStocks, customLuts, handleSaveLut, handleRemoveLut, newLutName, setNewLutName\n}) => {\n\n  // --- STEALTH SLIDER COMPONENT ---\n  const StealthSlider = ({ keyName, label, min, max, step = 0.001, color = 'indigo' }: { keyName: string, label: string, min: number, max: number, step?: number, color?: string }) => {\n    const val = (grading as any)[keyName] || 0;\n    \n    // Internal state for input typing to avoid jitter\n    const [inputValue, setInputValue] = useState(val);\n\n    useEffect(() => {\n        setInputValue(val);\n    }, [val]);\n\n    // Calculate percentages\n    const range = max - min;\n    const rawPercent = ((val - min) / range) * 100;\n    const thumbPercent = Math.min(100, Math.max(0, rawPercent));\n\n    // Bipolar Bar Logic\n    let barLeft = '0%';\n    let barWidth = `${thumbPercent}%`;\n    const isBipolar = min < 0 && max > 0;\n\n    if (isBipolar) {\n        const zeroPercent = ((0 - min) / range) * 100;\n        if (val >= 0) {\n            barLeft = `${zeroPercent}%`;\n            barWidth = `${Math.max(0, thumbPercent - zeroPercent)}%`;\n        } else {\n            barLeft = `${thumbPercent}%`;\n            barWidth = `${Math.max(0, zeroPercent - thumbPercent)}%`;\n        }\n    }\n    \n    // Color mapping\n    let barClass = 'bg-indigo-500';\n    let textClass = 'text-indigo-400';\n    let glowClass = 'shadow-[0_0_8px_rgba(99,102,241,0.3)]';\n    \n    if (color === 'red') { barClass = 'bg-red-500'; textClass = 'text-red-400'; glowClass = 'shadow-[0_0_8px_rgba(239,68,68,0.3)]'; }\n    if (color === 'green') { barClass = 'bg-emerald-500'; textClass = 'text-emerald-400'; glowClass = 'shadow-[0_0_8px_rgba(16,185,129,0.3)]'; }\n    if (color === 'blue') { barClass = 'bg-blue-500'; textClass = 'text-blue-400'; glowClass = 'shadow-[0_0_8px_rgba(59,130,246,0.3)]'; }\n    if (color === 'amber') { barClass = 'bg-amber-500'; textClass = 'text-amber-400'; glowClass = 'shadow-[0_0_8px_rgba(245,158,11,0.3)]'; }\n    if (color === 'pink') { barClass = 'bg-pink-500'; textClass = 'text-pink-400'; glowClass = 'shadow-[0_0_8px_rgba(236,72,153,0.3)]'; }\n    if (color === 'zinc') { barClass = 'bg-zinc-400'; textClass = 'text-zinc-300'; glowClass = ''; }\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setInputValue(e.target.value);\n        const num = parseFloat(e.target.value);\n        if (!isNaN(num)) {\n            updateParam(keyName as keyof LatentGrading, num);\n        }\n    };\n\n    return (\n      <div className=\"group py-1.5 w-full\">\n        {/* Header Row: Label and Editable Value */}\n        <div className=\"flex justify-between items-end mb-1 px-1\">\n          <span className=\"text-[10px] font-bold text-zinc-500 uppercase tracking-widest group-hover:text-zinc-300 transition-colors\">\n            {label}\n          </span>\n          <input \n            type=\"number\" \n            step={step}\n            value={typeof inputValue === 'number' ? parseFloat(inputValue.toFixed(3)) : inputValue}\n            onChange={handleInputChange}\n            className={`w-16 bg-transparent text-right text-[10px] mono font-bold outline-none border-none p-0 focus:text-white transition-all ${textClass}`}\n          />\n        </div>\n        \n        {/* Slider Row: Ultra Thin Track */}\n        <div className=\"relative h-3 w-full flex items-center\">\n          {/* Background Track (Thin Line) */}\n          <div className=\"absolute inset-x-0 h-[2px] bg-white/10 rounded-full overflow-hidden\">\n             {/* Center Tick for Bipolar */}\n             {isBipolar && <div className=\"absolute top-0 bottom-0 left-[50%] w-[1px] bg-white/30 z-0\" />}\n             {/* Active Bar */}\n             <div \n                className={`absolute top-0 bottom-0 ${barClass} opacity-80 group-hover:opacity-100 ${glowClass}`}\n                style={{ left: barLeft, width: barWidth }}\n             />\n          </div>\n\n          {/* Visual Thumb (Only visible on hover/active) */}\n          <div \n            className={`absolute w-2 h-2 bg-white rounded-full shadow-sm pointer-events-none transition-transform duration-100 z-10 opacity-0 group-hover:opacity-100 scale-0 group-hover:scale-100 ${glowClass}`}\n            style={{ left: `calc(${thumbPercent}% - 4px)` }}\n          />\n\n          {/* Invisible Interactive Range Input (Full Hitbox) */}\n          <input \n            type=\"range\" min={min} max={max} step={step} value={val}\n            onChange={(e) => {\n                const v = parseFloat(e.target.value);\n                setInputValue(v);\n                updateParam(keyName as keyof LatentGrading, v);\n            }}\n            className=\"absolute inset-0 w-full h-full opacity-0 cursor-ew-resize z-20\"\n          />\n        </div>\n      </div>\n    );\n  };\n\n  const SectionHeader = ({ title, icon }: { title: string, icon?: React.ReactNode }) => (\n    <div className=\"pt-6 pb-2 border-b border-white/5 mb-3 flex items-center gap-3\">\n      {icon || <div className=\"w-1 h-1 bg-zinc-600 rounded-full\" />}\n      <span className=\"text-[9px] font-black text-zinc-400 uppercase tracking-[0.3em]\">{title}</span>\n    </div>\n  );\n\n  const getCategoryContent = () => {\n    switch(activeCategory) {\n      case 'MASTER': return (\n        <div className=\"flex flex-col gap-1 pb-10\">\n            <SectionHeader title=\"Primary Correction\" />\n            <StealthSlider keyName=\"exposure\" label=\"Exposure\" min={-3} max={3} step={0.01} />\n            <StealthSlider keyName=\"contrast\" label=\"Contrast\" min={0} max={2.5} step={0.01} />\n            <StealthSlider keyName=\"brightness\" label=\"Brightness\" min={0} max={2} step={0.01} />\n            <StealthSlider keyName=\"gamma\" label=\"Gamma\" min={0.1} max={3} step={0.01} />\n            <StealthSlider keyName=\"pivot\" label=\"Pivot\" min={0} max={1} step={0.01} />\n          \n            <SectionHeader title=\"Signal Balance\" />\n            <StealthSlider keyName=\"offset\" label=\"Offset\" min={-0.2} max={0.2} step={0.001} />\n            <StealthSlider keyName=\"lift\" label=\"Lift (Blacks)\" min={-0.5} max={0.5} step={0.001} />\n            <StealthSlider keyName=\"gain\" label=\"Gain (Whites)\" min={0} max={3} step={0.01} />\n            <StealthSlider keyName=\"invert\" label=\"Invert Signal\" min={0} max={1} step={1} />\n\n            <SectionHeader title=\"Global Color\" />\n            <StealthSlider keyName=\"saturation\" label=\"Saturation\" min={0} max={3} step={0.01} color=\"pink\" />\n            <StealthSlider keyName=\"vibrance\" label=\"Vibrance\" min={0} max={3} step={0.01} color=\"pink\" />\n            <StealthSlider keyName=\"temperature\" label=\"Temp (K)\" min={-100} max={100} step={1} color=\"amber\" />\n            <StealthSlider keyName=\"tint\" label=\"Tint\" min={-100} max={100} step={1} color=\"green\" />\n            <StealthSlider keyName=\"hueRotate\" label=\"Global Hue\" min={-180} max={180} step={1} color=\"blue\" />\n        </div>\n      );\n      \n      case 'LGG': return (\n        <div className=\"flex flex-col gap-8 pb-12\">\n           {/* LIFT */}\n           <div className=\"space-y-1\">\n              <div className=\"flex items-center gap-3 pb-2 border-b border-white/5 mb-2\">\n                 <div className=\"w-2 h-2 rounded-full bg-zinc-800 border border-zinc-600 shadow-[0_0_10px_black]\" />\n                 <span className=\"text-[10px] font-black text-zinc-400 uppercase tracking-widest\">Lift (Shadows)</span>\n              </div>\n              <StealthSlider keyName=\"lift_r\" label=\"Red Lift\" min={-0.5} max={0.5} color=\"red\" />\n              <StealthSlider keyName=\"lift_g\" label=\"Green Lift\" min={-0.5} max={0.5} color=\"green\" />\n              <StealthSlider keyName=\"lift_b\" label=\"Blue Lift\" min={-0.5} max={0.5} color=\"blue\" />\n              <div className=\"h-1\"/>\n              <StealthSlider keyName=\"offset\" label=\"Master Offset\" min={-0.2} max={0.2} color=\"zinc\" />\n           </div>\n\n           {/* GAMMA */}\n           <div className=\"space-y-1\">\n              <div className=\"flex items-center gap-3 pb-2 border-b border-white/5 mb-2\">\n                 <div className=\"w-2 h-2 rounded-full bg-zinc-600 border border-zinc-400\" />\n                 <span className=\"text-[10px] font-black text-zinc-400 uppercase tracking-widest\">Gamma (Midtones)</span>\n              </div>\n              <StealthSlider keyName=\"gamma_r\" label=\"Red Gamma\" min={0.1} max={3} color=\"red\" />\n              <StealthSlider keyName=\"gamma_g\" label=\"Green Gamma\" min={0.1} max={3} color=\"green\" />\n              <StealthSlider keyName=\"gamma_b\" label=\"Blue Gamma\" min={0.1} max={3} color=\"blue\" />\n           </div>\n\n           {/* GAIN */}\n           <div className=\"space-y-1\">\n              <div className=\"flex items-center gap-3 pb-2 border-b border-white/5 mb-2\">\n                 <div className=\"w-2 h-2 rounded-full bg-zinc-300 border border-white shadow-[0_0_10px_white]\" />\n                 <span className=\"text-[10px] font-black text-zinc-400 uppercase tracking-widest\">Gain (Highlights)</span>\n              </div>\n              <StealthSlider keyName=\"gain_r\" label=\"Red Gain\" min={0} max={3} color=\"red\" />\n              <StealthSlider keyName=\"gain_g\" label=\"Green Gain\" min={0} max={3} color=\"green\" />\n              <StealthSlider keyName=\"gain_b\" label=\"Blue Gain\" min={0} max={3} color=\"blue\" />\n           </div>\n        </div>\n      );\n\n      case 'MIXER': return (\n        <div className=\"flex flex-col gap-8\">\n           <div className=\"flex flex-col gap-1\">\n              <div className=\"flex items-center gap-2 mb-2\"><div className=\"w-1.5 h-1.5 bg-red-500 rounded-full\"/> <span className=\"text-[10px] font-black text-red-400 uppercase tracking-widest\">Red Output</span></div>\n              <StealthSlider keyName=\"mix_red_red\" label=\"Red In\" min={-2} max={2} color=\"red\" />\n              <StealthSlider keyName=\"mix_red_green\" label=\"Green In\" min={-2} max={2} color=\"green\" />\n              <StealthSlider keyName=\"mix_red_blue\" label=\"Blue In\" min={-2} max={2} color=\"blue\" />\n           </div>\n           <div className=\"flex flex-col gap-1\">\n              <div className=\"flex items-center gap-2 mb-2\"><div className=\"w-1.5 h-1.5 bg-green-500 rounded-full\"/> <span className=\"text-[10px] font-black text-green-400 uppercase tracking-widest\">Green Output</span></div>\n              <StealthSlider keyName=\"mix_green_red\" label=\"Red In\" min={-2} max={2} color=\"red\" />\n              <StealthSlider keyName=\"mix_green_green\" label=\"Green In\" min={-2} max={2} color=\"green\" />\n              <StealthSlider keyName=\"mix_green_blue\" label=\"Blue In\" min={-2} max={2} color=\"blue\" />\n           </div>\n           <div className=\"flex flex-col gap-1\">\n              <div className=\"flex items-center gap-2 mb-2\"><div className=\"w-1.5 h-1.5 bg-blue-500 rounded-full\"/> <span className=\"text-[10px] font-black text-blue-400 uppercase tracking-widest\">Blue Output</span></div>\n              <StealthSlider keyName=\"mix_blue_red\" label=\"Red In\" min={-2} max={2} color=\"red\" />\n              <StealthSlider keyName=\"mix_blue_green\" label=\"Green In\" min={-2} max={2} color=\"green\" />\n              <StealthSlider keyName=\"mix_blue_blue\" label=\"Blue In\" min={-2} max={2} color=\"blue\" />\n           </div>\n        </div>\n      );\n\n      case 'HSL': return (\n        <div className=\"flex flex-col gap-1 pb-10\">\n            <SectionHeader title=\"Vector Saturation\" />\n            <StealthSlider keyName=\"sat_red\" label=\"Red\" min={-1} max={2} color=\"red\" />\n            <StealthSlider keyName=\"sat_orange\" label=\"Orange\" min={-1} max={2} color=\"amber\" />\n            <StealthSlider keyName=\"sat_yellow\" label=\"Yellow\" min={-1} max={2} color=\"amber\" />\n            <StealthSlider keyName=\"sat_green\" label=\"Green\" min={-1} max={2} color=\"green\" />\n            <StealthSlider keyName=\"sat_cyan\" label=\"Cyan\" min={-1} max={2} color=\"blue\" />\n            <StealthSlider keyName=\"sat_blue\" label=\"Blue\" min={-1} max={2} color=\"blue\" />\n            <StealthSlider keyName=\"sat_purple\" label=\"Purple\" min={-1} max={2} color=\"pink\" />\n            <StealthSlider keyName=\"sat_magenta\" label=\"Magenta\" min={-1} max={2} color=\"pink\" />\n           \n            <SectionHeader title=\"Split Toning\" />\n            <span className=\"text-[9px] font-black text-blue-400 uppercase tracking-widest block mt-2 mb-1\">Shadows (Cold)</span>\n            <StealthSlider keyName=\"split_shadow_hue\" label=\"Hue\" min={0} max={360} step={1} color=\"blue\" />\n            <StealthSlider keyName=\"split_shadow_sat\" label=\"Sat\" min={0} max={2} color=\"blue\" />\n            \n            <span className=\"text-[9px] font-black text-amber-400 uppercase tracking-widest block mt-4 mb-1\">Highlights (Warm)</span>\n            <StealthSlider keyName=\"split_highlight_hue\" label=\"Hue\" min={0} max={360} step={1} color=\"amber\" />\n            <StealthSlider keyName=\"split_highlight_sat\" label=\"Sat\" min={0} max={2} color=\"amber\" />\n            \n            <div className=\"mt-4\">\n                <StealthSlider keyName=\"split_balance\" label=\"Split Balance\" min={-1} max={1} />\n            </div>\n        </div>\n      );\n\n      case 'PHYSICS': return (\n        <div className=\"flex flex-col gap-1 pb-10\">\n             <SectionHeader title=\"Lens Geometry\" />\n             <StealthSlider keyName=\"lens_distortion\" label=\"Distortion\" min={-1} max={1} />\n             <StealthSlider keyName=\"anamorphic_squeeze\" label=\"Anamorphic\" min={0.5} max={2} />\n             <StealthSlider keyName=\"geometry_y\" label=\"Stretch Y\" min={0.5} max={2} />\n             <StealthSlider keyName=\"rotate\" label=\"Roll\" min={-45} max={45} step={0.1} />\n             <StealthSlider keyName=\"crop_zoom\" label=\"Sensor Crop\" min={0} max={1} />\n             <StealthSlider keyName=\"perspective_x\" label=\"Tilt X\" min={-1} max={1} />\n             <StealthSlider keyName=\"perspective_y\" label=\"Tilt Y\" min={-1} max={1} />\n\n             <SectionHeader title=\"Optical Phenomena\" />\n             <StealthSlider keyName=\"bloom\" label=\"Bloom\" min={0} max={1} color=\"amber\" />\n             <StealthSlider keyName=\"bloom_radius\" label=\"Bloom Radius\" min={0} max={2} color=\"amber\" />\n             <StealthSlider keyName=\"halation\" label=\"Halation\" min={0} max={1} color=\"red\" />\n             <StealthSlider keyName=\"chromatic_aberration\" label=\"Chromatic\" min={0} max={2} color=\"pink\" />\n             <StealthSlider keyName=\"diffusion\" label=\"Mist\" min={0} max={1} />\n             <StealthSlider keyName=\"vignette\" label=\"Vignette\" min={0} max={1} />\n             <StealthSlider keyName=\"vignette_roundness\" label=\"Roundness\" min={-1} max={1} />\n             <StealthSlider keyName=\"vignette_feather\" label=\"Feather\" min={0} max={2} />\n        </div>\n      );\n\n      case 'FILM': return (\n        <div className=\"flex flex-col gap-1 pb-10\">\n             <SectionHeader title=\"Film Emulsion\" />\n             <StealthSlider keyName=\"grain\" label=\"Grain Amount\" min={0} max={1} />\n             <StealthSlider keyName=\"grain_size\" label=\"Grain Size\" min={0.5} max={3} />\n             <StealthSlider keyName=\"grain_roughness\" label=\"Roughness\" min={0} max={1} />\n             <StealthSlider keyName=\"grain_color\" label=\"Color Noise\" min={0} max={1} color=\"pink\" />\n\n             <SectionHeader title=\"Spatial Detail\" />\n             <StealthSlider keyName=\"sharpness\" label=\"Sharpness\" min={0} max={2} />\n             <StealthSlider keyName=\"structure\" label=\"Structure\" min={0} max={2} />\n             <StealthSlider keyName=\"clarity\" label=\"Clarity\" min={0} max={2} />\n             <StealthSlider keyName=\"dehaze\" label=\"Dehaze\" min={-1} max={1} />\n             <StealthSlider keyName=\"denoise\" label=\"Denoise\" min={0} max={1} />\n             <StealthSlider keyName=\"blur\" label=\"Blur\" min={0} max={10} step={0.1} />\n        </div>\n      );\n\n      case 'FX': return (\n        <div className=\"flex flex-col gap-1 pb-10\">\n             <SectionHeader title=\"Selective Color\" />\n             <StealthSlider keyName=\"selective_hue\" label=\"Target Hue\" min={0} max={360} step={1} color=\"pink\" />\n             <StealthSlider keyName=\"selective_threshold\" label=\"Range\" min={0} max={100} step={1} />\n             <StealthSlider keyName=\"selective_mix\" label=\"Desat BG\" min={0} max={1} />\n             <StealthSlider keyName=\"selective_target_sat\" label=\"Boost Target\" min={0} max={1} color=\"pink\" />\n\n             <SectionHeader title=\"Portrait Engine\" />\n             <StealthSlider keyName=\"skin_smooth\" label=\"Skin Smooth\" min={0} max={1} color=\"amber\" />\n             <StealthSlider keyName=\"face_warp\" label=\"Face Slim\" min={-1} max={1} />\n             <StealthSlider keyName=\"eye_clarity\" label=\"Eye Clarity\" min={0} max={1} color=\"blue\" />\n             <StealthSlider keyName=\"teeth_whitening\" label=\"Teeth White\" min={0} max={1} />\n             <StealthSlider keyName=\"feature_pop\" label=\"Feature Pop\" min={0} max={1} />\n        </div>\n      );\n\n      case 'LUT': return (\n        <div className=\"flex flex-col gap-8 pb-10\">\n            <div className=\"space-y-4\">\n              <SectionHeader title=\"Film Stocks (Emulation)\" />\n              <div className=\"grid grid-cols-2 gap-4\">\n                  {filmStocks.map(s => (\n                    <button key={s.name} onClick={() => applyPreset(s)} className={`h-12 rounded-lg border transition-all flex items-center justify-between px-6 ${grading.preset_name === s.name ? 'border-indigo-500 bg-indigo-500/20 shadow-lg' : 'border-white/5 bg-zinc-900/40 hover:bg-zinc-800'}`}>\n                      <span className={`text-[10px] font-black uppercase tracking-widest ${grading.preset_name === s.name ? 'text-white' : 'text-zinc-400'}`}>{s.name.replace('_', ' ')}</span>\n                      {grading.preset_name === s.name && <div className=\"w-1.5 h-1.5 bg-indigo-500 rounded-full shadow-[0_0_8px_indigo]\" />}\n                    </button>\n                  ))}\n               </div>\n\n               <div className=\"pt-6 border-t border-white/5\">\n                  <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest px-1 mb-3 block\">Save Current Profile</label>\n                  <div className=\"flex gap-2\">\n                      <input type=\"text\" value={newLutName} onChange={(e) => setNewLutName(e.target.value.toUpperCase())} placeholder=\"PROFILE NAME...\" className=\"flex-1 bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-[10px] mono text-white outline-none font-bold focus:border-indigo-500/50 transition-colors h-12\" />\n                      <button onClick={handleSaveLut} disabled={!newLutName.trim()} className=\"px-6 bg-indigo-600 text-white rounded-lg text-[9px] font-black uppercase tracking-widest hover:bg-indigo-500 active:scale-95 transition-all shadow-lg h-12\">Save</button>\n                  </div>\n               </div>\n            </div>\n\n            {customLuts.length > 0 && (\n              <div className=\"space-y-4\">\n                <SectionHeader title=\"User Profiles\" />\n                <div className=\"grid grid-cols-2 gap-4\">\n                    {customLuts.map((l, i) => (\n                      <div key={i} className=\"flex gap-2 group relative\">\n                        <button onClick={() => applyPreset(l)} className={`flex-1 h-12 rounded-lg border transition-all flex items-center justify-between px-4 bg-zinc-900/60 ${grading.preset_name === l.name ? 'border-indigo-500 shadow-md' : 'border-white/5 hover:border-white/20'}`}>\n                           <span className=\"text-[9px] font-black uppercase tracking-widest text-zinc-300 truncate\">{l.name}</span>\n                           {grading.preset_name === l.name && <div className=\"w-1.5 h-1.5 bg-indigo-500 rounded-full\" />}\n                        </button>\n                        <button onClick={() => handleRemoveLut(l.name)} className=\"w-12 h-12 bg-red-900/10 border border-red-500/10 rounded-lg flex items-center justify-center text-red-500/50 hover:text-red-500 hover:bg-red-900/20 transition-all\">\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M6 18L18 6M6 6l12 12\" strokeWidth={2.5}/></svg>\n                        </button>\n                      </div>\n                    ))}\n                </div>\n              </div>\n            )}\n        </div>\n      );\n      default: return null;\n    }\n  };\n\n  return (\n    <div className=\"h-full overflow-y-auto custom-scrollbar p-8 md:p-12 bg-[#08080a]\">\n       {getCategoryContent()}\n    </div>\n  );\n};\n\nexport default GradingControls;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 12813, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/gradingLab/GradingQueue.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { VaultItem } from '../../types';\n\ninterface GradingQueueProps {\n  favoriteNodes: VaultItem[];\n  selectedNodeId: string | undefined;\n  onSelectNode: (node: VaultItem) => void;\n}\n\nconst GradingQueue: React.FC<GradingQueueProps> = ({ favoriteNodes, selectedNodeId, onSelectNode }) => {\n  return (\n    <div className=\"p-2 bg-black border-t border-white/5\">\n       <div className=\"flex gap-2 overflow-x-auto pb-1 custom-scrollbar scroll-smooth\">\n          {favoriteNodes.map(item => (\n            <button \n              key={item.id} \n              onClick={() => onSelectNode(item)} \n              className={`flex-shrink-0 w-11 h-11 rounded-lg overflow-hidden border transition-all ${selectedNodeId === item.id ? 'border-indigo-500 scale-105 shadow-lg' : 'border-white/10 opacity-40 hover:opacity-100'}`}\n            >\n               <img src={item.imageUrl} className=\"w-full h-full object-cover\" alt=\"T\" />\n            </button>\n          ))}\n          {favoriteNodes.length === 0 && (\n            <div className=\"w-full py-2 flex items-center justify-center opacity-10\">\n              <p className=\"text-[7px] text-zinc-500 uppercase tracking-widest\">Mark favorites in Vault to inject</p>\n            </div>\n          )}\n       </div>\n    </div>\n  );\n};\n\nexport default GradingQueue;\n"],"names":[],"mappings":";;;;;;AAUA,MAAM,eAA4C,CAAC,EAAE,aAAa,EAAE,cAAc,EAAE,YAAY,EAAE;IAChG,qBACE,8OAAC;QAAI,WAAU;kBACZ,cAAA,8OAAC;YAAI,WAAU;;gBACX,cAAc,GAAG,CAAC,CAAA,qBACjB,8OAAC;wBAEC,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,yEAAyE,EAAE,mBAAmB,KAAK,EAAE,GAAG,0CAA0C,gDAAgD;kCAE7M,cAAA,8OAAC;4BAAI,KAAK,KAAK,QAAQ;4BAAE,WAAU;4BAA6B,KAAI;;;;;;uBAJhE,KAAK,EAAE;;;;;gBAOf,cAAc,MAAM,KAAK,mBACxB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAqD;;;;;;;;;;;;;;;;;;;;;;AAMhF;uCAEe"}},
    {"offset": {"line": 12874, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/grading/GradingLab.tsx"],"sourcesContent":["\nimport React, { useState, useEffect, useRef } from 'react';\nimport { VaultItem, LatentGrading } from '../../types';\nimport { applyGrading } from '../../gradingProcessor';\n\n// Subcomponents\nimport GradingPreview from '../gradingLab/GradingPreview';\nimport GradingToolbar from '../gradingLab/GradingToolbar';\nimport GradingNavigation from '../gradingLab/GradingNavigation';\nimport GradingControls from '../gradingLab/GradingControls';\nimport GradingQueue from '../gradingLab/GradingQueue';\n\ninterface GradingLabProps {\n  vault: VaultItem[];\n  onSave: (item: VaultItem) => Promise<void>;\n}\n\nconst INITIAL_GRADING: LatentGrading = {\n  preset_name: 'LINEAR_RAW',\n  css_filter_string: 'none',\n\n  // Primaries (15)\n  exposure: 0, contrast: 1, pivot: 0.5, brightness: 1, saturation: 1, vibrance: 1,\n  temperature: 0, tint: 0, hueRotate: 0, gamma: 1, offset: 0, lift: 0, gain: 1,\n  invert: 0, opacity: 1,\n\n  // Log Wheels (12)\n  lift_r: 0, lift_g: 0, lift_b: 0,\n  gamma_r: 1, gamma_g: 1, gamma_b: 1,\n  gain_r: 1, gain_g: 1, gain_b: 1,\n  offset_r: 0, offset_g: 0, offset_b: 0,\n\n  // Channel Mixer (9)\n  mix_red_red: 1, mix_red_green: 0, mix_red_blue: 0,\n  mix_green_red: 0, mix_green_green: 1, mix_green_blue: 0,\n  mix_blue_red: 0, mix_blue_green: 0, mix_blue_blue: 1,\n\n  // HSL Vectors (16)\n  hue_red: 0, sat_red: 0,\n  hue_orange: 0, sat_orange: 0,\n  hue_yellow: 0, sat_yellow: 0,\n  hue_green: 0, sat_green: 0,\n  hue_cyan: 0, sat_cyan: 0,\n  hue_blue: 0, sat_blue: 0,\n  hue_magenta: 0, sat_magenta: 0,\n  hue_purple: 0, sat_purple: 0,\n\n  // Split Toning (6)\n  split_shadow_hue: 240, split_shadow_sat: 0,\n  split_mid_hue: 45, split_mid_sat: 0,\n  split_highlight_hue: 45, split_highlight_sat: 0,\n  split_balance: 0,\n\n  // Film Emulsion (10)\n  grain: 0, grain_size: 1, grain_roughness: 0.5, grain_color: 0,\n  grain_shadows: 0, grain_highlights: 0,\n  halation: 0, halation_threshold: 0.8, halation_radius: 0,\n  film_breath: 0,\n\n  // Optical Physics (12)\n  lens_distortion: 0, chromatic_aberration: 0,\n  vignette: 0, vignette_roundness: 0, vignette_feather: 0.5,\n  vignette_center_x: 0, vignette_center_y: 0,\n  bloom: 0, bloom_threshold: 0.8, bloom_radius: 0,\n  diffusion: 0, anamorphic_squeeze: 1,\n\n  // Detail & Texture (8)\n  sharpness: 0, unsharp_mask: 0, structure: 0, clarity: 0,\n  dehaze: 0, denoise: 0, denoise_chroma: 0, blur: 0, noise_gate: 0, texture: 0,\n\n  // Skin (8)\n  skin_protect: 0, skin_hue: 0, skin_sat: 0, skin_smooth: 0,\n  feature_pop: 0, eye_clarity: 0, face_warp: 0, teeth_whitening: 0,\n\n  // Transform (6)\n  crop_zoom: 0, pan_x: 0, pan_y: 0, rotate: 0,\n  perspective_x: 0, perspective_y: 0,\n\n  // Legacy (Compat)\n  tint_r: 1, tint_g: 1, tint_b: 1, sepia: 0, grayscale: 0,\n  tonal_value: 1, highlight_rolloff: 0, shadow_rolloff: 0,\n  whites: 1, blacks: 0, shadows: 0, midtones: 1, highlights: 1,\n  selective_hue: 0, selective_threshold: 40, selective_mix: 0, selective_target_sat: 0,\n  hue_vs_hue_curve: 0, hue_vs_sat_curve: 0, sat_vs_sat_curve: 0, lum_vs_sat_curve: 0,\n  lens_center_x: 0, lens_center_y: 0, polar_coordinates: 0, lip_saturation: 0, halation_hue: 0,\n  skin_smoothing: 0, blemish_removal: 0, skin_hue_legacy: 0, skin_saturation: 0,\n  \n  // New Geometry\n  geometry_y: 1\n} as LatentGrading;\n\nconst CAMERA_PROFILES = [\n  { name: 'KODAK_VISION3_500T', contrast: 1.1, saturation: 1.2, grain: 0.15, halation: 0.2, bloom: 0.1, tint: -5 },\n  { name: 'FUJI_ETERNA_250D', contrast: 0.95, saturation: 0.9, grain: 0.05, shadows: 0.02, midtones: 1.05 },\n  { name: 'CINESTILL_800T', halation: 0.6, bloom: 0.4, temperature: -20, split_shadow_hue: 210, split_shadow_sat: 0.2 },\n  { name: 'ILFORD_HP5_BW', grayscale: 1, contrast: 1.3, grain: 0.4, grain_roughness: 0.8 },\n  { name: 'BLEACH_BYPASS', saturation: 0.4, contrast: 1.5, structure: 0.5, grain: 0.2 },\n  { name: 'TEAL_ORANGE_BLOCK', split_shadow_hue: 210, split_shadow_sat: 0.5, split_highlight_hue: 35, split_highlight_sat: 0.5, split_balance: -0.2 }\n];\n\nconst GradingLab: React.FC<GradingLabProps> = ({ vault, onSave }) => {\n  const [selectedNode, setSelectedNode] = useState<VaultItem | null>(null);\n  const [grading, setGrading] = useState<LatentGrading>(INITIAL_GRADING);\n  const [customLuts, setCustomLuts] = useState<any[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [sliderPosition, setSliderPosition] = useState(50);\n  const [activeCategory, setActiveCategory] = useState<string>('MASTER');\n  const [newLutName, setNewLutName] = useState('');\n  const [showVaultPicker, setShowVaultPicker] = useState(false);\n  \n  const containerRef = useRef<HTMLDivElement>(null);\n  const uploadInputRef = useRef<HTMLInputElement>(null);\n\n  const STORAGE_KEY = 'studio_master_luts_v15_pro';\n\n  useEffect(() => {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved) setCustomLuts(JSON.parse(saved));\n  }, []);\n\n  useEffect(() => {\n    if (selectedNode) {\n      setGrading(selectedNode.grading || INITIAL_GRADING);\n    }\n  }, [selectedNode]);\n\n  const updateParam = (key: keyof LatentGrading, val: any) => {\n    setGrading(prev => ({ ...prev, [key]: val }));\n  };\n\n  const applyPreset = (preset: any) => {\n    setGrading({ ...INITIAL_GRADING, ...preset, preset_name: preset.name || preset.preset_name });\n  };\n\n  const handleSaveLut = () => {\n    if (!newLutName.trim()) return;\n    const newLut = { ...grading, name: newLutName.toUpperCase() };\n    const updated = [...customLuts, newLut];\n    setCustomLuts(updated);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));\n    setNewLutName('');\n    alert(\"LUT PROFILE REGISTERED IN KERNEL V15.\");\n  };\n\n  const handleRemoveLut = (name: string) => {\n    const updated = customLuts.filter(l => l.name !== name);\n    setCustomLuts(updated);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));\n  };\n\n  const bakeImage = (): Promise<string> => {\n    return new Promise((resolve, reject) => {\n       if (!selectedNode) return reject();\n       \n       const img = new Image();\n       img.crossOrigin = \"anonymous\";\n       img.src = selectedNode.originalImageUrl || selectedNode.imageUrl;\n       \n       img.onload = async () => {\n           const canvas = document.createElement('canvas');\n           canvas.width = img.width;\n           canvas.height = img.height;\n           \n           await applyGrading(canvas, img, grading);\n           \n           const ctx = canvas.getContext('2d');\n           if (ctx && (grading.sepia || grading.grayscale || grading.hueRotate || grading.invert || grading.blur)) {\n               const tempCanvas = document.createElement('canvas');\n               tempCanvas.width = canvas.width;\n               tempCanvas.height = canvas.height;\n               const tempCtx = tempCanvas.getContext('2d');\n               if (tempCtx) {\n                   tempCtx.drawImage(canvas, 0, 0);\n                   ctx.filter = `\n                        sepia(${grading.sepia || 0})\n                        grayscale(${grading.grayscale || 0})\n                        hue-rotate(${grading.hueRotate || 0}deg)\n                        invert(${grading.invert || 0})\n                        blur(${grading.blur || 0}px)\n                   `;\n                   ctx.clearRect(0,0,canvas.width,canvas.height);\n                   ctx.drawImage(tempCanvas, 0, 0);\n               }\n           }\n           resolve(canvas.toDataURL('image/png', 0.95));\n       };\n       img.onerror = reject;\n    });\n  };\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (ev) => {\n        const res = ev.target?.result as string;\n        setSelectedNode({\n          id: crypto.randomUUID(),\n          shortId: `UP-${Math.floor(1000 + Math.random() * 9000)}`,\n          name: 'RAW_SIGNAL',\n          imageUrl: res, originalImageUrl: res, prompt: 'Raw imported signal',\n          agentHistory: [], params: { z_anatomy: 1, z_structure: 1, z_lighting: 1, z_texture: 1, hz_range: \"Manual\", neural_metrics: { loss_mse: 0, ssim_index: 1, tensor_vram: 0, iteration_count: 0, consensus_score: 1.0 }, structural_fidelity: 1.0, scale_factor: 1.0 },\n          rating: 5, timestamp: Date.now(), usageCount: 0, neuralPreferenceScore: 50, isFavorite: true, vaultDomain: 'X',\n          grading: INITIAL_GRADING\n        });\n        setGrading(INITIAL_GRADING);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const categories = [\n    { id: 'MASTER', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4\" strokeWidth={2}/></svg>, label: 'Master' },\n    { id: 'LGG', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z\" /><path d=\"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z\" /></svg>, label: 'Wheels' },\n    { id: 'MIXER', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" strokeWidth={2}/></svg>, label: 'Mixer' },\n    { id: 'HSL', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343\" strokeWidth={2}/></svg>, label: 'HSL' },\n    { id: 'FX', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" strokeWidth={2}/></svg>, label: 'Skin/FX' },\n    { id: 'PHYSICS', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" strokeWidth={2}/><path d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" strokeWidth={2}/></svg>, label: 'Lens' },\n    { id: 'FILM', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4\" strokeWidth={2}/></svg>, label: 'Film' },\n    { id: 'LUT', icon: <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" strokeWidth={2}/></svg>, label: 'Profile' },\n  ];\n\n  return (\n    <div className=\"h-full flex flex-col bg-[#010101] overflow-hidden min-h-full\">\n      <div className=\"flex-1 flex flex-col lg:flex-row overflow-hidden relative\">\n        <div className=\"flex-1 relative flex flex-col overflow-hidden bg-black\">\n          <GradingPreview \n            selectedNode={selectedNode} \n            grading={grading} \n            sliderPosition={sliderPosition} \n            onSliderMove={(e) => {\n                if (!containerRef.current) return;\n                const r = containerRef.current.getBoundingClientRect();\n                const x = 'touches' in e ? e.touches[0].clientX : (e as React.MouseEvent).clientX;\n                setSliderPosition(Math.max(0, Math.min(100, ((x - r.left) / r.width) * 100)));\n            }} \n            containerRef={containerRef} \n            onUploadClick={() => uploadInputRef.current?.click()} \n            onOpenVault={() => setShowVaultPicker(true)}\n          />\n        </div>\n\n        <div className=\"w-full lg:w-[480px] bg-[#08080a] border-l border-white/5 flex flex-col shadow-2xl z-20 overflow-hidden relative text-zinc-100\">\n          <GradingToolbar \n            onCommit={async () => {\n                if(!selectedNode) return;\n                setIsSaving(true); \n                try { \n                    const b = await bakeImage(); \n                    await onSave({ ...selectedNode, imageUrl: b, grading }); \n                    alert(\"MASTER GRADE LOCKED.\"); \n                } catch(e){ alert(\"Render Error\"); } finally { setIsSaving(false); }\n            }} \n            onDownload={async () => { \n                try {\n                  const b = await bakeImage(); \n                  const a = document.createElement('a'); a.href = b; a.download = `Studio_Master_V15.png`; a.click(); \n                } catch(e) { alert(\"Download failed: No buffer\"); }\n            }} \n            onReset={() => setGrading(INITIAL_GRADING)} isSaving={isSaving} disabled={!selectedNode} \n          />\n\n          <GradingNavigation categories={categories} activeCategory={activeCategory} setActiveCategory={setActiveCategory} />\n          \n          <div className=\"flex-1 overflow-y-auto custom-scrollbar p-6\">\n            <GradingControls \n              activeCategory={activeCategory} \n              grading={grading} \n              updateParam={updateParam} \n              applyPreset={applyPreset} \n              filmStocks={CAMERA_PROFILES} \n              customLuts={customLuts} \n              handleSaveLut={handleSaveLut} \n              handleRemoveLut={handleRemoveLut} \n              newLutName={newLutName} \n              setNewLutName={setNewLutName} \n            />\n          </div>\n\n          <GradingQueue favoriteNodes={vault.filter(i => i.isFavorite)} selectedNodeId={selectedNode?.id} onSelectNode={setSelectedNode} />\n        </div>\n      </div>\n\n      {showVaultPicker && (\n        <div className=\"fixed inset-0 z-[1000] bg-black/98 backdrop-blur-3xl flex flex-col p-10 animate-in fade-in duration-500\">\n           <div className=\"flex justify-between items-center mb-12 max-w-7xl mx-auto w-full\">\n              <h3 className=\"text-4xl font-black text-white uppercase tracking-tighter\">Vault Engine</h3>\n              <button onClick={() => setShowVaultPicker(false)} className=\"px-10 py-4 bg-zinc-800 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-zinc-700\">Exit</button>\n           </div>\n           <div className=\"flex-1 overflow-y-auto grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-8 custom-scrollbar pb-40 max-w-7xl mx-auto w-full\">\n              {vault.map(i => (\n                <div key={i.id} onClick={() => { setSelectedNode(i); setShowVaultPicker(false); }} className=\"aspect-[3/4] bg-zinc-900 rounded-[2.5rem] overflow-hidden border border-white/5 hover:border-indigo-500 cursor-pointer transition-all group relative\">\n                   <img src={i.imageUrl} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-[3000ms]\" />\n                   <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center\">\n                      <span className=\"text-[10px] font-black text-white uppercase tracking-widest bg-indigo-600 px-6 py-2 rounded-full\">Inject Signal</span>\n                   </div>\n                </div>\n              ))}\n           </div>\n        </div>\n      )}\n      <input ref={uploadInputRef} type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleFileUpload} />\n    </div>\n  );\n};\n\nexport default GradingLab;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 13651, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/settingsLab/SettingsHeader.tsx"],"sourcesContent":["\nimport React from 'react';\n\nconst SettingsHeader: React.FC = () => {\n  return (\n    <div className=\"flex flex-col gap-2 border-b border-white/5 pb-8\">\n       <div className=\"flex items-center gap-4\">\n          <div className=\"w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center border border-white/10\">\n             <svg className=\"w-5 h-5 text-indigo-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" strokeWidth={2}/></svg>\n          </div>\n          <div>\n             <h2 className=\"text-4xl font-black text-white uppercase tracking-tighter\">Terminal Config</h2>\n             <p className=\"text-[10px] mono text-zinc-500 uppercase tracking-[0.5em]\">LCP-v13 Dynamic API Orchestration</p>\n          </div>\n       </div>\n    </div>\n  );\n};\n\nexport default SettingsHeader;\n"],"names":[],"mappings":";;;;;;AAGA,MAAM,iBAA2B;IAC/B,qBACE,8OAAC;QAAI,WAAU;kBACZ,cAAA,8OAAC;YAAI,WAAU;;8BACZ,8OAAC;oBAAI,WAAU;8BACZ,cAAA,8OAAC;wBAAI,WAAU;wBAA0B,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCAAY,cAAA,8OAAC;4BAAK,GAAE;4BAAse,aAAa;;;;;;;;;;;;;;;;8BAE7lB,8OAAC;;sCACE,8OAAC;4BAAG,WAAU;sCAA4D;;;;;;sCAC1E,8OAAC;4BAAE,WAAU;sCAA4D;;;;;;;;;;;;;;;;;;;;;;;AAKtF;uCAEe"}},
    {"offset": {"line": 13729, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/settingsLab/SettingsApiKeyItem.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { AppSettings } from '../../types';\n\ninterface SettingsApiKeyItemProps {\n  label: string;\n  icon: React.ReactNode;\n  value: string;\n  apiKey: keyof AppSettings;\n  placeholder: string;\n  onUpdate: (key: keyof AppSettings, val: string) => void;\n  isRecentUpdate: boolean;\n}\n\nconst SettingsApiKeyItem: React.FC<SettingsApiKeyItemProps> = ({ \n  label, icon, value, apiKey, placeholder, onUpdate, isRecentUpdate \n}) => {\n  return (\n    <div className=\"bg-zinc-900/40 border border-white/5 p-6 rounded-[2rem] space-y-3 transition-all hover:border-indigo-500/20 group\">\n      <div className=\"flex justify-between items-center px-1\">\n        <label className=\"text-[9px] font-black text-zinc-500 uppercase tracking-widest flex items-center gap-2\">\n          {icon}\n          {label}\n        </label>\n        {isRecentUpdate ? (\n          <span className=\"text-[7px] font-black text-emerald-500 uppercase animate-pulse\">Live Sync Active</span>\n        ) : value ? (\n          <div className=\"flex items-center gap-1\">\n             <span className=\"text-[7px] font-bold text-zinc-700 uppercase\">Vault Secured</span>\n             <svg className=\"w-3 h-3 text-emerald-500/50\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M5 13l4 4L19 7\" strokeWidth={3} /></svg>\n          </div>\n        ) : null}\n      </div>\n      <div className=\"relative\">\n        <input \n          type=\"password\"\n          value={value}\n          onChange={(e) => onUpdate(apiKey, e.target.value)}\n          placeholder={placeholder}\n          className=\"w-full bg-black/40 border border-white/5 rounded-2xl px-6 py-4 text-xs text-indigo-400 focus:outline-none focus:border-indigo-500/30 transition-all font-mono placeholder:text-zinc-800\"\n        />\n        <div className=\"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity\">\n           <svg className=\"w-4 h-4 text-zinc-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" strokeWidth={2}/></svg>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsApiKeyItem;\n"],"names":[],"mappings":";;;;;;AAcA,MAAM,qBAAwD,CAAC,EAC7D,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,cAAc,EAClE;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;;4BACd;4BACA;;;;;;;oBAEF,+BACC,8OAAC;wBAAK,WAAU;kCAAiE;;;;;mEAC/E,sBACF,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAK,WAAU;0CAA+C;;;;;;0CAC/D,8OAAC;gCAAI,WAAU;gCAA8B,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAAY,cAAA,8OAAC;oCAAK,GAAE;oCAAiB,aAAa;;;;;;;;;;;;;;;;mEAE1I;;;;;;;0BAEN,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAChD,aAAa;wBACb,WAAU;;;;;;kCAEZ,8OAAC;wBAAI,WAAU;kCACZ,cAAA,8OAAC;4BAAI,WAAU;4BAAwB,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAAY,cAAA,8OAAC;gCAAK,GAAE;gCAAuG,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKpO;uCAEe"}},
    {"offset": {"line": 13858, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/settingsLab/SettingsApiKeyGrid.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { AppSettings } from '../../types';\nimport SettingsApiKeyItem from './SettingsApiKeyItem';\n\ninterface SettingsApiKeyGridProps {\n  settings: AppSettings;\n  onUpdate: (key: keyof AppSettings, val: string) => void;\n  saveIndicator: string | null;\n}\n\nconst SettingsApiKeyGrid: React.FC<SettingsApiKeyGridProps> = ({ settings, onUpdate, saveIndicator }) => {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n      <SettingsApiKeyItem \n        label=\"Google / Gemini API\" \n        apiKey=\"googleApiKey\" \n        value={settings.googleApiKey}\n        placeholder=\"AI Studio API Key...\"\n        onUpdate={onUpdate}\n        isRecentUpdate={saveIndicator === 'googleApiKey'}\n        icon={<div className=\"w-1.5 h-1.5 bg-indigo-500 rounded-full\" />}\n      />\n      <SettingsApiKeyItem \n        label=\"Pexels API\" \n        apiKey=\"pexelsApiKey\" \n        value={settings.pexelsApiKey}\n        placeholder=\"Pexels Key for Scout...\"\n        onUpdate={onUpdate}\n        isRecentUpdate={saveIndicator === 'pexelsApiKey'}\n        icon={<div className=\"w-1.5 h-1.5 bg-emerald-500 rounded-full\" />}\n      />\n      <SettingsApiKeyItem \n        label=\"Unsplash Access Key\" \n        apiKey=\"unsplashAccessKey\" \n        value={settings.unsplashAccessKey}\n        placeholder=\"Unsplash Source...\"\n        onUpdate={onUpdate}\n        isRecentUpdate={saveIndicator === 'unsplashAccessKey'}\n        icon={<div className=\"w-1.5 h-1.5 bg-pink-500 rounded-full\" />}\n      />\n      <SettingsApiKeyItem \n        label=\"Pixabay API\" \n        apiKey=\"pixabayApiKey\" \n        value={settings.pixabayApiKey}\n        placeholder=\"Pixabay Logic...\"\n        onUpdate={onUpdate}\n        isRecentUpdate={saveIndicator === 'pixabayApiKey'}\n        icon={<div className=\"w-1.5 h-1.5 bg-amber-500 rounded-full\" />}\n      />\n    </div>\n  );\n};\n\nexport default SettingsApiKeyGrid;\n"],"names":[],"mappings":";;;;;AAGA;;;AAQA,MAAM,qBAAwD,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,EAAE;IAClG,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,2JAAkB;gBACjB,OAAM;gBACN,QAAO;gBACP,OAAO,SAAS,YAAY;gBAC5B,aAAY;gBACZ,UAAU;gBACV,gBAAgB,kBAAkB;gBAClC,oBAAM,8OAAC;oBAAI,WAAU;;;;;;;;;;;0BAEvB,8OAAC,2JAAkB;gBACjB,OAAM;gBACN,QAAO;gBACP,OAAO,SAAS,YAAY;gBAC5B,aAAY;gBACZ,UAAU;gBACV,gBAAgB,kBAAkB;gBAClC,oBAAM,8OAAC;oBAAI,WAAU;;;;;;;;;;;0BAEvB,8OAAC,2JAAkB;gBACjB,OAAM;gBACN,QAAO;gBACP,OAAO,SAAS,iBAAiB;gBACjC,aAAY;gBACZ,UAAU;gBACV,gBAAgB,kBAAkB;gBAClC,oBAAM,8OAAC;oBAAI,WAAU;;;;;;;;;;;0BAEvB,8OAAC,2JAAkB;gBACjB,OAAM;gBACN,QAAO;gBACP,OAAO,SAAS,aAAa;gBAC7B,aAAY;gBACZ,UAAU;gBACV,gBAAgB,kBAAkB;gBAClC,oBAAM,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAI7B;uCAEe"}},
    {"offset": {"line": 13958, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/settingsLab/SettingsPersistencePanel.tsx"],"sourcesContent":["\nimport React from 'react';\n\nconst SettingsPersistencePanel: React.FC = () => {\n  return (\n    <div className=\"bg-indigo-600/5 border border-indigo-500/10 p-8 rounded-[3rem] space-y-4 relative overflow-hidden group\">\n       <div className=\"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity\">\n          <svg className=\"w-32 h-32\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"/></svg>\n       </div>\n       <h3 className=\"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2\">\n          <span className=\"w-2 h-2 bg-indigo-500 rounded-full animate-pulse\" />\n          Protocolo de Persistência Local\n       </h3>\n       <p className=\"text-xs text-zinc-500 leading-relaxed uppercase max-w-2xl\">\n         As chaves inseridas acima são persistidas exclusivamente no **IndexedDB** do seu navegador. \n         O sistema prioriza estas chaves para todas as operações do Nexus Creation Hub e do Visual Scout. \n         Se um campo estiver vazio, o Kernel utilizará as chaves padrão injetadas via environment variables.\n       </p>\n       <div className=\"pt-4 flex gap-6\">\n          <div className=\"flex flex-col\">\n             <span className=\"text-[7px] font-black text-zinc-700 uppercase\">Encryption</span>\n             <span className=\"text-[9px] font-bold text-zinc-500 uppercase\">AES-256 Buffer</span>\n          </div>\n          <div className=\"flex flex-col\">\n             <span className=\"text-[7px] font-black text-zinc-700 uppercase\">Storage Mode</span>\n             <span className=\"text-[9px] font-bold text-zinc-500 uppercase\">Browser Native</span>\n          </div>\n       </div>\n    </div>\n  );\n};\n\nexport default SettingsPersistencePanel;\n"],"names":[],"mappings":";;;;;;AAGA,MAAM,2BAAqC;IACzC,qBACE,8OAAC;QAAI,WAAU;;0BACZ,8OAAC;gBAAI,WAAU;0BACZ,cAAA,8OAAC;oBAAI,WAAU;oBAAY,MAAK;oBAAe,SAAQ;8BAAY,cAAA,8OAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;0BAE9E,8OAAC;gBAAG,WAAU;;kCACX,8OAAC;wBAAK,WAAU;;;;;;oBAAqD;;;;;;;0BAGxE,8OAAC;gBAAE,WAAU;0BAA4D;;;;;;0BAKzE,8OAAC;gBAAI,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAK,WAAU;0CAAgD;;;;;;0CAChE,8OAAC;gCAAK,WAAU;0CAA+C;;;;;;;;;;;;kCAElE,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAK,WAAU;0CAAgD;;;;;;0CAChE,8OAAC;gCAAK,WAAU;0CAA+C;;;;;;;;;;;;;;;;;;;;;;;;AAK5E;uCAEe"}},
    {"offset": {"line": 14087, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/settings/SettingsLab.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { AppSettings } from '../../types';\n\n// Subcomponents\nimport SettingsHeader from '../settingsLab/SettingsHeader';\nimport SettingsApiKeyGrid from '../settingsLab/SettingsApiKeyGrid';\nimport SettingsPersistencePanel from '../settingsLab/SettingsPersistencePanel';\n\ninterface SettingsLabProps {\n  settings: AppSettings;\n  setSettings: (s: AppSettings) => void;\n}\n\nconst SettingsLab: React.FC<SettingsLabProps> = ({ settings, setSettings }) => {\n  const [localSettings, setLocalSettings] = useState<AppSettings>(settings);\n  const [saveIndicator, setSaveIndicator] = useState<string | null>(null);\n\n  const handleUpdate = (key: keyof AppSettings, value: string) => {\n    const next = { ...localSettings, [key]: value };\n    setLocalSettings(next);\n    setSettings(next);\n    \n    setSaveIndicator(key);\n    setTimeout(() => setSaveIndicator(null), 2000);\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-[#050505] overflow-y-auto custom-scrollbar p-6 lg:p-12 pb-32\">\n      <div className=\"max-w-4xl mx-auto w-full space-y-12\">\n        <SettingsHeader />\n\n        <SettingsApiKeyGrid \n          settings={localSettings} \n          onUpdate={handleUpdate} \n          saveIndicator={saveIndicator} \n        />\n\n        <SettingsPersistencePanel />\n\n        <div className=\"pt-8 text-center border-t border-white/5\">\n           <p className=\"text-[8px] mono text-zinc-700 uppercase tracking-widest font-black\">\n              Kernel Status: V13 Industrial - No Restart Required\n           </p>\n           <div className=\"flex justify-center gap-4 mt-4\">\n              <div className=\"h-1 w-12 bg-indigo-500/20 rounded-full overflow-hidden\">\n                 <div className=\"h-full bg-indigo-500 animate-pulse\" style={{ width: '100%' }} />\n              </div>\n           </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsLab;\n"],"names":[],"mappings":";;;;;AACA;AAGA,gBAAgB;AAChB;AACA;AACA;;;;;;AAOA,MAAM,cAA0C,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE;IACxE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAc;IAChE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAElE,MAAM,eAAe,CAAC,KAAwB;QAC5C,MAAM,OAAO;YAAE,GAAG,aAAa;YAAE,CAAC,IAAI,EAAE;QAAM;QAC9C,iBAAiB;QACjB,YAAY;QAEZ,iBAAiB;QACjB,WAAW,IAAM,iBAAiB,OAAO;IAC3C;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uJAAc;;;;;8BAEf,8OAAC,2JAAkB;oBACjB,UAAU;oBACV,UAAU;oBACV,eAAe;;;;;;8BAGjB,8OAAC,iKAAwB;;;;;8BAEzB,8OAAC;oBAAI,WAAU;;sCACZ,8OAAC;4BAAE,WAAU;sCAAqE;;;;;;sCAGlF,8OAAC;4BAAI,WAAU;sCACZ,cAAA,8OAAC;gCAAI,WAAU;0CACZ,cAAA,8OAAC;oCAAI,WAAU;oCAAqC,OAAO;wCAAE,OAAO;oCAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5F;uCAEe"}},
    {"offset": {"line": 14197, "column": 0}, "map": {"version":3,"sources":["file:///home/user/Venus-0.8/components/docs/DocsLab.tsx"],"sourcesContent":["\nimport React from 'react';\n\nconst DocsLab: React.FC = () => {\n  const sections = [\n    { title: \"1. The Venus Pipeline\", content: \"Venus is a multi-agent latent space orchestrator using Gemini 3 intelligence.\" },\n    { title: \"2. DNA Components\", content: \"PEP (Identity), POP (Pose), POV (Lens), AMB (Ambient).\" },\n    { title: \"3. Fusion Reactor\", content: \"Advanced identity migration system for consistency.\" }\n  ];\n\n  return (\n    <div className=\"min-h-full bg-[#050505] p-6 md:p-16 overflow-y-auto flex flex-col items-center\">\n      <div className=\"max-w-4xl w-full space-y-16\">\n        <header className=\"space-y-4 border-b border-white/5 pb-12\">\n           <h2 className=\"text-5xl font-black text-white uppercase tracking-tighter\">Venus Protocol</h2>\n           <p className=\"text-indigo-400 font-black uppercase tracking-[0.4em] text-xs\">V2.0 Industrial Documentation</p>\n        </header>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\n          {sections.map((sec, i) => (\n            <div key={i} className=\"space-y-4 p-8 bg-zinc-900/20 border border-white/5 rounded-[2.5rem]\">\n               <h3 className=\"text-lg font-black text-white uppercase tracking-tight\">{sec.title}</h3>\n               <p className=\"text-zinc-500 text-xs mono\">{sec.content}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocsLab;\n"],"names":[],"mappings":";;;;;;AAGA,MAAM,UAAoB;IACxB,MAAM,WAAW;QACf;YAAE,OAAO;YAAyB,SAAS;QAAgF;QAC3H;YAAE,OAAO;YAAqB,SAAS;QAAyD;QAChG;YAAE,OAAO;YAAqB,SAAS;QAAsD;KAC9F;IAED,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAO,WAAU;;sCACf,8OAAC;4BAAG,WAAU;sCAA4D;;;;;;sCAC1E,8OAAC;4BAAE,WAAU;sCAAgE;;;;;;;;;;;;8BAEhF,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,KAAK,kBAClB,8OAAC;4BAAY,WAAU;;8CACpB,8OAAC;oCAAG,WAAU;8CAA0D,IAAI,KAAK;;;;;;8CACjF,8OAAC;oCAAE,WAAU;8CAA8B,IAAI,OAAO;;;;;;;2BAF/C;;;;;;;;;;;;;;;;;;;;;AAStB;uCAEe"}}]
}